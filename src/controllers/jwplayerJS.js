export const jwplayerBase64 =
  'KCgpID0+IHsgdmFyIGUsIHQsIG4sIHIsIHUsIGksIG8gPSB7IDEyMTkoZSkgeyBlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7ICJ1c2Ugc3RyaWN0IjsgZnVuY3Rpb24gZShlLCB0KSB7IHJldHVybiBlKHQgPSB7IGV4cG9ydHM6IHt9IH0sIHQuZXhwb3J0cyksIHQuZXhwb3J0cyB9IHZhciB0LCBuLCByLCB1LCBpLCBvLCBhLCBzLCBjLCBsLCBmLCBkLCBoLCBwLCBEID0gZShmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGUuZXhwb3J0cyA9ICJ1IiA+IHR5cGVvZiB3aW5kb3cgJiYgd2luZG93Lk1hdGggPT0gTWF0aCA/IHdpbmRvdyA6ICJ1IiA+IHR5cGVvZiBzZWxmICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZiA6IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7ICJudW1iZXIiID09IHR5cGVvZiBfX2cgJiYgKF9fZyA9IHQpIH0pLCB2ID0gZShmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGUuZXhwb3J0cyA9IHsgdmVyc2lvbjogIjIuNi41IiB9OyAibnVtYmVyIiA9PSB0eXBlb2YgX19lICYmIChfX2UgPSB0KSB9KTsgdi52ZXJzaW9uOyB2YXIgZyA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiAib2JqZWN0IiA9PSB0eXBlb2YgZSA/IG51bGwgIT09IGUgOiAiZnVuY3Rpb24iID09IHR5cGVvZiBlIH0sIG0gPSBmdW5jdGlvbiAoZSkgeyBpZiAoIWcoZSkpIHRocm93IFR5cGVFcnJvcihlICsgIiBpcyBub3QgYW4gb2JqZWN0ISIpOyByZXR1cm4gZSB9LCB5ID0gZnVuY3Rpb24gKGUpIHsgdHJ5IHsgcmV0dXJuICEhZSgpIH0gY2F0Y2ggKGUpIHsgcmV0dXJuICEwIH0gfSwgQSA9ICF5KGZ1bmN0aW9uICgpIHsgcmV0dXJuIDcgIT0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAiYSIsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3IH0gfSkuYSB9KSwgRiA9IEQuZG9jdW1lbnQsIEMgPSBnKEYpICYmIGcoRi5jcmVhdGVFbGVtZW50KSwgRSA9ICFBICYmICF5KGZ1bmN0aW9uICgpIHsgcmV0dXJuIDcgIT0gT2JqZWN0LmRlZmluZVByb3BlcnR5KEMgPyBGLmNyZWF0ZUVsZW1lbnQoImRpdiIpIDoge30sICJhIiwgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDcgfSB9KS5hIH0pLCBiID0gZnVuY3Rpb24gKGUsIHQpIHsgdmFyIG4sIHI7IGlmICghZyhlKSkgcmV0dXJuIGU7IGlmICh0ICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIChuID0gZS50b1N0cmluZykgJiYgIWcociA9IG4uY2FsbChlKSkgfHwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgKG4gPSBlLnZhbHVlT2YpICYmICFnKHIgPSBuLmNhbGwoZSkpIHx8ICF0ICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIChuID0gZS50b1N0cmluZykgJiYgIWcociA9IG4uY2FsbChlKSkpIHJldHVybiByOyB0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpIH0sIHcgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIEIgPSBBID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gKGUsIHQsIG4pIHsgaWYgKG0oZSksIHQgPSBiKHQsICEwKSwgbShuKSwgRSkgdHJ5IHsgcmV0dXJuIHcoZSwgdCwgbikgfSBjYXRjaCAoZSkgeyB9IGlmICgiZ2V0IiBpbiBuIHx8ICJzZXQiIGluIG4pIHRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7IHJldHVybiAidmFsdWUiIGluIG4gJiYgKGVbdF0gPSBuLnZhbHVlKSwgZSB9LCBrID0gQSA/IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHJldHVybiBCKGUsIHQsIHsgZW51bWVyYWJsZTogITEsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWU6IG4gfSkgfSA6IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHJldHVybiBlW3RdID0gbiwgZSB9LCBfID0ge30uaGFzT3duUHJvcGVydHksIGogPSBmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gXy5jYWxsKGUsIHQpIH0sIFAgPSAwLCBPID0gTWF0aC5yYW5kb20oKSwgUyA9IGUoZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSAiX19jb3JlLWpzX3NoYXJlZF9fIiwgbiA9IERbdF0gfHwgKERbdF0gPSB7fSk7IChlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gbltlXSB8fCAobltlXSA9IHZvaWQgMCAhPT0gdCA/IHQgOiB7fSkgfSkoInZlcnNpb25zIiwgW10pLnB1c2goeyB2ZXJzaW9uOiB2LnZlcnNpb24sIG1vZGU6ICJnbG9iYWwiLCBjb3B5cmlnaHQ6ICJceGE5IDIwMTkgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSkiIH0pIH0pKCJuYXRpdmUtZnVuY3Rpb24tdG8tc3RyaW5nIiwgRnVuY3Rpb24udG9TdHJpbmcpLCB4ID0gZShmdW5jdGlvbiAoZSkgeyB2YXIgdCA9ICJTeW1ib2woIi5jb25jYXQoInNyYyIsICIpXyIsICgrK1AgKyBPKS50b1N0cmluZygzNikpLCBuID0gInRvU3RyaW5nIiwgciA9ICgiIiArIFMpLnNwbGl0KG4pOyB2Lmluc3BlY3RTb3VyY2UgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gUy5jYWxsKGUpIH0sIChlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZSwgbiwgdSwgaSkgeyB2YXIgbyA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIHU7IG8gJiYgKGoodSwgIm5hbWUiKSB8fCBrKHUsICJuYW1lIiwgbikpLCBlW25dICE9PSB1ICYmIChvICYmIChqKHUsIHQpIHx8IGsodSwgdCwgZVtuXSA/ICIiICsgZVtuXSA6IHIuam9pbihTdHJpbmcobikpKSksIGUgPT09IEQgPyBlW25dID0gdSA6IGkgPyBlW25dID8gZVtuXSA9IHUgOiBrKGUsIG4sIHUpIDogKGRlbGV0ZSBlW25dLCBrKGUsIG4sIHUpKSkgfSkoRnVuY3Rpb24ucHJvdG90eXBlLCBuLCBmdW5jdGlvbiAoKSB7IHJldHVybiAiZnVuY3Rpb24iID09IHR5cGVvZiB0aGlzICYmIHRoaXNbdF0gfHwgUy5jYWxsKHRoaXMpIH0pIH0pLCBUID0gZnVuY3Rpb24gKGUpIHsgaWYgKCJmdW5jdGlvbiIgIT0gdHlwZW9mIGUpIHRocm93IFR5cGVFcnJvcihlICsgIiBpcyBub3QgYSBmdW5jdGlvbiEiKTsgcmV0dXJuIGUgfSwgSSA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7IGlmIChUKGUpLCB2b2lkIDAgPT09IHQpIHJldHVybiBlOyBzd2l0Y2ggKG4pIHsgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIGUuY2FsbCh0LCBuKSB9OyBjYXNlIDI6IHJldHVybiBmdW5jdGlvbiAobiwgcikgeyByZXR1cm4gZS5jYWxsKHQsIG4sIHIpIH07IGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uIChuLCByLCB1KSB7IHJldHVybiBlLmNhbGwodCwgbiwgciwgdSkgfSB9cmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGUuYXBwbHkodCwgYXJndW1lbnRzKSB9IH0sIE4gPSAicHJvdG90eXBlIiwgTCA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHZhciByLCB1LCBpLCBvLCBhID0gZSAmIEwuRiwgcyA9IGUgJiBMLkcsIGMgPSBlICYgTC5TLCBsID0gZSAmIEwuUCwgZiA9IGUgJiBMLkIsIGQgPSBzID8gRCA6IGMgPyBEW3RdIHx8IChEW3RdID0ge30pIDogKERbdF0gfHwge30pW05dLCBoID0gcyA/IHYgOiB2W3RdIHx8ICh2W3RdID0ge30pLCBwID0gaFtOXSB8fCAoaFtOXSA9IHt9KTsgZm9yIChyIGluIHMgJiYgKG4gPSB0KSwgbikgaSA9ICgodSA9ICFhICYmIGQgJiYgdm9pZCAwICE9PSBkW3JdKSA/IGQgOiBuKVtyXSwgbyA9IGYgJiYgdSA/IEkoaSwgRCkgOiBsICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIGkgPyBJKEZ1bmN0aW9uLmNhbGwsIGkpIDogaSwgZCAmJiB4KGQsIHIsIGksIGUgJiBMLlUpLCBoW3JdICE9IGkgJiYgayhoLCByLCBvKSwgbCAmJiBwW3JdICE9IGkgJiYgKHBbcl0gPSBpKSB9OyBELmNvcmUgPSB2LCBMLkYgPSAxLCBMLkcgPSAyLCBMLlMgPSA0LCBMLlAgPSA4LCBMLkIgPSAxNiwgTC5XID0gMzIsIEwuVSA9IDY0LCBMLlIgPSAxMjg7IHZhciBNID0gTWF0aC5jZWlsLCBSID0gTWF0aC5mbG9vciwgViA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBpc05hTihlICo9IDEpID8gMCA6IChlID4gMCA/IFIgOiBNKShlKSB9LCBVID0gZnVuY3Rpb24gKGUpIHsgaWYgKHZvaWQgMCA9PSBlKSB0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICAiICsgZSk7IHJldHVybiBlIH0sIHogPSBmdW5jdGlvbiAoZSwgdCkgeyB2YXIgbiwgciwgdSA9IFN0cmluZyhVKGUpKSwgaSA9IFYodCksIG8gPSB1Lmxlbmd0aDsgcmV0dXJuIGkgPCAwIHx8IGkgPj0gbyA/IHZvaWQgMCA6IChuID0gdS5jaGFyQ29kZUF0KGkpKSA8IDU1Mjk2IHx8IG4gPiA1NjMxOSB8fCBpICsgMSA9PT0gbyB8fCAociA9IHUuY2hhckNvZGVBdChpICsgMSkpIDwgNTYzMjAgfHwgciA+IDU3MzQzID8gbiA6IChuIC0gNTUyOTYgPDwgMTApICsgKHIgLSA1NjMyMCkgKyA2NTUzNiB9OyBMKEwuUCwgIlN0cmluZyIsIHsgY29kZVBvaW50QXQ6IGZ1bmN0aW9uIChlKSB7IHJldHVybiB6KHRoaXMsIGUpIH0gfSksIHYuU3RyaW5nLmNvZGVQb2ludEF0OyB2YXIgSCA9IE1hdGgubWF4LCAkID0gTWF0aC5taW4sIHEgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLCBRID0gU3RyaW5nLmZyb21Db2RlUG9pbnQ7IEwoTC5TICsgTC5GICogKCEhUSAmJiAxICE9IFEubGVuZ3RoKSwgIlN0cmluZyIsIHsgZnJvbUNvZGVQb2ludDogZnVuY3Rpb24gKGUpIHsgZm9yICh2YXIgdCwgbiwgciA9IGFyZ3VtZW50cywgdSA9IFtdLCBpID0gYXJndW1lbnRzLmxlbmd0aCwgbyA9IDA7IGkgPiBvOykgeyBpZiAoKCh0ID0gVih0ID0gbiA9ICtyW28rK10pKSA8IDAgPyBIKHQgKyAxMTE0MTExLCAwKSA6ICQodCwgMTExNDExMSkpICE9PSBuKSB0aHJvdyBSYW5nZUVycm9yKG4gKyAiIGlzIG5vdCBhIHZhbGlkIGNvZGUgcG9pbnQiKTsgdS5wdXNoKG4gPCA2NTUzNiA/IHEobikgOiBxKCgobiAtPSA2NTUzNikgPj4gMTApICsgNTUyOTYsIG4gJSAxMDI0ICsgNTYzMjApKSB9IHJldHVybiB1LmpvaW4oIiIpIH0gfSksIHYuU3RyaW5nLmZyb21Db2RlUG9pbnQ7IHZhciBZID0gL1tcdTE2ODBcdTIwMDAtXHUyMDBBXHUyMDJGXHUyMDVGXHUzMDAwXS8sIFcgPSAvW1x4QUFceEI1XHhCQVx4QzAtXHhENlx4RDgtXHhGNlx4RjgtXHUwMkMxXHUwMkM2LVx1MDJEMVx1MDJFMC1cdTAyRTRcdTAyRUNcdTAyRUVcdTAzNzAtXHUwMzc0XHUwMzc2XHUwMzc3XHUwMzdBLVx1MDM3RFx1MDM3Rlx1MDM4Nlx1MDM4OC1cdTAzOEFcdTAzOENcdTAzOEUtXHUwM0ExXHUwM0EzLVx1MDNGNVx1MDNGNy1cdTA0ODFcdTA0OEEtXHUwNTJGXHUwNTMxLVx1MDU1Nlx1MDU1OVx1MDU2MS1cdTA1ODdcdTA1RDAtXHUwNUVBXHUwNUYwLVx1MDVGMlx1MDYyMC1cdTA2NEFcdTA2NkVcdTA2NkZcdTA2NzEtXHUwNkQzXHUwNkQ1XHUwNkU1XHUwNkU2XHUwNkVFXHUwNkVGXHUwNkZBLVx1MDZGQ1x1MDZGRlx1MDcxMFx1MDcxMi1cdTA3MkZcdTA3NEQtXHUwN0E1XHUwN0IxXHUwN0NBLVx1MDdFQVx1MDdGNFx1MDdGNVx1MDdGQVx1MDgwMC1cdTA4MTVcdTA4MUFcdTA4MjRcdTA4MjhcdTA4NDAtXHUwODU4XHUwODYwLVx1MDg2QVx1MDhBMC1cdTA4QjRcdTA4QjYtXHUwOEJEXHUwOTA0LVx1MDkzOVx1MDkzRFx1MDk1MFx1MDk1OC1cdTA5NjFcdTA5NzEtXHUwOTgwXHUwOTg1LVx1MDk4Q1x1MDk4Rlx1MDk5MFx1MDk5My1cdTA5QThcdTA5QUEtXHUwOUIwXHUwOUIyXHUwOUI2LVx1MDlCOVx1MDlCRFx1MDlDRVx1MDlEQ1x1MDlERFx1MDlERi1cdTA5RTFcdTA5RjBcdTA5RjFcdTA5RkNcdTBBMDUtXHUwQTBBXHUwQTBGXHUwQTEwXHUwQTEzLVx1MEEyOFx1MEEyQS1cdTBBMzBcdTBBMzJcdTBBMzNcdTBBMzVcdTBBMzZcdTBBMzhcdTBBMzlcdTBBNTktXHUwQTVDXHUwQTVFXHUwQTcyLVx1MEE3NFx1MEE4NS1cdTBBOERcdTBBOEYtXHUwQTkxXHUwQTkzLVx1MEFBOFx1MEFBQS1cdTBBQjBcdTBBQjJcdTBBQjNcdTBBQjUtXHUwQUI5XHUwQUJEXHUwQUQwXHUwQUUwXHUwQUUxXHUwQUY5XHUwQjA1LVx1MEIwQ1x1MEIwRlx1MEIxMFx1MEIxMy1cdTBCMjhcdTBCMkEtXHUwQjMwXHUwQjMyXHUwQjMzXHUwQjM1LVx1MEIzOVx1MEIzRFx1MEI1Q1x1MEI1RFx1MEI1Ri1cdTBCNjFcdTBCNzFcdTBCODNcdTBCODUtXHUwQjhBXHUwQjhFLVx1MEI5MFx1MEI5Mi1cdTBCOTVcdTBCOTlcdTBCOUFcdTBCOUNcdTBCOUVcdTBCOUZcdTBCQTNcdTBCQTRcdTBCQTgtXHUwQkFBXHUwQkFFLVx1MEJCOVx1MEJEMFx1MEMwNS1cdTBDMENcdTBDMEUtXHUwQzEwXHUwQzEyLVx1MEMyOFx1MEMyQS1cdTBDMzlcdTBDM0RcdTBDNTgtXHUwQzVBXHUwQzYwXHUwQzYxXHUwQzgwXHUwQzg1LVx1MEM4Q1x1MEM4RS1cdTBDOTBcdTBDOTItXHUwQ0E4XHUwQ0FBLVx1MENCM1x1MENCNS1cdTBDQjlcdTBDQkRcdTBDREVcdTBDRTBcdTBDRTFcdTBDRjFcdTBDRjJcdTBEMDUtXHUwRDBDXHUwRDBFLVx1MEQxMFx1MEQxMi1cdTBEM0FcdTBEM0RcdTBENEVcdTBENTQtXHUwRDU2XHUwRDVGLVx1MEQ2MVx1MEQ3QS1cdTBEN0ZcdTBEODUtXHUwRDk2XHUwRDlBLVx1MERCMVx1MERCMy1cdTBEQkJcdTBEQkRcdTBEQzAtXHUwREM2XHUwRTAxLVx1MEUzMFx1MEUzMlx1MEUzM1x1MEU0MC1cdTBFNDZcdTBFODFcdTBFODJcdTBFODRcdTBFODdcdTBFODhcdTBFOEFcdTBFOERcdTBFOTQtXHUwRTk3XHUwRTk5LVx1MEU5Rlx1MEVBMS1cdTBFQTNcdTBFQTVcdTBFQTdcdTBFQUFcdTBFQUJcdTBFQUQtXHUwRUIwXHUwRUIyXHUwRUIzXHUwRUJEXHUwRUMwLVx1MEVDNFx1MEVDNlx1MEVEQy1cdTBFREZcdTBGMDBcdTBGNDAtXHUwRjQ3XHUwRjQ5LVx1MEY2Q1x1MEY4OC1cdTBGOENcdTEwMDAtXHUxMDJBXHUxMDNGXHUxMDUwLVx1MTA1NVx1MTA1QS1cdTEwNURcdTEwNjFcdTEwNjVcdTEwNjZcdTEwNkUtXHUxMDcwXHUxMDc1LVx1MTA4MVx1MTA4RVx1MTBBMC1cdTEwQzVcdTEwQzdcdTEwQ0RcdTEwRDAtXHUxMEZBXHUxMEZDLVx1MTI0OFx1MTI0QS1cdTEyNERcdTEyNTAtXHUxMjU2XHUxMjU4XHUxMjVBLVx1MTI1RFx1MTI2MC1cdTEyODhcdTEyOEEtXHUxMjhEXHUxMjkwLVx1MTJCMFx1MTJCMi1cdTEyQjVcdTEyQjgtXHUxMkJFXHUxMkMwXHUxMkMyLVx1MTJDNVx1MTJDOC1cdTEyRDZcdTEyRDgtXHUxMzEwXHUxMzEyLVx1MTMxNVx1MTMxOC1cdTEzNUFcdTEzODAtXHUxMzhGXHUxM0EwLVx1MTNGNVx1MTNGOC1cdTEzRkRcdTE0MDEtXHUxNjZDXHUxNjZGLVx1MTY3Rlx1MTY4MS1cdTE2OUFcdTE2QTAtXHUxNkVBXHUxNkVFLVx1MTZGOFx1MTcwMC1cdTE3MENcdTE3MEUtXHUxNzExXHUxNzIwLVx1MTczMVx1MTc0MC1cdTE3NTFcdTE3NjAtXHUxNzZDXHUxNzZFLVx1MTc3MFx1MTc4MC1cdTE3QjNcdTE3RDdcdTE3RENcdTE4MjAtXHUxODc3XHUxODgwLVx1MTg4NFx1MTg4Ny1cdTE4QThcdTE4QUFcdTE4QjAtXHUxOEY1XHUxOTAwLVx1MTkxRVx1MTk1MC1cdTE5NkRcdTE5NzAtXHUxOTc0XHUxOTgwLVx1MTlBQlx1MTlCMC1cdTE5QzlcdTFBMDAtXHUxQTE2XHUxQTIwLVx1MUE1NFx1MUFBN1x1MUIwNS1cdTFCMzNcdTFCNDUtXHUxQjRCXHUxQjgzLVx1MUJBMFx1MUJBRVx1MUJBRlx1MUJCQS1cdTFCRTVcdTFDMDAtXHUxQzIzXHUxQzRELVx1MUM0Rlx1MUM1QS1cdTFDN0RcdTFDODAtXHUxQzg4XHUxQ0U5LVx1MUNFQ1x1MUNFRS1cdTFDRjFcdTFDRjVcdTFDRjZcdTFEMDAtXHUxREJGXHUxRTAwLVx1MUYxNVx1MUYxOC1cdTFGMURcdTFGMjAtXHUxRjQ1XHUxRjQ4LVx1MUY0RFx1MUY1MC1cdTFGNTdcdTFGNTlcdTFGNUJcdTFGNURcdTFGNUYtXHUxRjdEXHUxRjgwLVx1MUZCNFx1MUZCNi1cdTFGQkNcdTFGQkVcdTFGQzItXHUxRkM0XHUxRkM2LVx1MUZDQ1x1MUZEMC1cdTFGRDNcdTFGRDYtXHUxRkRCXHUxRkUwLVx1MUZFQ1x1MUZGMi1cdTFGRjRcdTFGRjYtXHUxRkZDXHUyMDcxXHUyMDdGXHUyMDkwLVx1MjA5Q1x1MjEwMlx1MjEwN1x1MjEwQS1cdTIxMTNcdTIxMTVcdTIxMTktXHUyMTFEXHUyMTI0XHUyMTI2XHUyMTI4XHUyMTJBLVx1MjEyRFx1MjEyRi1cdTIxMzlcdTIxM0MtXHUyMTNGXHUyMTQ1LVx1MjE0OVx1MjE0RVx1MjE2MC1cdTIxODhcdTJDMDAtXHUyQzJFXHUyQzMwLVx1MkM1RVx1MkM2MC1cdTJDRTRcdTJDRUItXHUyQ0VFXHUyQ0YyXHUyQ0YzXHUyRDAwLVx1MkQyNVx1MkQyN1x1MkQyRFx1MkQzMC1cdTJENjdcdTJENkZcdTJEODAtXHUyRDk2XHUyREEwLVx1MkRBNlx1MkRBOC1cdTJEQUVcdTJEQjAtXHUyREI2XHUyREI4LVx1MkRCRVx1MkRDMC1cdTJEQzZcdTJEQzgtXHUyRENFXHUyREQwLVx1MkRENlx1MkREOC1cdTJEREVcdTJFMkZcdTMwMDUtXHUzMDA3XHUzMDIxLVx1MzAyOVx1MzAzMS1cdTMwMzVcdTMwMzgtXHUzMDNDXHUzMDQxLVx1MzA5Nlx1MzA5RC1cdTMwOUZcdTMwQTEtXHUzMEZBXHUzMEZDLVx1MzBGRlx1MzEwNS1cdTMxMkVcdTMxMzEtXHUzMThFXHUzMUEwLVx1MzFCQVx1MzFGMC1cdTMxRkZcdTM0MDAtXHU0REI1XHU0RTAwLVx1OUZFQVx1QTAwMC1cdUE0OENcdUE0RDAtXHVBNEZEXHVBNTAwLVx1QTYwQ1x1QTYxMC1cdUE2MUZcdUE2MkFcdUE2MkJcdUE2NDAtXHVBNjZFXHVBNjdGLVx1QTY5RFx1QTZBMC1cdUE2RUZcdUE3MTctXHVBNzFGXHVBNzIyLVx1QTc4OFx1QTc4Qi1cdUE3QUVcdUE3QjAtXHVBN0I3XHVBN0Y3LVx1QTgwMVx1QTgwMy1cdUE4MDVcdUE4MDctXHVBODBBXHVBODBDLVx1QTgyMlx1QTg0MC1cdUE4NzNcdUE4ODItXHVBOEIzXHVBOEYyLVx1QThGN1x1QThGQlx1QThGRFx1QTkwQS1cdUE5MjVcdUE5MzAtXHVBOTQ2XHVBOTYwLVx1QTk3Q1x1QTk4NC1cdUE5QjJcdUE5Q0ZcdUE5RTAtXHVBOUU0XHVBOUU2LVx1QTlFRlx1QTlGQS1cdUE5RkVcdUFBMDAtXHVBQTI4XHVBQTQwLVx1QUE0Mlx1QUE0NC1cdUFBNEJcdUFBNjAtXHVBQTc2XHVBQTdBXHVBQTdFLVx1QUFBRlx1QUFCMVx1QUFCNVx1QUFCNlx1QUFCOS1cdUFBQkRcdUFBQzBcdUFBQzJcdUFBREItXHVBQUREXHVBQUUwLVx1QUFFQVx1QUFGMi1cdUFBRjRcdUFCMDEtXHVBQjA2XHVBQjA5LVx1QUIwRVx1QUIxMS1cdUFCMTZcdUFCMjAtXHVBQjI2XHVBQjI4LVx1QUIyRVx1QUIzMC1cdUFCNUFcdUFCNUMtXHVBQjY1XHVBQjcwLVx1QUJFMlx1QUMwMC1cdUQ3QTNcdUQ3QjAtXHVEN0M2XHVEN0NCLVx1RDdGQlx1RjkwMC1cdUZBNkRcdUZBNzAtXHVGQUQ5XHVGQjAwLVx1RkIwNlx1RkIxMy1cdUZCMTdcdUZCMURcdUZCMUYtXHVGQjI4XHVGQjJBLVx1RkIzNlx1RkIzOC1cdUZCM0NcdUZCM0VcdUZCNDBcdUZCNDFcdUZCNDNcdUZCNDRcdUZCNDYtXHVGQkIxXHVGQkQzLVx1RkQzRFx1RkQ1MC1cdUZEOEZcdUZEOTItXHVGREM3XHVGREYwLVx1RkRGQlx1RkU3MC1cdUZFNzRcdUZFNzYtXHVGRUZDXHVGRjIxLVx1RkYzQVx1RkY0MS1cdUZGNUFcdUZGNjYtXHVGRkJFXHVGRkMyLVx1RkZDN1x1RkZDQS1cdUZGQ0ZcdUZGRDItXHVGRkQ3XHVGRkRBLVx1RkZEQ118XHVEODAwW1x1REMwMC1cdURDMEJcdURDMEQtXHVEQzI2XHVEQzI4LVx1REMzQVx1REMzQ1x1REMzRFx1REMzRi1cdURDNERcdURDNTAtXHVEQzVEXHVEQzgwLVx1RENGQVx1REQ0MC1cdURENzRcdURFODAtXHVERTlDXHVERUEwLVx1REVEMFx1REYwMC1cdURGMUZcdURGMkQtXHVERjRBXHVERjUwLVx1REY3NVx1REY4MC1cdURGOURcdURGQTAtXHVERkMzXHVERkM4LVx1REZDRlx1REZEMS1cdURGRDVdfFx1RDgwMVtcdURDMDAtXHVEQzlEXHVEQ0IwLVx1RENEM1x1RENEOC1cdURDRkJcdUREMDAtXHVERDI3XHVERDMwLVx1REQ2M1x1REUwMC1cdURGMzZcdURGNDAtXHVERjU1XHVERjYwLVx1REY2N118XHVEODAyW1x1REMwMC1cdURDMDVcdURDMDhcdURDMEEtXHVEQzM1XHVEQzM3XHVEQzM4XHVEQzNDXHVEQzNGLVx1REM1NVx1REM2MC1cdURDNzZcdURDODAtXHVEQzlFXHVEQ0UwLVx1RENGMlx1RENGNFx1RENGNVx1REQwMC1cdUREMTVcdUREMjAtXHVERDM5XHVERDgwLVx1RERCN1x1RERCRVx1RERCRlx1REUwMFx1REUxMC1cdURFMTNcdURFMTUtXHVERTE3XHVERTE5LVx1REUzM1x1REU2MC1cdURFN0NcdURFODAtXHVERTlDXHVERUMwLVx1REVDN1x1REVDOS1cdURFRTRcdURGMDAtXHVERjM1XHVERjQwLVx1REY1NVx1REY2MC1cdURGNzJcdURGODAtXHVERjkxXXxcdUQ4MDNbXHVEQzAwLVx1REM0OFx1REM4MC1cdURDQjJcdURDQzAtXHVEQ0YyXXxcdUQ4MDRbXHVEQzAzLVx1REMzN1x1REM4My1cdURDQUZcdURDRDAtXHVEQ0U4XHVERDAzLVx1REQyNlx1REQ1MC1cdURENzJcdURENzZcdUREODMtXHVEREIyXHVEREMxLVx1RERDNFx1REREQVx1REREQ1x1REUwMC1cdURFMTFcdURFMTMtXHVERTJCXHVERTgwLVx1REU4Nlx1REU4OFx1REU4QS1cdURFOERcdURFOEYtXHVERTlEXHVERTlGLVx1REVBOFx1REVCMC1cdURFREVcdURGMDUtXHVERjBDXHVERjBGXHVERjEwXHVERjEzLVx1REYyOFx1REYyQS1cdURGMzBcdURGMzJcdURGMzNcdURGMzUtXHVERjM5XHVERjNEXHVERjUwXHVERjVELVx1REY2MV18XHVEODA1W1x1REMwMC1cdURDMzRcdURDNDctXHVEQzRBXHVEQzgwLVx1RENBRlx1RENDNFx1RENDNVx1RENDN1x1REQ4MC1cdUREQUVcdURERDgtXHVERERCXHVERTAwLVx1REUyRlx1REU0NFx1REU4MC1cdURFQUFcdURGMDAtXHVERjE5XXxcdUQ4MDZbXHVEQ0EwLVx1RENERlx1RENGRlx1REUwMFx1REUwQi1cdURFMzJcdURFM0FcdURFNTBcdURFNUMtXHVERTgzXHVERTg2LVx1REU4OVx1REVDMC1cdURFRjhdfFx1RDgwN1tcdURDMDAtXHVEQzA4XHVEQzBBLVx1REMyRVx1REM0MFx1REM3Mi1cdURDOEZcdUREMDAtXHVERDA2XHVERDA4XHVERDA5XHVERDBCLVx1REQzMFx1REQ0Nl18XHVEODA4W1x1REMwMC1cdURGOTldfFx1RDgwOVtcdURDMDAtXHVEQzZFXHVEQzgwLVx1REQ0M118W1x1RDgwQ1x1RDgxQy1cdUQ4MjBcdUQ4NDAtXHVEODY4XHVEODZBLVx1RDg2Q1x1RDg2Ri1cdUQ4NzJcdUQ4NzQtXHVEODc5XVtcdURDMDAtXHVERkZGXXxcdUQ4MERbXHVEQzAwLVx1REMyRV18XHVEODExW1x1REMwMC1cdURFNDZdfFx1RDgxQVtcdURDMDAtXHVERTM4XHVERTQwLVx1REU1RVx1REVEMC1cdURFRURcdURGMDAtXHVERjJGXHVERjQwLVx1REY0M1x1REY2My1cdURGNzdcdURGN0QtXHVERjhGXXxcdUQ4MUJbXHVERjAwLVx1REY0NFx1REY1MFx1REY5My1cdURGOUZcdURGRTBcdURGRTFdfFx1RDgyMVtcdURDMDAtXHVERkVDXXxcdUQ4MjJbXHVEQzAwLVx1REVGMl18XHVEODJDW1x1REMwMC1cdUREMUVcdURENzAtXHVERUZCXXxcdUQ4MkZbXHVEQzAwLVx1REM2QVx1REM3MC1cdURDN0NcdURDODAtXHVEQzg4XHVEQzkwLVx1REM5OV18XHVEODM1W1x1REMwMC1cdURDNTRcdURDNTYtXHVEQzlDXHVEQzlFXHVEQzlGXHVEQ0EyXHVEQ0E1XHVEQ0E2XHVEQ0E5LVx1RENBQ1x1RENBRS1cdURDQjlcdURDQkJcdURDQkQtXHVEQ0MzXHVEQ0M1LVx1REQwNVx1REQwNy1cdUREMEFcdUREMEQtXHVERDE0XHVERDE2LVx1REQxQ1x1REQxRS1cdUREMzlcdUREM0ItXHVERDNFXHVERDQwLVx1REQ0NFx1REQ0Nlx1REQ0QS1cdURENTBcdURENTItXHVERUE1XHVERUE4LVx1REVDMFx1REVDMi1cdURFREFcdURFREMtXHVERUZBXHVERUZDLVx1REYxNFx1REYxNi1cdURGMzRcdURGMzYtXHVERjRFXHVERjUwLVx1REY2RVx1REY3MC1cdURGODhcdURGOEEtXHVERkE4XHVERkFBLVx1REZDMlx1REZDNC1cdURGQ0JdfFx1RDgzQVtcdURDMDAtXHVEQ0M0XHVERDAwLVx1REQ0M118XHVEODNCW1x1REUwMC1cdURFMDNcdURFMDUtXHVERTFGXHVERTIxXHVERTIyXHVERTI0XHVERTI3XHVERTI5LVx1REUzMlx1REUzNC1cdURFMzdcdURFMzlcdURFM0JcdURFNDJcdURFNDdcdURFNDlcdURFNEJcdURFNEQtXHVERTRGXHVERTUxXHVERTUyXHVERTU0XHVERTU3XHVERTU5XHVERTVCXHVERTVEXHVERTVGXHVERTYxXHVERTYyXHVERTY0XHVERTY3LVx1REU2QVx1REU2Qy1cdURFNzJcdURFNzQtXHVERTc3XHVERTc5LVx1REU3Q1x1REU3RVx1REU4MC1cdURFODlcdURFOEItXHVERTlCXHVERUExLVx1REVBM1x1REVBNS1cdURFQTlcdURFQUItXHVERUJCXXxcdUQ4NjlbXHVEQzAwLVx1REVENlx1REYwMC1cdURGRkZdfFx1RDg2RFtcdURDMDAtXHVERjM0XHVERjQwLVx1REZGRl18XHVEODZFW1x1REMwMC1cdURDMURcdURDMjAtXHVERkZGXXxcdUQ4NzNbXHVEQzAwLVx1REVBMVx1REVCMC1cdURGRkZdfFx1RDg3QVtcdURDMDAtXHVERkUwXXxcdUQ4N0VbXHVEQzAwLVx1REUxRF0vLCBHID0gL1tceEFBXHhCNVx4QkFceEMwLVx4RDZceEQ4LVx4RjZceEY4LVx1MDJDMVx1MDJDNi1cdTAyRDFcdTAyRTAtXHUwMkU0XHUwMkVDXHUwMkVFXHUwMzAwLVx1MDM3NFx1MDM3Nlx1MDM3N1x1MDM3QS1cdTAzN0RcdTAzN0ZcdTAzODZcdTAzODgtXHUwMzhBXHUwMzhDXHUwMzhFLVx1MDNBMVx1MDNBMy1cdTAzRjVcdTAzRjctXHUwNDgxXHUwNDgzLVx1MDQ4N1x1MDQ4QS1cdTA1MkZcdTA1MzEtXHUwNTU2XHUwNTU5XHUwNTYxLVx1MDU4N1x1MDU5MS1cdTA1QkRcdTA1QkZcdTA1QzFcdTA1QzJcdTA1QzRcdTA1QzVcdTA1QzdcdTA1RDAtXHUwNUVBXHUwNUYwLVx1MDVGMlx1MDYxMC1cdTA2MUFcdTA2MjAtXHUwNjY5XHUwNjZFLVx1MDZEM1x1MDZENS1cdTA2RENcdTA2REYtXHUwNkU4XHUwNkVBLVx1MDZGQ1x1MDZGRlx1MDcxMC1cdTA3NEFcdTA3NEQtXHUwN0IxXHUwN0MwLVx1MDdGNVx1MDdGQVx1MDgwMC1cdTA4MkRcdTA4NDAtXHUwODVCXHUwODYwLVx1MDg2QVx1MDhBMC1cdTA4QjRcdTA4QjYtXHUwOEJEXHUwOEQ0LVx1MDhFMVx1MDhFMy1cdTA5NjNcdTA5NjYtXHUwOTZGXHUwOTcxLVx1MDk4M1x1MDk4NS1cdTA5OENcdTA5OEZcdTA5OTBcdTA5OTMtXHUwOUE4XHUwOUFBLVx1MDlCMFx1MDlCMlx1MDlCNi1cdTA5QjlcdTA5QkMtXHUwOUM0XHUwOUM3XHUwOUM4XHUwOUNCLVx1MDlDRVx1MDlEN1x1MDlEQ1x1MDlERFx1MDlERi1cdTA5RTNcdTA5RTYtXHUwOUYxXHUwOUZDXHUwQTAxLVx1MEEwM1x1MEEwNS1cdTBBMEFcdTBBMEZcdTBBMTBcdTBBMTMtXHUwQTI4XHUwQTJBLVx1MEEzMFx1MEEzMlx1MEEzM1x1MEEzNVx1MEEzNlx1MEEzOFx1MEEzOVx1MEEzQ1x1MEEzRS1cdTBBNDJcdTBBNDdcdTBBNDhcdTBBNEItXHUwQTREXHUwQTUxXHUwQTU5LVx1MEE1Q1x1MEE1RVx1MEE2Ni1cdTBBNzVcdTBBODEtXHUwQTgzXHUwQTg1LVx1MEE4RFx1MEE4Ri1cdTBBOTFcdTBBOTMtXHUwQUE4XHUwQUFBLVx1MEFCMFx1MEFCMlx1MEFCM1x1MEFCNS1cdTBBQjlcdTBBQkMtXHUwQUM1XHUwQUM3LVx1MEFDOVx1MEFDQi1cdTBBQ0RcdTBBRDBcdTBBRTAtXHUwQUUzXHUwQUU2LVx1MEFFRlx1MEFGOS1cdTBBRkZcdTBCMDEtXHUwQjAzXHUwQjA1LVx1MEIwQ1x1MEIwRlx1MEIxMFx1MEIxMy1cdTBCMjhcdTBCMkEtXHUwQjMwXHUwQjMyXHUwQjMzXHUwQjM1LVx1MEIzOVx1MEIzQy1cdTBCNDRcdTBCNDdcdTBCNDhcdTBCNEItXHUwQjREXHUwQjU2XHUwQjU3XHUwQjVDXHUwQjVEXHUwQjVGLVx1MEI2M1x1MEI2Ni1cdTBCNkZcdTBCNzFcdTBCODJcdTBCODNcdTBCODUtXHUwQjhBXHUwQjhFLVx1MEI5MFx1MEI5Mi1cdTBCOTVcdTBCOTlcdTBCOUFcdTBCOUNcdTBCOUVcdTBCOUZcdTBCQTNcdTBCQTRcdTBCQTgtXHUwQkFBXHUwQkFFLVx1MEJCOVx1MEJCRS1cdTBCQzJcdTBCQzYtXHUwQkM4XHUwQkNBLVx1MEJDRFx1MEJEMFx1MEJEN1x1MEJFNi1cdTBCRUZcdTBDMDAtXHUwQzAzXHUwQzA1LVx1MEMwQ1x1MEMwRS1cdTBDMTBcdTBDMTItXHUwQzI4XHUwQzJBLVx1MEMzOVx1MEMzRC1cdTBDNDRcdTBDNDYtXHUwQzQ4XHUwQzRBLVx1MEM0RFx1MEM1NVx1MEM1Nlx1MEM1OC1cdTBDNUFcdTBDNjAtXHUwQzYzXHUwQzY2LVx1MEM2Rlx1MEM4MC1cdTBDODNcdTBDODUtXHUwQzhDXHUwQzhFLVx1MEM5MFx1MEM5Mi1cdTBDQThcdTBDQUEtXHUwQ0IzXHUwQ0I1LVx1MENCOVx1MENCQy1cdTBDQzRcdTBDQzYtXHUwQ0M4XHUwQ0NBLVx1MENDRFx1MENENVx1MENENlx1MENERVx1MENFMC1cdTBDRTNcdTBDRTYtXHUwQ0VGXHUwQ0YxXHUwQ0YyXHUwRDAwLVx1MEQwM1x1MEQwNS1cdTBEMENcdTBEMEUtXHUwRDEwXHUwRDEyLVx1MEQ0NFx1MEQ0Ni1cdTBENDhcdTBENEEtXHUwRDRFXHUwRDU0LVx1MEQ1N1x1MEQ1Ri1cdTBENjNcdTBENjYtXHUwRDZGXHUwRDdBLVx1MEQ3Rlx1MEQ4Mlx1MEQ4M1x1MEQ4NS1cdTBEOTZcdTBEOUEtXHUwREIxXHUwREIzLVx1MERCQlx1MERCRFx1MERDMC1cdTBEQzZcdTBEQ0FcdTBEQ0YtXHUwREQ0XHUwREQ2XHUwREQ4LVx1MERERlx1MERFNi1cdTBERUZcdTBERjJcdTBERjNcdTBFMDEtXHUwRTNBXHUwRTQwLVx1MEU0RVx1MEU1MC1cdTBFNTlcdTBFODFcdTBFODJcdTBFODRcdTBFODdcdTBFODhcdTBFOEFcdTBFOERcdTBFOTQtXHUwRTk3XHUwRTk5LVx1MEU5Rlx1MEVBMS1cdTBFQTNcdTBFQTVcdTBFQTdcdTBFQUFcdTBFQUJcdTBFQUQtXHUwRUI5XHUwRUJCLVx1MEVCRFx1MEVDMC1cdTBFQzRcdTBFQzZcdTBFQzgtXHUwRUNEXHUwRUQwLVx1MEVEOVx1MEVEQy1cdTBFREZcdTBGMDBcdTBGMThcdTBGMTlcdTBGMjAtXHUwRjI5XHUwRjM1XHUwRjM3XHUwRjM5XHUwRjNFLVx1MEY0N1x1MEY0OS1cdTBGNkNcdTBGNzEtXHUwRjg0XHUwRjg2LVx1MEY5N1x1MEY5OS1cdTBGQkNcdTBGQzZcdTEwMDAtXHUxMDQ5XHUxMDUwLVx1MTA5RFx1MTBBMC1cdTEwQzVcdTEwQzdcdTEwQ0RcdTEwRDAtXHUxMEZBXHUxMEZDLVx1MTI0OFx1MTI0QS1cdTEyNERcdTEyNTAtXHUxMjU2XHUxMjU4XHUxMjVBLVx1MTI1RFx1MTI2MC1cdTEyODhcdTEyOEEtXHUxMjhEXHUxMjkwLVx1MTJCMFx1MTJCMi1cdTEyQjVcdTEyQjgtXHUxMkJFXHUxMkMwXHUxMkMyLVx1MTJDNVx1MTJDOC1cdTEyRDZcdTEyRDgtXHUxMzEwXHUxMzEyLVx1MTMxNVx1MTMxOC1cdTEzNUFcdTEzNUQtXHUxMzVGXHUxMzgwLVx1MTM4Rlx1MTNBMC1cdTEzRjVcdTEzRjgtXHUxM0ZEXHUxNDAxLVx1MTY2Q1x1MTY2Ri1cdTE2N0ZcdTE2ODEtXHUxNjlBXHUxNkEwLVx1MTZFQVx1MTZFRS1cdTE2RjhcdTE3MDAtXHUxNzBDXHUxNzBFLVx1MTcxNFx1MTcyMC1cdTE3MzRcdTE3NDAtXHUxNzUzXHUxNzYwLVx1MTc2Q1x1MTc2RS1cdTE3NzBcdTE3NzJcdTE3NzNcdTE3ODAtXHUxN0QzXHUxN0Q3XHUxN0RDXHUxN0REXHUxN0UwLVx1MTdFOVx1MTgwQi1cdTE4MERcdTE4MTAtXHUxODE5XHUxODIwLVx1MTg3N1x1MTg4MC1cdTE4QUFcdTE4QjAtXHUxOEY1XHUxOTAwLVx1MTkxRVx1MTkyMC1cdTE5MkJcdTE5MzAtXHUxOTNCXHUxOTQ2LVx1MTk2RFx1MTk3MC1cdTE5NzRcdTE5ODAtXHUxOUFCXHUxOUIwLVx1MTlDOVx1MTlEMC1cdTE5RDlcdTFBMDAtXHUxQTFCXHUxQTIwLVx1MUE1RVx1MUE2MC1cdTFBN0NcdTFBN0YtXHUxQTg5XHUxQTkwLVx1MUE5OVx1MUFBN1x1MUFCMC1cdTFBQkRcdTFCMDAtXHUxQjRCXHUxQjUwLVx1MUI1OVx1MUI2Qi1cdTFCNzNcdTFCODAtXHUxQkYzXHUxQzAwLVx1MUMzN1x1MUM0MC1cdTFDNDlcdTFDNEQtXHUxQzdEXHUxQzgwLVx1MUM4OFx1MUNEMC1cdTFDRDJcdTFDRDQtXHUxQ0Y5XHUxRDAwLVx1MURGOVx1MURGQi1cdTFGMTVcdTFGMTgtXHUxRjFEXHUxRjIwLVx1MUY0NVx1MUY0OC1cdTFGNERcdTFGNTAtXHUxRjU3XHUxRjU5XHUxRjVCXHUxRjVEXHUxRjVGLVx1MUY3RFx1MUY4MC1cdTFGQjRcdTFGQjYtXHUxRkJDXHUxRkJFXHUxRkMyLVx1MUZDNFx1MUZDNi1cdTFGQ0NcdTFGRDAtXHUxRkQzXHUxRkQ2LVx1MUZEQlx1MUZFMC1cdTFGRUNcdTFGRjItXHUxRkY0XHUxRkY2LVx1MUZGQ1x1MjAzRlx1MjA0MFx1MjA1NFx1MjA3MVx1MjA3Rlx1MjA5MC1cdTIwOUNcdTIwRDAtXHUyMERDXHUyMEUxXHUyMEU1LVx1MjBGMFx1MjEwMlx1MjEwN1x1MjEwQS1cdTIxMTNcdTIxMTVcdTIxMTktXHUyMTFEXHUyMTI0XHUyMTI2XHUyMTI4XHUyMTJBLVx1MjEyRFx1MjEyRi1cdTIxMzlcdTIxM0MtXHUyMTNGXHUyMTQ1LVx1MjE0OVx1MjE0RVx1MjE2MC1cdTIxODhcdTJDMDAtXHUyQzJFXHUyQzMwLVx1MkM1RVx1MkM2MC1cdTJDRTRcdTJDRUItXHUyQ0YzXHUyRDAwLVx1MkQyNVx1MkQyN1x1MkQyRFx1MkQzMC1cdTJENjdcdTJENkZcdTJEN0YtXHUyRDk2XHUyREEwLVx1MkRBNlx1MkRBOC1cdTJEQUVcdTJEQjAtXHUyREI2XHUyREI4LVx1MkRCRVx1MkRDMC1cdTJEQzZcdTJEQzgtXHUyRENFXHUyREQwLVx1MkRENlx1MkREOC1cdTJEREVcdTJERTAtXHUyREZGXHUyRTJGXHUzMDA1LVx1MzAwN1x1MzAyMS1cdTMwMkZcdTMwMzEtXHUzMDM1XHUzMDM4LVx1MzAzQ1x1MzA0MS1cdTMwOTZcdTMwOTlcdTMwOUFcdTMwOUQtXHUzMDlGXHUzMEExLVx1MzBGQVx1MzBGQy1cdTMwRkZcdTMxMDUtXHUzMTJFXHUzMTMxLVx1MzE4RVx1MzFBMC1cdTMxQkFcdTMxRjAtXHUzMUZGXHUzNDAwLVx1NERCNVx1NEUwMC1cdTlGRUFcdUEwMDAtXHVBNDhDXHVBNEQwLVx1QTRGRFx1QTUwMC1cdUE2MENcdUE2MTAtXHVBNjJCXHVBNjQwLVx1QTY2Rlx1QTY3NC1cdUE2N0RcdUE2N0YtXHVBNkYxXHVBNzE3LVx1QTcxRlx1QTcyMi1cdUE3ODhcdUE3OEItXHVBN0FFXHVBN0IwLVx1QTdCN1x1QTdGNy1cdUE4MjdcdUE4NDAtXHVBODczXHVBODgwLVx1QThDNVx1QThEMC1cdUE4RDlcdUE4RTAtXHVBOEY3XHVBOEZCXHVBOEZEXHVBOTAwLVx1QTkyRFx1QTkzMC1cdUE5NTNcdUE5NjAtXHVBOTdDXHVBOTgwLVx1QTlDMFx1QTlDRi1cdUE5RDlcdUE5RTAtXHVBOUZFXHVBQTAwLVx1QUEzNlx1QUE0MC1cdUFBNERcdUFBNTAtXHVBQTU5XHVBQTYwLVx1QUE3Nlx1QUE3QS1cdUFBQzJcdUFBREItXHVBQUREXHVBQUUwLVx1QUFFRlx1QUFGMi1cdUFBRjZcdUFCMDEtXHVBQjA2XHVBQjA5LVx1QUIwRVx1QUIxMS1cdUFCMTZcdUFCMjAtXHVBQjI2XHVBQjI4LVx1QUIyRVx1QUIzMC1cdUFCNUFcdUFCNUMtXHVBQjY1XHVBQjcwLVx1QUJFQVx1QUJFQ1x1QUJFRFx1QUJGMC1cdUFCRjlcdUFDMDAtXHVEN0EzXHVEN0IwLVx1RDdDNlx1RDdDQi1cdUQ3RkJcdUY5MDAtXHVGQTZEXHVGQTcwLVx1RkFEOVx1RkIwMC1cdUZCMDZcdUZCMTMtXHVGQjE3XHVGQjFELVx1RkIyOFx1RkIyQS1cdUZCMzZcdUZCMzgtXHVGQjNDXHVGQjNFXHVGQjQwXHVGQjQxXHVGQjQzXHVGQjQ0XHVGQjQ2LVx1RkJCMVx1RkJEMy1cdUZEM0RcdUZENTAtXHVGRDhGXHVGRDkyLVx1RkRDN1x1RkRGMC1cdUZERkJcdUZFMDAtXHVGRTBGXHVGRTIwLVx1RkUyRlx1RkUzM1x1RkUzNFx1RkU0RC1cdUZFNEZcdUZFNzAtXHVGRTc0XHVGRTc2LVx1RkVGQ1x1RkYxMC1cdUZGMTlcdUZGMjEtXHVGRjNBXHVGRjNGXHVGRjQxLVx1RkY1QVx1RkY2Ni1cdUZGQkVcdUZGQzItXHVGRkM3XHVGRkNBLVx1RkZDRlx1RkZEMi1cdUZGRDdcdUZGREEtXHVGRkRDXXxcdUQ4MDBbXHVEQzAwLVx1REMwQlx1REMwRC1cdURDMjZcdURDMjgtXHVEQzNBXHVEQzNDXHVEQzNEXHVEQzNGLVx1REM0RFx1REM1MC1cdURDNURcdURDODAtXHVEQ0ZBXHVERDQwLVx1REQ3NFx1RERGRFx1REU4MC1cdURFOUNcdURFQTAtXHVERUQwXHVERUUwXHVERjAwLVx1REYxRlx1REYyRC1cdURGNEFcdURGNTAtXHVERjdBXHVERjgwLVx1REY5RFx1REZBMC1cdURGQzNcdURGQzgtXHVERkNGXHVERkQxLVx1REZENV18XHVEODAxW1x1REMwMC1cdURDOURcdURDQTAtXHVEQ0E5XHVEQ0IwLVx1RENEM1x1RENEOC1cdURDRkJcdUREMDAtXHVERDI3XHVERDMwLVx1REQ2M1x1REUwMC1cdURGMzZcdURGNDAtXHVERjU1XHVERjYwLVx1REY2N118XHVEODAyW1x1REMwMC1cdURDMDVcdURDMDhcdURDMEEtXHVEQzM1XHVEQzM3XHVEQzM4XHVEQzNDXHVEQzNGLVx1REM1NVx1REM2MC1cdURDNzZcdURDODAtXHVEQzlFXHVEQ0UwLVx1RENGMlx1RENGNFx1RENGNVx1REQwMC1cdUREMTVcdUREMjAtXHVERDM5XHVERDgwLVx1RERCN1x1RERCRVx1RERCRlx1REUwMC1cdURFMDNcdURFMDVcdURFMDZcdURFMEMtXHVERTEzXHVERTE1LVx1REUxN1x1REUxOS1cdURFMzNcdURFMzgtXHVERTNBXHVERTNGXHVERTYwLVx1REU3Q1x1REU4MC1cdURFOUNcdURFQzAtXHVERUM3XHVERUM5LVx1REVFNlx1REYwMC1cdURGMzVcdURGNDAtXHVERjU1XHVERjYwLVx1REY3Mlx1REY4MC1cdURGOTFdfFx1RDgwM1tcdURDMDAtXHVEQzQ4XHVEQzgwLVx1RENCMlx1RENDMC1cdURDRjJdfFx1RDgwNFtcdURDMDAtXHVEQzQ2XHVEQzY2LVx1REM2Rlx1REM3Ri1cdURDQkFcdURDRDAtXHVEQ0U4XHVEQ0YwLVx1RENGOVx1REQwMC1cdUREMzRcdUREMzYtXHVERDNGXHVERDUwLVx1REQ3M1x1REQ3Nlx1REQ4MC1cdUREQzRcdUREQ0EtXHVERENDXHVEREQwLVx1REREQVx1REREQ1x1REUwMC1cdURFMTFcdURFMTMtXHVERTM3XHVERTNFXHVERTgwLVx1REU4Nlx1REU4OFx1REU4QS1cdURFOERcdURFOEYtXHVERTlEXHVERTlGLVx1REVBOFx1REVCMC1cdURFRUFcdURFRjAtXHVERUY5XHVERjAwLVx1REYwM1x1REYwNS1cdURGMENcdURGMEZcdURGMTBcdURGMTMtXHVERjI4XHVERjJBLVx1REYzMFx1REYzMlx1REYzM1x1REYzNS1cdURGMzlcdURGM0MtXHVERjQ0XHVERjQ3XHVERjQ4XHVERjRCLVx1REY0RFx1REY1MFx1REY1N1x1REY1RC1cdURGNjNcdURGNjYtXHVERjZDXHVERjcwLVx1REY3NF18XHVEODA1W1x1REMwMC1cdURDNEFcdURDNTAtXHVEQzU5XHVEQzgwLVx1RENDNVx1RENDN1x1RENEMC1cdURDRDlcdUREODAtXHVEREI1XHVEREI4LVx1RERDMFx1REREOC1cdURERERcdURFMDAtXHVERTQwXHVERTQ0XHVERTUwLVx1REU1OVx1REU4MC1cdURFQjdcdURFQzAtXHVERUM5XHVERjAwLVx1REYxOVx1REYxRC1cdURGMkJcdURGMzAtXHVERjM5XXxcdUQ4MDZbXHVEQ0EwLVx1RENFOVx1RENGRlx1REUwMC1cdURFM0VcdURFNDdcdURFNTAtXHVERTgzXHVERTg2LVx1REU5OVx1REVDMC1cdURFRjhdfFx1RDgwN1tcdURDMDAtXHVEQzA4XHVEQzBBLVx1REMzNlx1REMzOC1cdURDNDBcdURDNTAtXHVEQzU5XHVEQzcyLVx1REM4Rlx1REM5Mi1cdURDQTdcdURDQTktXHVEQ0I2XHVERDAwLVx1REQwNlx1REQwOFx1REQwOVx1REQwQi1cdUREMzZcdUREM0FcdUREM0NcdUREM0RcdUREM0YtXHVERDQ3XHVERDUwLVx1REQ1OV18XHVEODA4W1x1REMwMC1cdURGOTldfFx1RDgwOVtcdURDMDAtXHVEQzZFXHVEQzgwLVx1REQ0M118W1x1RDgwQ1x1RDgxQy1cdUQ4MjBcdUQ4NDAtXHVEODY4XHVEODZBLVx1RDg2Q1x1RDg2Ri1cdUQ4NzJcdUQ4NzQtXHVEODc5XVtcdURDMDAtXHVERkZGXXxcdUQ4MERbXHVEQzAwLVx1REMyRV18XHVEODExW1x1REMwMC1cdURFNDZdfFx1RDgxQVtcdURDMDAtXHVERTM4XHVERTQwLVx1REU1RVx1REU2MC1cdURFNjlcdURFRDAtXHVERUVEXHVERUYwLVx1REVGNFx1REYwMC1cdURGMzZcdURGNDAtXHVERjQzXHVERjUwLVx1REY1OVx1REY2My1cdURGNzdcdURGN0QtXHVERjhGXXxcdUQ4MUJbXHVERjAwLVx1REY0NFx1REY1MC1cdURGN0VcdURGOEYtXHVERjlGXHVERkUwXHVERkUxXXxcdUQ4MjFbXHVEQzAwLVx1REZFQ118XHVEODIyW1x1REMwMC1cdURFRjJdfFx1RDgyQ1tcdURDMDAtXHVERDFFXHVERDcwLVx1REVGQl18XHVEODJGW1x1REMwMC1cdURDNkFcdURDNzAtXHVEQzdDXHVEQzgwLVx1REM4OFx1REM5MC1cdURDOTlcdURDOURcdURDOUVdfFx1RDgzNFtcdURENjUtXHVERDY5XHVERDZELVx1REQ3Mlx1REQ3Qi1cdUREODJcdUREODUtXHVERDhCXHVEREFBLVx1RERBRFx1REU0Mi1cdURFNDRdfFx1RDgzNVtcdURDMDAtXHVEQzU0XHVEQzU2LVx1REM5Q1x1REM5RVx1REM5Rlx1RENBMlx1RENBNVx1RENBNlx1RENBOS1cdURDQUNcdURDQUUtXHVEQ0I5XHVEQ0JCXHVEQ0JELVx1RENDM1x1RENDNS1cdUREMDVcdUREMDctXHVERDBBXHVERDBELVx1REQxNFx1REQxNi1cdUREMUNcdUREMUUtXHVERDM5XHVERDNCLVx1REQzRVx1REQ0MC1cdURENDRcdURENDZcdURENEEtXHVERDUwXHVERDUyLVx1REVBNVx1REVBOC1cdURFQzBcdURFQzItXHVERURBXHVERURDLVx1REVGQVx1REVGQy1cdURGMTRcdURGMTYtXHVERjM0XHVERjM2LVx1REY0RVx1REY1MC1cdURGNkVcdURGNzAtXHVERjg4XHVERjhBLVx1REZBOFx1REZBQS1cdURGQzJcdURGQzQtXHVERkNCXHVERkNFLVx1REZGRl18XHVEODM2W1x1REUwMC1cdURFMzZcdURFM0ItXHVERTZDXHVERTc1XHVERTg0XHVERTlCLVx1REU5Rlx1REVBMS1cdURFQUZdfFx1RDgzOFtcdURDMDAtXHVEQzA2XHVEQzA4LVx1REMxOFx1REMxQi1cdURDMjFcdURDMjNcdURDMjRcdURDMjYtXHVEQzJBXXxcdUQ4M0FbXHVEQzAwLVx1RENDNFx1RENEMC1cdURDRDZcdUREMDAtXHVERDRBXHVERDUwLVx1REQ1OV18XHVEODNCW1x1REUwMC1cdURFMDNcdURFMDUtXHVERTFGXHVERTIxXHVERTIyXHVERTI0XHVERTI3XHVERTI5LVx1REUzMlx1REUzNC1cdURFMzdcdURFMzlcdURFM0JcdURFNDJcdURFNDdcdURFNDlcdURFNEJcdURFNEQtXHVERTRGXHVERTUxXHVERTUyXHVERTU0XHVERTU3XHVERTU5XHVERTVCXHVERTVEXHVERTVGXHVERTYxXHVERTYyXHVERTY0XHVERTY3LVx1REU2QVx1REU2Qy1cdURFNzJcdURFNzQtXHVERTc3XHVERTc5LVx1REU3Q1x1REU3RVx1REU4MC1cdURFODlcdURFOEItXHVERTlCXHVERUExLVx1REVBM1x1REVBNS1cdURFQTlcdURFQUItXHVERUJCXXxcdUQ4NjlbXHVEQzAwLVx1REVENlx1REYwMC1cdURGRkZdfFx1RDg2RFtcdURDMDAtXHVERjM0XHVERjQwLVx1REZGRl18XHVEODZFW1x1REMwMC1cdURDMURcdURDMjAtXHVERkZGXXxcdUQ4NzNbXHVEQzAwLVx1REVBMVx1REVCMC1cdURGRkZdfFx1RDg3QVtcdURDMDAtXHVERkUwXXxcdUQ4N0VbXHVEQzAwLVx1REUxRF18XHVEQjQwW1x1REQwMC1cdURERUZdLywgSyA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiAic3RyaW5nIiA9PSB0eXBlb2YgZSAmJiAoZSA+PSAiYSIgJiYgZSA8PSAieiIgfHwgZSA+PSAiQSIgJiYgZSA8PSAiWiIgfHwgIiQiID09PSBlIHx8ICJfIiA9PT0gZSB8fCBXLnRlc3QoZSkpIH0sIFggPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gInN0cmluZyIgPT0gdHlwZW9mIGUgJiYgKGUgPj0gImEiICYmIGUgPD0gInoiIHx8IGUgPj0gIkEiICYmIGUgPD0gIloiIHx8IGUgPj0gIjAiICYmIGUgPD0gIjkiIHx8ICIkIiA9PT0gZSB8fCAiXyIgPT09IGUgfHwgIsOiwoDCjCIgPT09IGUgfHwgIsOiwoDCjSIgPT09IGUgfHwgRy50ZXN0KGUpKSB9LCBKID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuICJzdHJpbmciID09IHR5cGVvZiBlICYmIC9bMC05XS8udGVzdChlKSB9LCBaID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuICJzdHJpbmciID09IHR5cGVvZiBlICYmIC9bMC05QS1GYS1mXS8udGVzdChlKSB9OyBmdW5jdGlvbiBlZSgpIHsgaWYgKHRbdV0pIHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludCh0LmNvZGVQb2ludEF0KHUpKSB9IGZ1bmN0aW9uIGV0KCkgeyB2YXIgZSA9IGVlKCk7IHJldHVybiAiXG4iID09PSBlID8gKGkrKywgbyA9IDApIDogZSA/IG8gKz0gZS5sZW5ndGggOiBvKyssIGUgJiYgKHUgKz0gZS5sZW5ndGgpLCBlIH0gdmFyIGVuID0geyBkZWZhdWx0OiBmdW5jdGlvbiAoKSB7IHZhciBlOyBzd2l0Y2ggKHApIHsgY2FzZSAiCSI6IGNhc2UgIlx2IjogY2FzZSAiXGYiOiBjYXNlICIgIjogY2FzZSAiXHhhMCI6IGNhc2UgIlx1RkVGRiI6IGNhc2UgIlxuIjogY2FzZSAiXHIiOiBjYXNlICJcdTIwMjgiOiBjYXNlICJcdTIwMjkiOiBldCgpOyByZXR1cm47IGNhc2UgIi8iOiBldCgpLCBsID0gImNvbW1lbnQiOyByZXR1cm47IGNhc2Ugdm9pZCAwOiByZXR1cm4gZXQoKSwgZXIoImVvZiIpIH1yZXR1cm4gInN0cmluZyIgPT0gdHlwZW9mIChlID0gcCkgJiYgWS50ZXN0KGUpID8gdm9pZCBldCgpIDogZW5bbl0oKSB9LCBjb21tZW50OiBmdW5jdGlvbiAoKSB7IHN3aXRjaCAocCkgeyBjYXNlICIqIjogZXQoKSwgbCA9ICJtdWx0aUxpbmVDb21tZW50IjsgcmV0dXJuOyBjYXNlICIvIjogZXQoKSwgbCA9ICJzaW5nbGVMaW5lQ29tbWVudCI7IHJldHVybiB9dGhyb3cgZWMoZXQoKSkgfSwgbXVsdGlMaW5lQ29tbWVudDogZnVuY3Rpb24gKCkgeyBzd2l0Y2ggKHApIHsgY2FzZSAiKiI6IGV0KCksIGwgPSAibXVsdGlMaW5lQ29tbWVudEFzdGVyaXNrIjsgcmV0dXJuOyBjYXNlIHZvaWQgMDogdGhyb3cgZWMoZXQoKSkgfWV0KCkgfSwgbXVsdGlMaW5lQ29tbWVudEFzdGVyaXNrOiBmdW5jdGlvbiAoKSB7IHN3aXRjaCAocCkgeyBjYXNlICIqIjogZXQoKTsgcmV0dXJuOyBjYXNlICIvIjogZXQoKSwgbCA9ICJkZWZhdWx0IjsgcmV0dXJuOyBjYXNlIHZvaWQgMDogdGhyb3cgZWMoZXQoKSkgfWV0KCksIGwgPSAibXVsdGlMaW5lQ29tbWVudCIgfSwgc2luZ2xlTGluZUNvbW1lbnQ6IGZ1bmN0aW9uICgpIHsgc3dpdGNoIChwKSB7IGNhc2UgIlxuIjogY2FzZSAiXHIiOiBjYXNlICJcdTIwMjgiOiBjYXNlICJcdTIwMjkiOiBldCgpLCBsID0gImRlZmF1bHQiOyByZXR1cm47IGNhc2Ugdm9pZCAwOiByZXR1cm4gZXQoKSwgZXIoImVvZiIpIH1ldCgpIH0sIHZhbHVlOiBmdW5jdGlvbiAoKSB7IHN3aXRjaCAocCkgeyBjYXNlICJ7IjogY2FzZSAiWyI6IHJldHVybiBlcigicHVuY3R1YXRvciIsIGV0KCkpOyBjYXNlICJuIjogcmV0dXJuIGV0KCksIGV1KCJ1bGwiKSwgZXIoIm51bGwiLCBudWxsKTsgY2FzZSAidCI6IHJldHVybiBldCgpLCBldSgicnVlIiksIGVyKCJib29sZWFuIiwgITApOyBjYXNlICJmIjogcmV0dXJuIGV0KCksIGV1KCJhbHNlIiksIGVyKCJib29sZWFuIiwgITEpOyBjYXNlICItIjogY2FzZSAiKyI6ICItIiA9PT0gZXQoKSAmJiAoaCA9IC0xKSwgbCA9ICJzaWduIjsgcmV0dXJuOyBjYXNlICIuIjogZiA9IGV0KCksIGwgPSAiZGVjaW1hbFBvaW50TGVhZGluZyI7IHJldHVybjsgY2FzZSAiMCI6IGYgPSBldCgpLCBsID0gInplcm8iOyByZXR1cm47IGNhc2UgIjEiOiBjYXNlICIyIjogY2FzZSAiMyI6IGNhc2UgIjQiOiBjYXNlICI1IjogY2FzZSAiNiI6IGNhc2UgIjciOiBjYXNlICI4IjogY2FzZSAiOSI6IGYgPSBldCgpLCBsID0gImRlY2ltYWxJbnRlZ2VyIjsgcmV0dXJuOyBjYXNlICJJIjogcmV0dXJuIGV0KCksIGV1KCJuZmluaXR5IiksIGVyKCJudW1lcmljIiwgMSAvIDApOyBjYXNlICJOIjogcmV0dXJuIGV0KCksIGV1KCJhTiIpLCBlcigibnVtZXJpYyIsIE5hTik7IGNhc2UgJyInOiBjYXNlICInIjogZCA9ICciJyA9PT0gZXQoKSwgZiA9ICIiLCBsID0gInN0cmluZyI7IHJldHVybiB9dGhyb3cgZWMoZXQoKSkgfSwgaWRlbnRpZmllck5hbWVTdGFydEVzY2FwZTogZnVuY3Rpb24gKCkgeyBpZiAoInUiICE9PSBwKSB0aHJvdyBlYyhldCgpKTsgZXQoKTsgdmFyIGUgPSBlaSgpOyBzd2l0Y2ggKGUpIHsgY2FzZSAiJCI6IGNhc2UgIl8iOiBicmVhazsgZGVmYXVsdDogaWYgKCFLKGUpKSB0aHJvdyBlZigpIH1mICs9IGUsIGwgPSAiaWRlbnRpZmllck5hbWUiIH0sIGlkZW50aWZpZXJOYW1lOiBmdW5jdGlvbiAoKSB7IHN3aXRjaCAocCkgeyBjYXNlICIkIjogY2FzZSAiXyI6IGNhc2UgIsOiwoDCjCI6IGNhc2UgIsOiwoDCjSI6IGYgKz0gZXQoKTsgcmV0dXJuOyBjYXNlICJcXCI6IGV0KCksIGwgPSAiaWRlbnRpZmllck5hbWVFc2NhcGUiOyByZXR1cm4gfWlmIChYKHApKSB7IGYgKz0gZXQoKTsgcmV0dXJuIH0gcmV0dXJuIGVyKCJpZGVudGlmaWVyIiwgZikgfSwgaWRlbnRpZmllck5hbWVFc2NhcGU6IGZ1bmN0aW9uICgpIHsgaWYgKCJ1IiAhPT0gcCkgdGhyb3cgZWMoZXQoKSk7IGV0KCk7IHZhciBlID0gZWkoKTsgc3dpdGNoIChlKSB7IGNhc2UgIiQiOiBjYXNlICJfIjogY2FzZSAiw6LCgMKMIjogY2FzZSAiw6LCgMKNIjogYnJlYWs7IGRlZmF1bHQ6IGlmICghWChlKSkgdGhyb3cgZWYoKSB9ZiArPSBlLCBsID0gImlkZW50aWZpZXJOYW1lIiB9LCBzaWduOiBmdW5jdGlvbiAoKSB7IHN3aXRjaCAocCkgeyBjYXNlICIuIjogZiA9IGV0KCksIGwgPSAiZGVjaW1hbFBvaW50TGVhZGluZyI7IHJldHVybjsgY2FzZSAiMCI6IGYgPSBldCgpLCBsID0gInplcm8iOyByZXR1cm47IGNhc2UgIjEiOiBjYXNlICIyIjogY2FzZSAiMyI6IGNhc2UgIjQiOiBjYXNlICI1IjogY2FzZSAiNiI6IGNhc2UgIjciOiBjYXNlICI4IjogY2FzZSAiOSI6IGYgPSBldCgpLCBsID0gImRlY2ltYWxJbnRlZ2VyIjsgcmV0dXJuOyBjYXNlICJJIjogcmV0dXJuIGV0KCksIGV1KCJuZmluaXR5IiksIGVyKCJudW1lcmljIiwgMSAvIDAgKiBoKTsgY2FzZSAiTiI6IHJldHVybiBldCgpLCBldSgiYU4iKSwgZXIoIm51bWVyaWMiLCBOYU4pIH10aHJvdyBlYyhldCgpKSB9LCB6ZXJvOiBmdW5jdGlvbiAoKSB7IHN3aXRjaCAocCkgeyBjYXNlICIuIjogZiArPSBldCgpLCBsID0gImRlY2ltYWxQb2ludCI7IHJldHVybjsgY2FzZSAiZSI6IGNhc2UgIkUiOiBmICs9IGV0KCksIGwgPSAiZGVjaW1hbEV4cG9uZW50IjsgcmV0dXJuOyBjYXNlICJ4IjogY2FzZSAiWCI6IGYgKz0gZXQoKSwgbCA9ICJoZXhhZGVjaW1hbCI7IHJldHVybiB9cmV0dXJuIGVyKCJudW1lcmljIiwgMCAqIGgpIH0sIGRlY2ltYWxJbnRlZ2VyOiBmdW5jdGlvbiAoKSB7IHN3aXRjaCAocCkgeyBjYXNlICIuIjogZiArPSBldCgpLCBsID0gImRlY2ltYWxQb2ludCI7IHJldHVybjsgY2FzZSAiZSI6IGNhc2UgIkUiOiBmICs9IGV0KCksIGwgPSAiZGVjaW1hbEV4cG9uZW50IjsgcmV0dXJuIH1pZiAoSihwKSkgeyBmICs9IGV0KCk7IHJldHVybiB9IHJldHVybiBlcigibnVtZXJpYyIsIGggKiBOdW1iZXIoZikpIH0sIGRlY2ltYWxQb2ludExlYWRpbmc6IGZ1bmN0aW9uICgpIHsgaWYgKEoocCkpIHsgZiArPSBldCgpLCBsID0gImRlY2ltYWxGcmFjdGlvbiI7IHJldHVybiB9IHRocm93IGVjKGV0KCkpIH0sIGRlY2ltYWxQb2ludDogZnVuY3Rpb24gKCkgeyBzd2l0Y2ggKHApIHsgY2FzZSAiZSI6IGNhc2UgIkUiOiBmICs9IGV0KCksIGwgPSAiZGVjaW1hbEV4cG9uZW50IjsgcmV0dXJuIH1pZiAoSihwKSkgeyBmICs9IGV0KCksIGwgPSAiZGVjaW1hbEZyYWN0aW9uIjsgcmV0dXJuIH0gcmV0dXJuIGVyKCJudW1lcmljIiwgaCAqIE51bWJlcihmKSkgfSwgZGVjaW1hbEZyYWN0aW9uOiBmdW5jdGlvbiAoKSB7IHN3aXRjaCAocCkgeyBjYXNlICJlIjogY2FzZSAiRSI6IGYgKz0gZXQoKSwgbCA9ICJkZWNpbWFsRXhwb25lbnQiOyByZXR1cm4gfWlmIChKKHApKSB7IGYgKz0gZXQoKTsgcmV0dXJuIH0gcmV0dXJuIGVyKCJudW1lcmljIiwgaCAqIE51bWJlcihmKSkgfSwgZGVjaW1hbEV4cG9uZW50OiBmdW5jdGlvbiAoKSB7IHN3aXRjaCAocCkgeyBjYXNlICIrIjogY2FzZSAiLSI6IGYgKz0gZXQoKSwgbCA9ICJkZWNpbWFsRXhwb25lbnRTaWduIjsgcmV0dXJuIH1pZiAoSihwKSkgeyBmICs9IGV0KCksIGwgPSAiZGVjaW1hbEV4cG9uZW50SW50ZWdlciI7IHJldHVybiB9IHRocm93IGVjKGV0KCkpIH0sIGRlY2ltYWxFeHBvbmVudFNpZ246IGZ1bmN0aW9uICgpIHsgaWYgKEoocCkpIHsgZiArPSBldCgpLCBsID0gImRlY2ltYWxFeHBvbmVudEludGVnZXIiOyByZXR1cm4gfSB0aHJvdyBlYyhldCgpKSB9LCBkZWNpbWFsRXhwb25lbnRJbnRlZ2VyOiBmdW5jdGlvbiAoKSB7IGlmIChKKHApKSB7IGYgKz0gZXQoKTsgcmV0dXJuIH0gcmV0dXJuIGVyKCJudW1lcmljIiwgaCAqIE51bWJlcihmKSkgfSwgaGV4YWRlY2ltYWw6IGZ1bmN0aW9uICgpIHsgaWYgKFoocCkpIHsgZiArPSBldCgpLCBsID0gImhleGFkZWNpbWFsSW50ZWdlciI7IHJldHVybiB9IHRocm93IGVjKGV0KCkpIH0sIGhleGFkZWNpbWFsSW50ZWdlcjogZnVuY3Rpb24gKCkgeyBpZiAoWihwKSkgeyBmICs9IGV0KCk7IHJldHVybiB9IHJldHVybiBlcigibnVtZXJpYyIsIGggKiBOdW1iZXIoZikpIH0sIHN0cmluZzogZnVuY3Rpb24gKCkgeyBzd2l0Y2ggKHApIHsgY2FzZSAiXFwiOiBldCgpLCBmICs9IGZ1bmN0aW9uICgpIHsgc3dpdGNoIChlZSgpKSB7IGNhc2UgImIiOiByZXR1cm4gZXQoKSwgIlxiIjsgY2FzZSAiZiI6IHJldHVybiBldCgpLCAiXGYiOyBjYXNlICJuIjogcmV0dXJuIGV0KCksICJcbiI7IGNhc2UgInIiOiByZXR1cm4gZXQoKSwgIlxyIjsgY2FzZSAidCI6IHJldHVybiBldCgpLCAiCSI7IGNhc2UgInYiOiByZXR1cm4gZXQoKSwgIlx2IjsgY2FzZSAiMCI6IGlmIChldCgpLCBKKGVlKCkpKSB0aHJvdyBlYyhldCgpKTsgcmV0dXJuICJcMCI7IGNhc2UgIngiOiByZXR1cm4gZXQoKSwgZnVuY3Rpb24gKCkgeyB2YXIgZSA9ICIiLCB0ID0gZWUoKTsgaWYgKCFaKHQpIHx8IChlICs9IGV0KCksICFaKHQgPSBlZSgpKSkpIHRocm93IGVjKGV0KCkpOyByZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQocGFyc2VJbnQoZSArPSBldCgpLCAxNikpIH0oKTsgY2FzZSAidSI6IHJldHVybiBldCgpLCBlaSgpOyBjYXNlICJcbiI6IGNhc2UgIlx1MjAyOCI6IGNhc2UgIlx1MjAyOSI6IHJldHVybiBldCgpLCAiIjsgY2FzZSAiXHIiOiByZXR1cm4gZXQoKSwgIlxuIiA9PT0gZWUoKSAmJiBldCgpLCAiIjsgY2FzZSAiMSI6IGNhc2UgIjIiOiBjYXNlICIzIjogY2FzZSAiNCI6IGNhc2UgIjUiOiBjYXNlICI2IjogY2FzZSAiNyI6IGNhc2UgIjgiOiBjYXNlICI5IjogY2FzZSB2b2lkIDA6IHRocm93IGVjKGV0KCkpIH1yZXR1cm4gZXQoKSB9KCk7IHJldHVybjsgY2FzZSAnIic6IGlmIChkKSByZXR1cm4gZXQoKSwgZXIoInN0cmluZyIsIGYpOyBmICs9IGV0KCk7IHJldHVybjsgY2FzZSAiJyI6IGlmICghZCkgcmV0dXJuIGV0KCksIGVyKCJzdHJpbmciLCBmKTsgZiArPSBldCgpOyByZXR1cm47IGNhc2UgIlxuIjogY2FzZSAiXHIiOiBjYXNlIHZvaWQgMDogdGhyb3cgZWMoZXQoKSk7IGNhc2UgIlx1MjAyOCI6IGNhc2UgIlx1MjAyOSI6IGNvbnNvbGUud2FybigiSlNPTjU6ICciICsgZWQocCkgKyAiJyBpbiBzdHJpbmdzIGlzIG5vdCB2YWxpZCBFQ01BU2NyaXB0OyBjb25zaWRlciBlc2NhcGluZyIpIH1mICs9IGV0KCkgfSwgc3RhcnQ6IGZ1bmN0aW9uICgpIHsgc3dpdGNoIChwKSB7IGNhc2UgInsiOiBjYXNlICJbIjogcmV0dXJuIGVyKCJwdW5jdHVhdG9yIiwgZXQoKSkgfWwgPSAidmFsdWUiIH0sIGJlZm9yZVByb3BlcnR5TmFtZTogZnVuY3Rpb24gKCkgeyBzd2l0Y2ggKHApIHsgY2FzZSAiJCI6IGNhc2UgIl8iOiBmID0gZXQoKSwgbCA9ICJpZGVudGlmaWVyTmFtZSI7IHJldHVybjsgY2FzZSAiXFwiOiBldCgpLCBsID0gImlkZW50aWZpZXJOYW1lU3RhcnRFc2NhcGUiOyByZXR1cm47IGNhc2UgIn0iOiByZXR1cm4gZXIoInB1bmN0dWF0b3IiLCBldCgpKTsgY2FzZSAnIic6IGNhc2UgIiciOiBkID0gJyInID09PSBldCgpLCBsID0gInN0cmluZyI7IHJldHVybiB9aWYgKEsocCkpIHsgZiArPSBldCgpLCBsID0gImlkZW50aWZpZXJOYW1lIjsgcmV0dXJuIH0gdGhyb3cgZWMoZXQoKSkgfSwgYWZ0ZXJQcm9wZXJ0eU5hbWU6IGZ1bmN0aW9uICgpIHsgaWYgKCI6IiA9PT0gcCkgcmV0dXJuIGVyKCJwdW5jdHVhdG9yIiwgZXQoKSk7IHRocm93IGVjKGV0KCkpIH0sIGJlZm9yZVByb3BlcnR5VmFsdWU6IGZ1bmN0aW9uICgpIHsgbCA9ICJ2YWx1ZSIgfSwgYWZ0ZXJQcm9wZXJ0eVZhbHVlOiBmdW5jdGlvbiAoKSB7IHN3aXRjaCAocCkgeyBjYXNlICIsIjogY2FzZSAifSI6IHJldHVybiBlcigicHVuY3R1YXRvciIsIGV0KCkpIH10aHJvdyBlYyhldCgpKSB9LCBiZWZvcmVBcnJheVZhbHVlOiBmdW5jdGlvbiAoKSB7IGlmICgiXSIgPT09IHApIHJldHVybiBlcigicHVuY3R1YXRvciIsIGV0KCkpOyBsID0gInZhbHVlIiB9LCBhZnRlckFycmF5VmFsdWU6IGZ1bmN0aW9uICgpIHsgc3dpdGNoIChwKSB7IGNhc2UgIiwiOiBjYXNlICJdIjogcmV0dXJuIGVyKCJwdW5jdHVhdG9yIiwgZXQoKSkgfXRocm93IGVjKGV0KCkpIH0sIGVuZDogZnVuY3Rpb24gKCkgeyB0aHJvdyBlYyhldCgpKSB9IH07IGZ1bmN0aW9uIGVyKGUsIHQpIHsgcmV0dXJuIHsgdHlwZTogZSwgdmFsdWU6IHQsIGxpbmU6IGksIGNvbHVtbjogbyB9IH0gZnVuY3Rpb24gZXUoZSkgeyBmb3IgKHZhciB0ID0gMDsgdCA8IGUubGVuZ3RoOyB0ICs9IDEpIHsgdmFyIG4gPSBlW3RdOyBpZiAoZWUoKSAhPT0gbikgdGhyb3cgZWMoZXQoKSk7IGV0KCkgfSB9IGZ1bmN0aW9uIGVpKCkgeyBmb3IgKHZhciBlID0gIiIsIHQgPSA0OyB0LS0gPiAwOykgeyBpZiAoIVooZWUoKSkpIHRocm93IGVjKGV0KCkpOyBlICs9IGV0KCkgfSByZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQocGFyc2VJbnQoZSwgMTYpKSB9IHZhciBlbyA9IHsgc3RhcnQ6IGZ1bmN0aW9uICgpIHsgaWYgKCJlb2YiID09PSBhLnR5cGUpIHRocm93IGVsKCk7IGVhKCkgfSwgYmVmb3JlUHJvcGVydHlOYW1lOiBmdW5jdGlvbiAoKSB7IHN3aXRjaCAoYS50eXBlKSB7IGNhc2UgImlkZW50aWZpZXIiOiBjYXNlICJzdHJpbmciOiBzID0gYS52YWx1ZSwgbiA9ICJhZnRlclByb3BlcnR5TmFtZSI7IHJldHVybjsgY2FzZSAicHVuY3R1YXRvciI6IGVzKCk7IHJldHVybjsgY2FzZSAiZW9mIjogdGhyb3cgZWwoKSB9IH0sIGFmdGVyUHJvcGVydHlOYW1lOiBmdW5jdGlvbiAoKSB7IGlmICgiZW9mIiA9PT0gYS50eXBlKSB0aHJvdyBlbCgpOyBuID0gImJlZm9yZVByb3BlcnR5VmFsdWUiIH0sIGJlZm9yZVByb3BlcnR5VmFsdWU6IGZ1bmN0aW9uICgpIHsgaWYgKCJlb2YiID09PSBhLnR5cGUpIHRocm93IGVsKCk7IGVhKCkgfSwgYmVmb3JlQXJyYXlWYWx1ZTogZnVuY3Rpb24gKCkgeyBpZiAoImVvZiIgPT09IGEudHlwZSkgdGhyb3cgZWwoKTsgInB1bmN0dWF0b3IiID09PSBhLnR5cGUgJiYgIl0iID09PSBhLnZhbHVlID8gZXMoKSA6IGVhKCkgfSwgYWZ0ZXJQcm9wZXJ0eVZhbHVlOiBmdW5jdGlvbiAoKSB7IGlmICgiZW9mIiA9PT0gYS50eXBlKSB0aHJvdyBlbCgpOyBzd2l0Y2ggKGEudmFsdWUpIHsgY2FzZSAiLCI6IG4gPSAiYmVmb3JlUHJvcGVydHlOYW1lIjsgcmV0dXJuOyBjYXNlICJ9IjogZXMoKSB9IH0sIGFmdGVyQXJyYXlWYWx1ZTogZnVuY3Rpb24gKCkgeyBpZiAoImVvZiIgPT09IGEudHlwZSkgdGhyb3cgZWwoKTsgc3dpdGNoIChhLnZhbHVlKSB7IGNhc2UgIiwiOiBuID0gImJlZm9yZUFycmF5VmFsdWUiOyByZXR1cm47IGNhc2UgIl0iOiBlcygpIH0gfSwgZW5kOiBmdW5jdGlvbiAoKSB7IH0gfTsgZnVuY3Rpb24gZWEoKSB7IHZhciBlOyBzd2l0Y2ggKGEudHlwZSkgeyBjYXNlICJwdW5jdHVhdG9yIjogc3dpdGNoIChhLnZhbHVlKSB7IGNhc2UgInsiOiBlID0ge307IGJyZWFrOyBjYXNlICJbIjogZSA9IFtdIH1icmVhazsgY2FzZSAibnVsbCI6IGNhc2UgImJvb2xlYW4iOiBjYXNlICJudW1lcmljIjogY2FzZSAic3RyaW5nIjogZSA9IGEudmFsdWUgfWlmICh2b2lkIDAgPT09IGMpIGMgPSBlOyBlbHNlIHsgdmFyIHQgPSByW3IubGVuZ3RoIC0gMV07IEFycmF5LmlzQXJyYXkodCkgPyB0LnB1c2goZSkgOiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgcywgeyB2YWx1ZTogZSwgd3JpdGFibGU6ICEwLCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCB9KSB9IGlmIChudWxsICE9PSBlICYmICJvYmplY3QiID09IHR5cGVvZiBlKSByLnB1c2goZSksIG4gPSBBcnJheS5pc0FycmF5KGUpID8gImJlZm9yZUFycmF5VmFsdWUiIDogImJlZm9yZVByb3BlcnR5TmFtZSI7IGVsc2UgeyB2YXIgdSA9IHJbci5sZW5ndGggLSAxXTsgbiA9IG51bGwgPT0gdSA/ICJlbmQiIDogQXJyYXkuaXNBcnJheSh1KSA/ICJhZnRlckFycmF5VmFsdWUiIDogImFmdGVyUHJvcGVydHlWYWx1ZSIgfSB9IGZ1bmN0aW9uIGVzKCkgeyByLnBvcCgpOyB2YXIgZSA9IHJbci5sZW5ndGggLSAxXTsgbiA9IG51bGwgPT0gZSA/ICJlbmQiIDogQXJyYXkuaXNBcnJheShlKSA/ICJhZnRlckFycmF5VmFsdWUiIDogImFmdGVyUHJvcGVydHlWYWx1ZSIgfSBmdW5jdGlvbiBlYyhlKSB7IHJldHVybiB2b2lkIDAgPT09IGUgPyBlaCgiSlNPTjU6IGludmFsaWQgZW5kIG9mIGlucHV0IGF0ICIgKyBpICsgIjoiICsgbykgOiBlaCgiSlNPTjU6IGludmFsaWQgY2hhcmFjdGVyICciICsgZWQoZSkgKyAiJyBhdCAiICsgaSArICI6IiArIG8pIH0gZnVuY3Rpb24gZWwoKSB7IHJldHVybiBlaCgiSlNPTjU6IGludmFsaWQgZW5kIG9mIGlucHV0IGF0ICIgKyBpICsgIjoiICsgbykgfSBmdW5jdGlvbiBlZigpIHsgcmV0dXJuIG8gLT0gNSwgZWgoIkpTT041OiBpbnZhbGlkIGlkZW50aWZpZXIgY2hhcmFjdGVyIGF0ICIgKyBpICsgIjoiICsgbykgfSBmdW5jdGlvbiBlZChlKSB7IHZhciB0ID0geyAiJyI6ICJcXCciLCAnIic6ICdcXCInLCAiXFwiOiAiXFxcXCIsICJcYiI6ICJcXGIiLCAiXGYiOiAiXFxmIiwgIlxuIjogIlxcbiIsICJcciI6ICJcXHIiLCAiCSI6ICJcXHQiLCAiXHYiOiAiXFx2IiwgIlwwIjogIlxcMCIsICJcdTIwMjgiOiAiXFx1MjAyOCIsICJcdTIwMjkiOiAiXFx1MjAyOSIgfTsgaWYgKHRbZV0pIHJldHVybiB0W2VdOyBpZiAoZSA8ICIgIikgeyB2YXIgbiA9IGUuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNik7IHJldHVybiAiXFx4IiArICgiMDAiICsgbikuc3Vic3RyaW5nKG4ubGVuZ3RoKSB9IHJldHVybiBlIH0gZnVuY3Rpb24gZWgoZSkgeyB2YXIgdCA9IFN5bnRheEVycm9yKGUpOyByZXR1cm4gdC5saW5lTnVtYmVyID0gaSwgdC5jb2x1bW5OdW1iZXIgPSBvLCB0IH0gcmV0dXJuIHsgcGFyc2U6IGZ1bmN0aW9uIChlLCBEKSB7IHQgPSBTdHJpbmcoZSksIG4gPSAic3RhcnQiLCByID0gW10sIHUgPSAwLCBpID0gMSwgbyA9IDAsIGEgPSB2b2lkIDAsIHMgPSB2b2lkIDAsIGMgPSB2b2lkIDA7IGRvIGEgPSBmdW5jdGlvbiAoKSB7IGZvciAobCA9ICJkZWZhdWx0IiwgZiA9ICIiLCBkID0gITEsIGggPSAxOyA7KSB7IHAgPSBlZSgpOyB2YXIgZSA9IGVuW2xdKCk7IGlmIChlKSByZXR1cm4gZSB9IH0oKSwgZW9bbl0oKTsgd2hpbGUgKCJlb2YiICE9PSBhLnR5cGUpOyByZXR1cm4gImZ1bmN0aW9uIiA9PSB0eXBlb2YgRCA/IGZ1bmN0aW9uIGUodCwgbiwgcikgeyB2YXIgdSA9IHRbbl07IGlmIChudWxsICE9IHUgJiYgIm9iamVjdCIgPT0gdHlwZW9mIHUpIGlmIChBcnJheS5pc0FycmF5KHUpKSBmb3IgKHZhciBpID0gMDsgaSA8IHUubGVuZ3RoOyBpKyspIHsgdmFyIG8gPSBTdHJpbmcoaSksIGEgPSBlKHUsIG8sIHIpOyB2b2lkIDAgPT09IGEgPyBkZWxldGUgdVtvXSA6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LCBvLCB7IHZhbHVlOiBhLCB3cml0YWJsZTogITAsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwIH0pIH0gZWxzZSBmb3IgKHZhciBzIGluIHUpIHsgdmFyIGMgPSBlKHUsIHMsIHIpOyB2b2lkIDAgPT09IGMgPyBkZWxldGUgdVtzXSA6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh1LCBzLCB7IHZhbHVlOiBjLCB3cml0YWJsZTogITAsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwIH0pIH0gcmV0dXJuIHIuY2FsbCh0LCBuLCB1KSB9KHsgIiI6IGMgfSwgIiIsIEQpIDogYyB9LCBzdHJpbmdpZnk6IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHZhciByLCB1LCBpLCBvID0gW10sIGEgPSAiIiwgcyA9ICIiOyBpZiAobnVsbCA9PSB0IHx8ICJvYmplY3QiICE9IHR5cGVvZiB0IHx8IEFycmF5LmlzQXJyYXkodCkgfHwgKG4gPSB0LnNwYWNlLCBpID0gdC5xdW90ZSwgdCA9IHQucmVwbGFjZXIpLCAiZnVuY3Rpb24iID09IHR5cGVvZiB0KSB1ID0gdDsgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0KSkgeyByID0gW107IGZvciAodmFyIGMgPSAwLCBsID0gdDsgYyA8IGwubGVuZ3RoOyBjICs9IDEpIHsgdmFyIGYgPSBsW2NdLCBkID0gdm9pZCAwOyAic3RyaW5nIiA9PSB0eXBlb2YgZiA/IGQgPSBmIDogKCJudW1iZXIiID09IHR5cGVvZiBmIHx8IGYgaW5zdGFuY2VvZiBTdHJpbmcgfHwgZiBpbnN0YW5jZW9mIE51bWJlcikgJiYgKGQgPSBTdHJpbmcoZikpLCB2b2lkIDAgIT09IGQgJiYgMCA+IHIuaW5kZXhPZihkKSAmJiByLnB1c2goZCkgfSB9IHJldHVybiBuIGluc3RhbmNlb2YgTnVtYmVyID8gbiA9IE51bWJlcihuKSA6IG4gaW5zdGFuY2VvZiBTdHJpbmcgJiYgKG4gPSBTdHJpbmcobikpLCAibnVtYmVyIiA9PSB0eXBlb2YgbiA/IG4gPiAwICYmIChuID0gTWF0aC5taW4oMTAsIE1hdGguZmxvb3IobikpLCBzID0gIiAgICAgICAgICAiLnN1YnN0cigwLCBuKSkgOiAic3RyaW5nIiA9PSB0eXBlb2YgbiAmJiAocyA9IG4uc3Vic3RyKDAsIDEwKSksIGZ1bmN0aW9uIGUodCwgbikgeyB2YXIgaSA9IG5bdF07IHN3aXRjaCAobnVsbCAhPSBpICYmICgiZnVuY3Rpb24iID09IHR5cGVvZiBpLnRvSlNPTjUgPyBpID0gaS50b0pTT041KHQpIDogImZ1bmN0aW9uIiA9PSB0eXBlb2YgaS50b0pTT04gJiYgKGkgPSBpLnRvSlNPTih0KSkpLCB1ICYmIChpID0gdS5jYWxsKG4sIHQsIGkpKSwgaSBpbnN0YW5jZW9mIE51bWJlciA/IGkgPSBOdW1iZXIoaSkgOiBpIGluc3RhbmNlb2YgU3RyaW5nID8gaSA9IFN0cmluZyhpKSA6IGkgaW5zdGFuY2VvZiBCb29sZWFuICYmIChpID0gaS52YWx1ZU9mKCkpLCBpKSB7IGNhc2UgbnVsbDogcmV0dXJuICJudWxsIjsgY2FzZSAhMDogcmV0dXJuICJ0cnVlIjsgY2FzZSAhMTogcmV0dXJuICJmYWxzZSIgfXJldHVybiAic3RyaW5nIiA9PSB0eXBlb2YgaSA/IGgoaSwgITEpIDogIm51bWJlciIgPT0gdHlwZW9mIGkgPyBTdHJpbmcoaSkgOiAib2JqZWN0IiA9PSB0eXBlb2YgaSA/IEFycmF5LmlzQXJyYXkoaSkgPyBmdW5jdGlvbiAodCkgeyBpZiAoby5pbmRleE9mKHQpID49IDApIHRocm93IFR5cGVFcnJvcigiQ29udmVydGluZyBjaXJjdWxhciBzdHJ1Y3R1cmUgdG8gSlNPTjUiKTsgby5wdXNoKHQpOyB2YXIgbiwgciA9IGE7IGEgKz0gczsgZm9yICh2YXIgdSA9IFtdLCBpID0gMDsgaSA8IHQubGVuZ3RoOyBpKyspIHsgdmFyIGMgPSBlKFN0cmluZyhpKSwgdCk7IHUucHVzaCh2b2lkIDAgIT09IGMgPyBjIDogIm51bGwiKSB9IGlmICgwID09PSB1Lmxlbmd0aCkgbiA9ICJbXSI7IGVsc2UgaWYgKCIiID09PSBzKSBuID0gIlsiICsgdS5qb2luKCIsIikgKyAiXSI7IGVsc2UgeyB2YXIgbCA9ICIsXG4iICsgYSwgZiA9IHUuam9pbihsKTsgbiA9ICJbXG4iICsgYSArIGYgKyAiLFxuIiArIHIgKyAiXSIgfSByZXR1cm4gby5wb3AoKSwgYSA9IHIsIG4gfShpKSA6IGZ1bmN0aW9uICh0KSB7IGlmIChvLmluZGV4T2YodCkgPj0gMCkgdGhyb3cgVHlwZUVycm9yKCJDb252ZXJ0aW5nIGNpcmN1bGFyIHN0cnVjdHVyZSB0byBKU09ONSIpOyBvLnB1c2godCk7IHZhciBuLCB1LCBpID0gYTsgYSArPSBzOyBmb3IgKHZhciBjID0gciB8fCBPYmplY3Qua2V5cyh0KSwgbCA9IFtdLCBmID0gMDsgZiA8IGMubGVuZ3RoOyBmICs9IDEpIHsgdmFyIGQgPSBjW2ZdLCBwID0gZShkLCB0KTsgaWYgKHZvaWQgMCAhPT0gcCkgeyB2YXIgRCA9IGZ1bmN0aW9uIChlKSB7IGlmICgwID09PSBlLmxlbmd0aCkgcmV0dXJuIGgoZSwgITApOyB2YXIgdCA9IFN0cmluZy5mcm9tQ29kZVBvaW50KGUuY29kZVBvaW50QXQoMCkpOyBpZiAoIUsodCkpIHJldHVybiBoKGUsICEwKTsgZm9yICh2YXIgbiA9IHQubGVuZ3RoOyBuIDwgZS5sZW5ndGg7IG4rKylpZiAoIVgoU3RyaW5nLmZyb21Db2RlUG9pbnQoZS5jb2RlUG9pbnRBdChuKSkpKSByZXR1cm4gaChlLCAhMCk7IHJldHVybiBlIH0oZCkgKyAiOiI7ICIiICE9PSBzICYmIChEICs9ICIgIiksIEQgKz0gcCwgbC5wdXNoKEQpIH0gfSBpZiAoMCA9PT0gbC5sZW5ndGgpIG4gPSAie30iOyBlbHNlIGlmICgiIiA9PT0gcykgbiA9ICJ7IiArICh1ID0gbC5qb2luKCIsIikpICsgIn0iOyBlbHNlIHsgdmFyIHYgPSAiLFxuIiArIGE7IHUgPSBsLmpvaW4odiksIG4gPSAie1xuIiArIGEgKyB1ICsgIixcbiIgKyBpICsgIn0iIH0gcmV0dXJuIG8ucG9wKCksIGEgPSBpLCBuIH0oaSkgOiB2b2lkIDAgfSgiIiwgeyAiIjogZSB9KTsgZnVuY3Rpb24gaChlKSB7IGZvciAodmFyIHQgPSB7ICInIjogLjEsICciJzogLjIgfSwgbiA9IHsgIiciOiAiXFwnIiwgJyInOiAnXFwiJywgIlxcIjogIlxcXFwiLCAiXGIiOiAiXFxiIiwgIlxmIjogIlxcZiIsICJcbiI6ICJcXG4iLCAiXHIiOiAiXFxyIiwgIgkiOiAiXFx0IiwgIlx2IjogIlxcdiIsICJcMCI6ICJcXDAiLCAiXHUyMDI4IjogIlxcdTIwMjgiLCAiXHUyMDI5IjogIlxcdTIwMjkiIH0sIHIgPSAiIiwgdSA9IDA7IHUgPCBlLmxlbmd0aDsgdSsrKSB7IHZhciBvID0gZVt1XTsgc3dpdGNoIChvKSB7IGNhc2UgIiciOiBjYXNlICciJzogdFtvXSsrLCByICs9IG87IGNvbnRpbnVlOyBjYXNlICJcMCI6IGlmIChKKGVbdSArIDFdKSkgeyByICs9ICJcXHgwMCI7IGNvbnRpbnVlIH0gfWlmIChuW29dKSB7IHIgKz0gbltvXTsgY29udGludWUgfSBpZiAobyA8ICIgIikgeyB2YXIgYSA9IG8uY2hhckNvZGVBdCgwKS50b1N0cmluZygxNik7IHIgKz0gIlxceCIgKyAoIjAwIiArIGEpLnN1YnN0cmluZyhhLmxlbmd0aCk7IGNvbnRpbnVlIH0gciArPSBvIH0gdmFyIHMgPSBpIHx8IE9iamVjdC5rZXlzKHQpLnJlZHVjZShmdW5jdGlvbiAoZSwgbikgeyByZXR1cm4gdFtlXSA8IHRbbl0gPyBlIDogbiB9KTsgcmV0dXJuIHIgPSByLnJlcGxhY2UoUmVnRXhwKHMsICJnIiksIG5bc10pLCBzICsgciArIHMgfSB9IH0gfSgpIH0sIDgoZSkgeyBlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7ICJ1c2Ugc3RyaWN0IjsgZnVuY3Rpb24gZSgpIHsgfSBmdW5jdGlvbiB0KGUpIHsgaWYgKCEodGhpcyBpbnN0YW5jZW9mIHQpKSB0aHJvdyBUeXBlRXJyb3IoIlByb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ldyIpOyBpZiAoImZ1bmN0aW9uIiAhPSB0eXBlb2YgZSkgdGhyb3cgVHlwZUVycm9yKCJub3QgYSBmdW5jdGlvbiIpOyB0aGlzLl9zdGF0ZSA9IDAsIHRoaXMuX2hhbmRsZWQgPSAhMSwgdGhpcy5fdmFsdWUgPSB2b2lkIDAsIHRoaXMuX2RlZmVycmVkcyA9IFtdLCBvKGUsIHRoaXMpIH0gZnVuY3Rpb24gbihlLCBuKSB7IGZvciAoOyAzID09PSBlLl9zdGF0ZTspZSA9IGUuX3ZhbHVlOyAwICE9PSBlLl9zdGF0ZSA/IChlLl9oYW5kbGVkID0gITAsIHQuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uICgpIHsgdmFyIHQsIGkgPSAxID09PSBlLl9zdGF0ZSA/IG4ub25GdWxmaWxsZWQgOiBuLm9uUmVqZWN0ZWQ7IGlmIChudWxsICE9PSBpKSB7IHRyeSB7IHQgPSBpKGUuX3ZhbHVlKSB9IGNhdGNoIChlKSB7IHJldHVybiB2b2lkIHUobi5wcm9taXNlLCBlKSB9IHIobi5wcm9taXNlLCB0KSB9IGVsc2UgKDEgPT09IGUuX3N0YXRlID8gciA6IHUpKG4ucHJvbWlzZSwgZS5fdmFsdWUpIH0pKSA6IGUuX2RlZmVycmVkcy5wdXNoKG4pIH0gZnVuY3Rpb24gcihlLCBuKSB7IHRyeSB7IGlmIChuID09PSBlKSB0aHJvdyBUeXBlRXJyb3IoIkEgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuIik7IGlmIChuICYmICgib2JqZWN0IiA9PSB0eXBlb2YgbiB8fCAiZnVuY3Rpb24iID09IHR5cGVvZiBuKSkgeyB2YXIgciA9IG4udGhlbjsgaWYgKG4gaW5zdGFuY2VvZiB0KSByZXR1cm4gZS5fc3RhdGUgPSAzLCBlLl92YWx1ZSA9IG4sIHZvaWQgaShlKTsgaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIHIpIHJldHVybiB2b2lkIG8oZnVuY3Rpb24gKCkgeyByLmFwcGx5KG4sIGFyZ3VtZW50cykgfSwgZSkgfSBlLl9zdGF0ZSA9IDEsIGUuX3ZhbHVlID0gbiwgaShlKSB9IGNhdGNoICh0KSB7IHUoZSwgdCkgfSB9IGZ1bmN0aW9uIHUoZSwgdCkgeyBlLl9zdGF0ZSA9IDIsIGUuX3ZhbHVlID0gdCwgaShlKSB9IGZ1bmN0aW9uIGkoZSkgeyAyID09PSBlLl9zdGF0ZSAmJiAwID09PSBlLl9kZWZlcnJlZHMubGVuZ3RoICYmIHQuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uICgpIHsgZS5faGFuZGxlZCB8fCB0Ll91bmhhbmRsZWRSZWplY3Rpb25GbihlLl92YWx1ZSkgfSk7IGZvciAodmFyIHIgPSAwLCB1ID0gZS5fZGVmZXJyZWRzLmxlbmd0aDsgdSA+IHI7IHIrKyluKGUsIGUuX2RlZmVycmVkc1tyXSk7IGUuX2RlZmVycmVkcyA9IG51bGwgfSBmdW5jdGlvbiBvKGUsIHQpIHsgdmFyIG4gPSAhMTsgdHJ5IHsgZShmdW5jdGlvbiAoZSkgeyBuIHx8IChuID0gITAsIHIodCwgZSkpIH0sIGZ1bmN0aW9uIChlKSB7IG4gfHwgKG4gPSAhMCwgdSh0LCBlKSkgfSkgfSBjYXRjaCAoZSkgeyBpZiAobikgcmV0dXJuOyBuID0gITAsIHUodCwgZSkgfSB9IHZhciBhID0gc2V0VGltZW91dDsgcmV0dXJuIHQucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIHRoaXMudGhlbihudWxsLCBlKSB9LCB0LnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKHQsIHIpIHsgdmFyIHUgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihlKTsgcmV0dXJuIG4odGhpcywgbmV3IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHRoaXMub25GdWxmaWxsZWQgPSAiZnVuY3Rpb24iID09IHR5cGVvZiBlID8gZSA6IG51bGwsIHRoaXMub25SZWplY3RlZCA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIHQgPyB0IDogbnVsbCwgdGhpcy5wcm9taXNlID0gbiB9KHQsIHIsIHUpKSwgdSB9LCB0LnByb3RvdHlwZS5maW5hbGx5ID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSB0aGlzLmNvbnN0cnVjdG9yOyByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uIChuKSB7IHJldHVybiB0LnJlc29sdmUoZSgpKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG4gfSkgfSwgZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHQucmVzb2x2ZShlKCkpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gdC5yZWplY3QobikgfSkgfSkgfSwgdC5hbGwgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gbmV3IHQoZnVuY3Rpb24gKHQsIG4pIHsgaWYgKCFlIHx8IHZvaWQgMCA9PT0gZS5sZW5ndGgpIHRocm93IFR5cGVFcnJvcigiUHJvbWlzZS5hbGwgYWNjZXB0cyBhbiBhcnJheSIpOyB2YXIgciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpOyBpZiAoMCA9PT0gci5sZW5ndGgpIHJldHVybiB0KFtdKTsgZm9yICh2YXIgdSA9IHIubGVuZ3RoLCBpID0gMDsgci5sZW5ndGggPiBpOyBpKyspIWZ1bmN0aW9uIGUoaSwgbykgeyB0cnkgeyBpZiAobyAmJiAoIm9iamVjdCIgPT0gdHlwZW9mIG8gfHwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgbykpIHsgdmFyIGEgPSBvLnRoZW47IGlmICgiZnVuY3Rpb24iID09IHR5cGVvZiBhKSByZXR1cm4gdm9pZCBhLmNhbGwobywgZnVuY3Rpb24gKHQpIHsgZShpLCB0KSB9LCBuKSB9IHJbaV0gPSBvLCAwID09IC0tdSAmJiB0KHIpIH0gY2F0Y2ggKGUpIHsgbihlKSB9IH0oaSwgcltpXSkgfSkgfSwgdC5yZXNvbHZlID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUgJiYgIm9iamVjdCIgPT0gdHlwZW9mIGUgJiYgZS5jb25zdHJ1Y3RvciA9PT0gdCA/IGUgOiBuZXcgdChmdW5jdGlvbiAodCkgeyB0KGUpIH0pIH0sIHQucmVqZWN0ID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG5ldyB0KGZ1bmN0aW9uICh0LCBuKSB7IG4oZSkgfSkgfSwgdC5yYWNlID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG5ldyB0KGZ1bmN0aW9uICh0LCBuKSB7IGZvciAodmFyIHIgPSAwLCB1ID0gZS5sZW5ndGg7IHUgPiByOyByKyspZVtyXS50aGVuKHQsIG4pIH0pIH0sIHQuX2ltbWVkaWF0ZUZuID0gImZ1bmN0aW9uIiA9PSB0eXBlb2Ygc2V0SW1tZWRpYXRlICYmIGZ1bmN0aW9uIChlKSB7IHNldEltbWVkaWF0ZShlKSB9IHx8IGZ1bmN0aW9uIChlKSB7IGEoZSwgMCkgfSwgdC5fdW5oYW5kbGVkUmVqZWN0aW9uRm4gPSBmdW5jdGlvbiAoZSkgeyB2b2lkIDAgIT09IGNvbnNvbGUgJiYgY29uc29sZSAmJiBjb25zb2xlLndhcm4oIlBvc3NpYmxlIFVuaGFuZGxlZCBQcm9taXNlIFJlamVjdGlvbjoiLCBlKSB9LCB0IH0oKSB9LCA0OTIoZSkgeyB2YXIgdCwgbiwgciwgdSA9IHt9LCBpID0ge30sIG8gPSAodCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXSB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiB2b2lkIDAgPT09IG4gJiYgKG4gPSB0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpLCBuIH0pOyBmdW5jdGlvbiBhKGUsIHQpIHsgdmFyIG4sIHIsIHUsIGEsIHMgPSBpW2VdOyBzIHx8IChzID0gaVtlXSA9IHsgZWxlbWVudDogKChuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSkudHlwZSA9ICJ0ZXh0L2NzcyIsIG4uc2V0QXR0cmlidXRlKCJkYXRhLWp3cGxheWVyLWlkIiwgZSksIG8oKS5hcHBlbmRDaGlsZChuKSwgbiksIGNvdW50ZXI6IDAgfSk7IHZhciBsID0gcy5jb3VudGVyKys7IHJldHVybiByID0gcy5lbGVtZW50LCB1ID0gZnVuY3Rpb24gKGUpIHsgYyhyLCBsLCBlKSB9LCBhID0gZnVuY3Rpb24gKCkgeyBjKHIsIGwsICIiKSB9LCB1KHQuY3NzKSwgZnVuY3Rpb24gKGUpIHsgZSA/IChlLmNzcyAhPT0gdC5jc3MgfHwgZS5tZWRpYSAhPT0gdC5tZWRpYSkgJiYgdSgodCA9IGUpLmNzcykgOiBhKCkgfSB9IGUuZXhwb3J0cyA9IHsgc3R5bGU6IGZ1bmN0aW9uIChlLCB0KSB7ICFmdW5jdGlvbiAoZSwgdCkgeyBmb3IgKHZhciBuID0gMDsgbiA8IHQubGVuZ3RoOyBuKyspIHsgdmFyIHIgPSB0W25dLCBpID0gKHVbZV0gfHwge30pW3IuaWRdOyBpZiAoaSkgeyBmb3IgKHZhciBvID0gMDsgbyA8IGkucGFydHMubGVuZ3RoOyBvKyspaS5wYXJ0c1tvXShyLnBhcnRzW29dKTsgZm9yICg7IG8gPCByLnBhcnRzLmxlbmd0aDsgbysrKWkucGFydHMucHVzaChhKGUsIHIucGFydHNbb10pKSB9IGVsc2UgeyBmb3IgKHZhciBzID0gW10sIG8gPSAwOyBvIDwgci5wYXJ0cy5sZW5ndGg7IG8rKylzLnB1c2goYShlLCByLnBhcnRzW29dKSk7IHVbZV0gPSB1W2VdIHx8IHt9LCB1W2VdW3IuaWRdID0geyBpZDogci5pZCwgcGFydHM6IHMgfSB9IH0gfSh0LCBmdW5jdGlvbiAoZSkgeyBmb3IgKHZhciB0ID0gW10sIG4gPSB7fSwgciA9IDA7IHIgPCBlLmxlbmd0aDsgcisrKSB7IHZhciB1ID0gZVtyXSwgaSA9IHVbMF0sIG8gPSB7IGNzczogdVsxXSwgbWVkaWE6IHVbMl0gfTsgbltpXSA/IG5baV0ucGFydHMucHVzaChvKSA6IHQucHVzaChuW2ldID0geyBpZDogaSwgcGFydHM6IFtvXSB9KSB9IHJldHVybiB0IH0oZSkpIH0sIGNsZWFyOiBmdW5jdGlvbiAoZSwgdCkgeyB2YXIgbiA9IHVbZV07IGlmIChuKSB7IGlmICh0KSB7IHZhciByID0gblt0XTsgaWYgKHIpIGZvciAodmFyIGkgPSAwOyBpIDwgci5wYXJ0cy5sZW5ndGg7IGkgKz0gMSlyLnBhcnRzW2ldKCk7IHJldHVybiB9IGZvciAodmFyIG8gPSBPYmplY3Qua2V5cyhuKSwgYSA9IDA7IGEgPCBvLmxlbmd0aDsgYSArPSAxKWZvciAodmFyIHMgPSBuW29bYV1dLCBjID0gMDsgYyA8IHMucGFydHMubGVuZ3RoOyBjICs9IDEpcy5wYXJ0c1tjXSgpOyBkZWxldGUgdVtlXSB9IH0gfTsgdmFyIHMgPSAociA9IFtdLCBmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gcltlXSA9IHQsIHIuZmlsdGVyKEJvb2xlYW4pLmpvaW4oIlxuIikgfSk7IGZ1bmN0aW9uIGMoZSwgdCwgbikgeyBpZiAoZS5zdHlsZVNoZWV0KSBlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHModCwgbik7IGVsc2UgeyB2YXIgciA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG4pLCB1ID0gZS5jaGlsZE5vZGVzW3RdOyB1ID8gZS5yZXBsYWNlQ2hpbGQociwgdSkgOiBlLmFwcGVuZENoaWxkKHIpIH0gfSB9LCA5NTY2KGUpIHsgZS5leHBvcnRzID0gJzxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTUwIDI5LjMiIGNsYXNzPSJqdy1zdmctaWNvbiBqdy1zdmctaWNvbi13YXRlcm1hcmsiIGZvY3VzYWJsZT0iZmFsc2UiPjxwYXRoIGQ9Ik0zNywxNi42OGMwLDIuNC0uNTksMy40My0yLjQsMy40M2E1Ljc1LDUuNzUsMCwwLDEtMy4zOC0xLjIzdjMuNThhNy4zOSw3LjM5LDAsMCwwLDMuNjcsMWMzLjY3LDAsNS43My0xLjkxLDUuNzMtNi4zMlY1Ljg2SDM3WiI+PC9wYXRoPjxwb2x5Z29uIHBvaW50cz0iNTguMzMgMTcuNjEgNTUuMzkgNi4wMSA1Mi41NSA2LjAxIDQ5LjUyIDE3LjYxIDQ2LjczIDYuMDEgNDMuMDYgNi4wMSA0Ny41NiAyMy4yOSA1MC44OSAyMy4yOSA1My45MiAxMS44OCA1Ni45NiAyMy4yOSA2MC4yNCAyMy4yOSA2NC43NCA2LjAxIDYxLjE3IDYuMDEgNTguMzMgMTcuNjEiPjwvcG9seWdvbj48cGF0aCBkPSJNNzMuODQsNkg2Ny40N1YyMy4yOWgyLjJ2LTYuOWg0LjE3YzMuNDcsMCw1Ljc3LTEuNzcsNS43Ny01LjE5Uzc3LjMxLDYsNzMuODQsNlptMCw4LjQ3SDY5LjcyVjhoNC4xMmMyLjMsMCwzLjU3LDEuMjIsMy42MiwzLjI4Qzc3LjQ2LDEzLjIxLDc2LjE5LDE0LjQ4LDczLjg0LDE0LjQ4WiI+PC9wYXRoPjxwYXRoIGQ9Ik05OS4yLDZsLTYsMTUuMjdIODVWNkg4Mi44VjIzLjI5SDk0LjdsMi01LjE5aDcuMDlsMiw1LjE5SDEwOEwxMDEuMjYsNlpNOTcuMzksMTYuMTRsMi44NC03LjM5TDEwMywxNi4xNFoiPjwvcGF0aD48cG9seWdvbiBwb2ludHM9IjExMy45OCAxNC4xOCAxMDguOTkgNi4wMSAxMDYuNTkgNi4wMSAxMTIuODEgMTYuMTQgMTEyLjgxIDIzLjI5IDExNS4wMSAyMy4yOSAxMTUuMDEgMTYuMTQgMTIxLjMzIDYuMDEgMTE4Ljk4IDYuMDEgMTEzLjk4IDE0LjE4Ij48L3BvbHlnb24+PHBvbHlnb24gcG9pbnRzPSIxMjMuMTQgMjMuMjkgMTM0LjEgMjMuMjkgMTM0LjEgMjEuMjggMTI1LjI5IDIxLjI4IDEyNS4yOSAxNS40MSAxMzMuMzIgMTUuNDEgMTMzLjMyIDEzLjQ1IDEyNS4yOSAxMy40NSAxMjUuMjkgNy45NyAxMzQuMSA3Ljk3IDEzNC4xIDYuMDEgMTIzLjE0IDYuMDEgMTIzLjE0IDIzLjI5Ij48L3BvbHlnb24+PHBhdGggZD0iTTE0NC44NiwxNS44NWMyLjc0LS4zOSw0LjQxLTIsNC40MS00Ljg1LDAtMy4yMy0yLjI2LTUtNS43My01aC02LjMyVjIzLjI5aDIuMjJWMTZoMy4wOGw0Ljk0LDcuMjlIMTUwWm0tNS40Mi0xLjcxVjhoNC4wNmMyLjMsMCwzLjYyLDEuMTcsMy42MiwzLjA4cy0xLjMyLDMuMDktMy42MiwzLjA5WiI+PC9wYXRoPjxwYXRoIGQ9Ik0yNy42My4wOWExLDEsMCwwLDAtMS4zMi40OGMtLjI0LjUxLTYuMzUsMTUuMy02LjM1LDE1LjMtLjIuNDYtLjMzLjQxLS4zMy0uMDcsMCwwLDAtNS4xNSwwLTkuMzksMC0yLjMxLTEuMTItMy42MS0yLjczLTMuODhBMy4xMiwzLjEyLDAsMCwwLDE0LjgzLDNhNC41Nyw0LjU3LDAsMCwwLTEuNSwxLjc5Yy0uNDguOTQtMy40Nyw5LjY2LTMuNDcsOS42Ni0uMTYuNDYtLjMxLjQ0LS4zMSwwLDAsMC0uMDktMy43Ni0uMTgtNC42NC0uMTMtMS4zNi0uNDQtMy41OS0yLjItMy43UzQuNzcsOCw0LjM2LDkuMjRjLS4yOS44NC0xLjY1LDUuMzUtMS42NSw1LjM1bC0uMi40NmgwYy0uMDYuMjQtLjE3LjI0LS4yNCwwbC0uMTEtLjQyUTIsMTQsMS43NCwxMy4zMWExLjcxLDEuNzEsMCwwLDAtLjMzLS42Ni44My44MywwLDAsMC0uODgtLjIyLjgyLjgyLDAsMCwwLS41My42OSw0LjIyLDQuMjIsMCwwLDAsLjA3Ljc5LDI5LDI5LDAsMCwwLDEsNC42LDEuMzEsMS4zMSwwLDAsMCwxLjguNjYsMy40MywzLjQzLDAsMCwwLDEuMjQtMS44MWMuMzMtLjgxLDItNS40OCwyLTUuNDguMTgtLjQ2LjMxLS40NC4yOSwwLDAsMC0uMDksNC41Ny0uMDksNi42NGExMy4xMSwxMy4xMSwwLDAsMCwuMjgsMi45MywyLjQxLDIuNDEsMCwwLDAsLjgyLDEuMjcsMiwyLDAsMCwwLDEuNDEuNCwyLDIsMCwwLDAsLjctLjI0LDMuMTUsMy4xNSwwLDAsMCwuNzktLjcxLDEyLjUyLDEyLjUyLDAsMCwwLDEuMjYtMi4xMWMuODEtMS42LDIuOTItNi41OCwyLjkyLTYuNTguMi0uNDYuMzMtLjQxLjMzLjA3LDAsMC0uMjYsOC4zNi0uMjYsMTEuNTVhNi4zOSw2LjM5LDAsMCwwLC40NCwyLjMzLDIuOCwyLjgsMCwwLDAsMS40NSwxLjYxQTIuNTcsMi41NywwLDAsMCwxOC43OSwyOWEzLjc2LDMuNzYsMCwwLDAsMS4yOC0xLjMyLDE1LjEyLDE1LjEyLDAsMCwwLDEuMDctMi4zMWMuNjQtMS42NSwxLjE3LTMuMzMsMS43LTVzNS0xNy42NSw1LjI4LTE5YTEuNzksMS43OSwwLDAsMCwwLS40NkExLDEsMCwwLDAsMjcuNjMuMDlaIj48L3BhdGg+PC9zdmc+JyB9LCA5NzY1KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBBOiAoKSA9PiByIH0pOyBsZXQgciA9IHsgYWR2ZXJ0aXNpbmc6IHsgYWRtZXNzYWdlOiAiVGhpcyBhZCB3aWxsIGVuZCBpbiB4eCIsIGN1ZXRleHQ6ICJBZHZlcnRpc2VtZW50IiwgZGlzcGxheUhlYWRpbmc6ICJBZHZlcnRpc2VtZW50IiwgbG9hZGluZ0FkOiAiTG9hZGluZyBhZCIsIHBvZG1lc3NhZ2U6ICJBZCBfX0FEX1BPRF9DVVJSRU5UX18gb2YgX19BRF9QT0RfTEVOR1RIX18uIiwgc2tpcG1lc3NhZ2U6ICJTa2lwIGFkIGluIHh4Iiwgc2tpcHRleHQ6ICJTa2lwIiB9LCBhaXJwbGF5OiAiQWlyUGxheSIsIGF1ZGlvVHJhY2tzOiAiQXVkaW8gVHJhY2tzIiwgYXV0bzogIkF1dG8iLCBidWZmZXI6ICJMb2FkaW5nIiwgY2FzdDogIkNocm9tZWNhc3QiLCBjYzogIkNsb3NlZCBDYXB0aW9ucyIsIGNsb3NlOiAiQ2xvc2UiLCBlcnJvcnM6IHsgYmFkQ29ubmVjdGlvbjogIlRoaXMgdmlkZW8gY2Fubm90IGJlIHBsYXllZCBiZWNhdXNlIG9mIGEgcHJvYmxlbSB3aXRoIHlvdXIgaW50ZXJuZXQgY29ubmVjdGlvbi4iLCBjYW50TG9hZFBsYXllcjogIlNvcnJ5LCB0aGUgdmlkZW8gcGxheWVyIGZhaWxlZCB0byBsb2FkLiIsIGNhbnRQbGF5SW5Ccm93c2VyOiAiVGhlIHZpZGVvIGNhbm5vdCBiZSBwbGF5ZWQgaW4gdGhpcyBicm93c2VyLiIsIGNhbnRQbGF5VmlkZW86ICJUaGlzIHZpZGVvIGZpbGUgY2Fubm90IGJlIHBsYXllZC4iLCBlcnJvckNvZGU6ICJFcnJvciBDb2RlIiwgbGl2ZVN0cmVhbURvd246ICJUaGUgbGl2ZSBzdHJlYW0gaXMgZWl0aGVyIGRvd24gb3IgaGFzIGVuZGVkLiIsIHByb3RlY3RlZENvbnRlbnQ6ICJUaGVyZSB3YXMgYSBwcm9ibGVtIHByb3ZpZGluZyBhY2Nlc3MgdG8gcHJvdGVjdGVkIGNvbnRlbnQuIiwgdGVjaG5pY2FsRXJyb3I6ICJUaGlzIHZpZGVvIGNhbm5vdCBiZSBwbGF5ZWQgYmVjYXVzZSBvZiBhIHRlY2huaWNhbCBlcnJvci4iIH0sIGV4aXRGdWxsc2NyZWVuOiAiRXhpdCBGdWxsc2NyZWVuIiwgZnVsbHNjcmVlbjogIkZ1bGxzY3JlZW4iLCBoZDogIlF1YWxpdHkiLCBsaXZlQnJvYWRjYXN0OiAiTGl2ZSIsIGxvZ286ICJMb2dvIiwgbXV0ZTogIk11dGUiLCBuZXh0OiAiTmV4dCIsIG5leHRVcDogIk5leHQgVXAiLCBub3RMaXZlOiAiTm90IExpdmUiLCBvZmY6ICJPZmYiLCBwYXVzZTogIlBhdXNlIiwgcGlwSWNvbjogIlBpY3R1cmUgaW4gUGljdHVyZSAoUGlQKSIsIHBsYXk6ICJQbGF5IiwgcGxheWJhY2s6ICJQbGF5IiwgcGxheWJhY2tSYXRlczogIlBsYXliYWNrIFJhdGVzIiwgcGxheWVyOiAiVmlkZW8gUGxheWVyIiwgcG93ZXJlZEJ5OiAiUG93ZXJlZCBieSIsIHByZXY6ICJQcmV2aW91cyIsIHJlbGF0ZWQ6IHsgYXV0b3BsYXltZXNzYWdlOiAiTmV4dCB1cCBpbiB4eCIsIGhlYWRpbmc6ICJNb3JlIFZpZGVvcyIgfSwgcmVwbGF5OiAiUmVwbGF5IiwgcmV3aW5kOiAiUmV3aW5kIDEwIFNlY29uZHMiLCBzZXR0aW5nczogIlNldHRpbmdzIiwgc2hhcmluZzogeyBjb3BpZWQ6ICJDb3BpZWQiLCBlbWFpbDogIkVtYWlsIiwgZW1iZWQ6ICJFbWJlZCIsIGhlYWRpbmc6ICJTaGFyZSIsIGxpbms6ICJMaW5rIiB9LCBzbGlkZXI6ICJTZWVrIiwgc3RvcDogIlN0b3AiLCB1bm11dGU6ICJVbm11dGUiLCB2aWRlb0luZm86ICJBYm91dCBUaGlzIFZpZGVvIiwgdm9sdW1lOiAiVm9sdW1lIiwgdm9sdW1lU2xpZGVyOiAiVm9sdW1lIiwgc2hvcnRjdXRzOiB7IHBsYXlQYXVzZTogIlBsYXkvUGF1c2UiLCB2b2x1bWVUb2dnbGU6ICJNdXRlL1VubXV0ZSIsIGZ1bGxzY3JlZW5Ub2dnbGU6ICJGdWxsc2NyZWVuL0V4aXQgRnVsbHNjcmVlbiIsIHNlZWtQZXJjZW50OiAiU2VlayAlIiwga2V5Ym9hcmRTaG9ydGN1dHM6ICJLZXlib2FyZCBTaG9ydGN1dHMiLCBpbmNyZWFzZVZvbHVtZTogIkluY3JlYXNlIFZvbHVtZSIsIGRlY3JlYXNlVm9sdW1lOiAiRGVjcmVhc2UgVm9sdW1lIiwgc2Vla0ZvcndhcmQ6ICJTZWVrIEZvcndhcmQiLCBzZWVrQmFja3dhcmQ6ICJTZWVrIEJhY2t3YXJkIiwgc3BhY2ViYXI6ICJTUEFDRSIsIGNhcHRpb25zVG9nZ2xlOiAiQ2FwdGlvbnMgT24vT2ZmIiwgc2hvcnRjdXRzVG9nZ2xlOiAiU2hvcnRjdXRzIE9wZW4vQ2xvc2UiIH0sIGNhcHRpb25zU3R5bGVzOiB7IHN1YnRpdGxlU2V0dGluZ3M6ICJTdWJ0aXRsZSBTZXR0aW5ncyIsIGNvbG9yOiAiRm9udCBDb2xvciIsIGZvbnRPcGFjaXR5OiAiRm9udCBPcGFjaXR5IiwgdXNlckZvbnRTY2FsZTogIkZvbnQgU2l6ZSIsIGZvbnRGYW1pbHk6ICJGb250IEZhbWlseSIsIGVkZ2VTdHlsZTogIkNoYXJhY3RlciBFZGdlIiwgZWRnZUNvbG9yOiAiRWRnZSBDb2xvciIsIGJhY2tncm91bmRDb2xvcjogIkJhY2tncm91bmQgQ29sb3IiLCBiYWNrZ3JvdW5kT3BhY2l0eTogIkJhY2tncm91bmQgT3BhY2l0eSIsIHdpbmRvd0NvbG9yOiAiV2luZG93IENvbG9yIiwgd2luZG93T3BhY2l0eTogIldpbmRvdyBPcGFjaXR5Iiwgd2hpdGU6ICJXaGl0ZSIsIGJsYWNrOiAiQmxhY2siLCByZWQ6ICJSZWQiLCBncmVlbjogIkdyZWVuIiwgYmx1ZTogIkJsdWUiLCB5ZWxsb3c6ICJZZWxsb3ciLCBtYWdlbnRhOiAiTWFnZW50YSIsIGN5YW46ICJDeWFuIiwgbm9uZTogIk5vbmUiLCByYWlzZWQ6ICJSYWlzZWQiLCBkZXByZXNzZWQ6ICJEZXByZXNzZWQiLCB1bmlmb3JtOiAiVW5pZm9ybSIsIGRyb3BTaGFkb3c6ICJEcm9wIFNoYWRvdyIgfSwgZGlzYWJsZWQ6ICJEaXNhYmxlZCIsIGVuYWJsZWQ6ICJFbmFibGVkIiwgcmVzZXQ6ICJSZXNldCIgfSB9LCA2NzI2KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBmdW5jdGlvbiByKGUsIHQsIG4pIHsgdmFyIHIgPSBbXSwgdSA9IHt9LCBpID0gZnVuY3Rpb24gKCkgeyBmb3IgKDsgci5sZW5ndGggPiAwOykgeyB2YXIgdCA9IHIuc2hpZnQoKSwgbiA9IHQuY29tbWFuZCwgaSA9IHQuYXJnczsgKHVbbl0gfHwgZVtuXSkuYXBwbHkoZSwgaSkgfSB9OyB0LmZvckVhY2goZnVuY3Rpb24gKHQpIHsgdmFyIG8gPSBlW3RdOyB1W3RdID0gbywgZVt0XSA9IGZ1bmN0aW9uICgpIHsgZm9yICh2YXIgZSA9IGFyZ3VtZW50cy5sZW5ndGgsIHUgPSBBcnJheShlKSwgYSA9IDA7IGEgPCBlOyBhKyspdVthXSA9IGFyZ3VtZW50c1thXTsgbigpID8gci5wdXNoKHsgY29tbWFuZDogdCwgYXJnczogdSB9KSA6IChpKCksIG8gJiYgby5hcHBseSh0aGlzLCB1KSkgfSB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICJxdWV1ZSIsIHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gciB9IH0pLCB0aGlzLmZsdXNoID0gaSwgdGhpcy5lbXB0eSA9IGZ1bmN0aW9uICgpIHsgci5sZW5ndGggPSAwIH0sIHRoaXMub2ZmID0gZnVuY3Rpb24gKCkgeyB0LmZvckVhY2goZnVuY3Rpb24gKHQpIHsgdmFyIG4gPSB1W3RdOyBuICYmIChlW3RdID0gbiwgZGVsZXRlIHVbdF0pIH0pIH0sIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsgdGhpcy5vZmYoKSwgdGhpcy5lbXB0eSgpIH0gfSBuLmQodCwgeyBBOiAoKSA9PiByIH0pIH0sIDkyMjAoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IEE6ICgpID0+IHIgfSk7IGxldCByID0geyBkZWJ1ZzogITEgfSB9LCA2ODAoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IHI6ICgpID0+IHIsIHQ6ICgpID0+IHUgfSk7IHZhciByID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuc2xpY2UgJiYgInB4IiA9PT0gZS5zbGljZSgtMikgJiYgKGUgPSBlLnNsaWNlKDAsIC0yKSksIGUgfSwgdSA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmICgtMSA9PT0gdC50b1N0cmluZygpLmluZGV4T2YoIiUiKSB8fCAic3RyaW5nIiAhPSB0eXBlb2YgZSB8fCAhZSkgcmV0dXJuIDA7IGlmICgvXlxkKlwuP1xkKyUkLy50ZXN0KGUpKSByZXR1cm4gZTsgdmFyIG4gPSBlLmluZGV4T2YoIjoiKTsgaWYgKC0xID09PSBuKSByZXR1cm4gMDsgdmFyIHIgPSBwYXJzZUZsb2F0KGUuc3Vic3RyKDAsIG4pKSwgdSA9IHBhcnNlRmxvYXQoZS5zdWJzdHIobiArIDEpKTsgcmV0dXJuIHIgPD0gMCB8fCB1IDw9IDAgPyAwIDogIiIuY29uY2F0KHUgLyByICogMTAwLCAiJSIpIH0gfSwgNzcyNShlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgbmg6ICgpID0+IFAsIGF4OiAoKSA9PiBDLCBBeTogKCkgPT4gTyB9KTsgdmFyIHIgPSBuKDY4MCksIHUgPSBuKDU0ODMpLCBpID0gbig0Nzk0KSwgbyA9IG4oOTU1NSksIGEgPSBuKDkwNTUpLCBzID0gbig5NzY1KSwgYyA9IG4oNDkzMyksIGwgPSBuKDIyMzUpLCBmID0gbigzNzg3KSwgZCA9IG4oNzA2OSksIGggPSBuKDUyOTMpLCBwID0gIl9fQ09OVEVYVFVBTF9fIiwgRCA9IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuID0gZS5xdWVyeVNlbGVjdG9yKHQpOyBpZiAobikgcmV0dXJuIG4uZ2V0QXR0cmlidXRlKCJjb250ZW50IikgfSwgdiA9IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuLCByLCB1ID0gbnVsbCA9PSBlIHx8IG51bGwgPT0gKHIgPSBlLnF1ZXJ5U2VsZWN0b3IpIHx8IG51bGwgPT0gKG4gPSByLmNhbGwoZSwgInRpdGxlIikpID8gdm9pZCAwIDogbi50ZXh0Q29udGVudCwgaSA9IGVuY29kZVVSSUNvbXBvbmVudChEKGUsICdtZXRhW3Byb3BlcnR5PSJvZzp0aXRsZSJdJykgfHwgdSB8fCAiIiksIG8gPSBEKGUsICdtZXRhW3Byb3BlcnR5PSJvZzpkZXNjcmlwdGlvbiJdJykgfHwgRChlLCAnbWV0YVtuYW1lPSJkZXNjcmlwdGlvbiJdJyk7IHJldHVybiBvICYmIChpICs9ICImcGFnZV9kZXNjcmlwdGlvbj0iLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQobykpKSwgdC5yZXBsYWNlKHAsIGkpIH0sIGcgPSBuKDk1NjYpLCBtID0gbi5uKGcpLCB5ID0gbig2MDY4KSwgQSA9IG4oOTYyMSksIEYgPSB7IGF1dG9QYXVzZTogeyB2aWV3YWJpbGl0eTogITEsIHBhdXNlQWRzOiAhMSB9LCBhdXRvc3RhcnQ6ICExLCBhbGxvd0Z1bGxzY3JlZW46ICEwLCBiYW5kd2lkdGhFc3RpbWF0ZTogbnVsbCwgYml0cmF0ZVNlbGVjdGlvbjogbnVsbCwgY2FzdEF2YWlsYWJsZTogITEsIGNvbnRyb2xzOiAhMCwgY3VlczogW10sIGRlZmF1bHRQbGF5YmFja1JhdGU6IDEsIGRpc3BsYXlkZXNjcmlwdGlvbjogITAsIGRpc3BsYXl0aXRsZTogITAsIGRpc3BsYXlQbGF5YmFja0xhYmVsOiAhMSwgZW5hYmxlQWRMb2FkaW5nVUk6ICEwLCBhbGxvd1BsYXliYWNrV2hpbGVIaWRkZW5BZExvYWRpbmc6ICExLCBlbmFibGVTaG9ydGN1dHM6ICEwLCBmbG9hdGluZzogeyBtb2RlOiAibmV2ZXIiIH0sIGhlaWdodDogMzYwLCBpbnRsOiB7fSwgaXRlbTogMCwgbGFuZ3VhZ2U6ICJlbiIsIGxpdmVUaW1lb3V0OiBudWxsLCBsb2NhbGl6YXRpb246IHMuQSwgbXV0ZTogITEsIG5leHRVcERpc3BsYXk6ICEwLCBwbGF5YmFja1JhdGVDb250cm9sczogITEsIHBsYXliYWNrUmF0ZXM6IFsuNSwgMSwgMS4yNSwgMS41LCAyXSwgcmVuZGVyQ2FwdGlvbnNOYXRpdmVseTogITEsIGRpc2FibGVJbk1hbmlmZXN0Q2FwdGlvbnM6ICExLCByZXBlYXQ6ICExLCBzaG93VUlXaGVuOiAib25SZWFkeSIsIHN0cmV0Y2hpbmc6ICJ1bmlmb3JtIiwgdm9sdW1lOiA5MCwgd2lkdGg6IDY0MCB9LCBDID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUgPCA1ID8gNSA6IGUgfSwgRSA9IGZ1bmN0aW9uIChlKSB7IE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24gKHQpIHsgImlkIiAhPT0gdCAmJiAoZVt0XSA9ICgwLCBpLnNlcmlhbGl6ZSkoZVt0XSkpIH0pIH0sIGIgPSBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IHBhcnNlRmxvYXQoZSk7IHJldHVybiAoMCwgby5nZikodCkgPyBNYXRoLm1heCh0LCAxKSA6IEYuYmFuZHdpZHRoRXN0aW1hdGUgfSwgdyA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiAic3RyaW5nIiA9PSB0eXBlb2YgZSAmJiAvXlwvXC8oPzpjb250ZW50XC5qd3BsYXRmb3JtfGNkblwuandwbGF5ZXIpXC5jb21cLy8udGVzdChlKSB9LCBCID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuICJodHRwczoiLmNvbmNhdChlKSB9LCBrID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSAoMCwgaC5BKShlLmVkaXRpb24pLCBuID0gZS5yZWxhdGVkLCByID0gIXQoImRpc2NvdmVyeSIpIHx8IG4gIT09IE9iamVjdChuKSwgdSA9ICFuIHx8ICJub25lIiAhPT0gbi5kaXNwbGF5TW9kZSwgaSA9IG4gfHwge30sIG8gPSB2b2lkIDAgPT09IGkub25jb21wbGV0ZSA/ICJub25lIiA6IGkub25jb21wbGV0ZSwgYSA9IGkuYXV0b3BsYXl0aW1lcjsgITEgPT09IG8gfHwgZS5yZXBlYXQgPyBvID0gImhpZGUiIDogIm5vbmUiID09PSBvICYmIChhID0gMCk7IHZhciBzID0gImF1dG9wbGF5IiA9PT0gbyAmJiBhIDw9IDAgfHwgIm5vbmUiID09PSBvOyByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgbiwgeyBkaXNhYmxlUmVsYXRlZDogciwgc2hvd0J1dHRvbjogdSwgb25jb21wbGV0ZTogbywgYXV0b3BsYXl0aW1lcjogYSwgc2hvdWxkQXV0b0FkdmFuY2U6IHMgfSkgfSwgXyA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gZS5hYjsgcmV0dXJuIHQuY2xvbmUgJiYgKHQgPSB0LmNsb25lKCkpLCBPYmplY3Qua2V5cyh0LnRlc3RzKS5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7IHQudGVzdHNbbl0uZm9yRWFjaChmdW5jdGlvbiAodCkgeyB0LmFkZENvbmZpZyAmJiB0LmFkZENvbmZpZyhlLCB0LnNlbGVjdGlvbikgfSkgfSksIHQgfSwgaiA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHQgJiYgKGVbdC5jbGllbnQgfHwgKDAsIEEuR3YpKG4pXSA9IHQsIGRlbGV0ZSB0LmNsaWVudCkgfSwgUCA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gT2JqZWN0LmFzc2lnbih7fSwgZS5wbHVnaW5zKSwgbiA9ICgwLCBoLkEpKGUuZWRpdGlvbik7IGlmIChuKCJhZHMiKSkgeyB2YXIgciA9IE9iamVjdC5hc3NpZ24oe30sIGUuYWR2ZXJ0aXNpbmcpLCB1ID0gci5jbGllbnQ7IHUgJiYgKHRbKDAsIEEuR3YpKHUpIHx8IHVdID0gciwgZGVsZXRlIHIuY2xpZW50KSwgci5iaWRzICYmIGoodCwgci5iaWRzLCAiYmlkZGluZyIpIH0gaWYgKG4oImp3cHNydiIpKSB7IHZhciBpID0gZS5hbmFseXRpY3M7IGkgIT09IE9iamVjdChpKSAmJiAoaSA9IHt9KSwgaih0LCBpLCAiandwc3J2IikgfSByZXR1cm4gaih0LCBlLmdhLCAiZ2Fwcm8iKSwgaih0LCBlLmludGVyYWN0aXZlLCAiaW50ZXJhY3RpdmUiKSwgaih0LCBlLmtlZXBXYXRjaGluZywgImtlZXBXYXRjaGluZyIpLCB0IH07IGxldCBPID0gZnVuY3Rpb24gKGUsIHQpIHsgdmFyIGksIGgsIEQsIGcsIEEsIGosIE8sIFMsIHggPSB7fTsgdCAmJiBPYmplY3QuaGFzT3duKHQsICJtdXRlIikgJiYgKCJib29sZWFuIiA9PSB0eXBlb2YgdC5tdXRlICYmICh4Lm11dGUgPSB0Lm11dGUpLCBkZWxldGUgdC5tdXRlKTsgdmFyIFQgPSBPYmplY3QuYXNzaWduKHt9LCB4LCBudWxsID09IChPID0gd2luZG93KSB8fCBudWxsID09IChqID0gTy5qd3BsYXllcikgPyB2b2lkIDAgOiBqLmRlZmF1bHRzLCB0LCBlKTsgRShUKTsgdmFyIEkgPSBULmZvcmNlTG9jYWxpemF0aW9uRGVmYXVsdHMgPyBGLmxhbmd1YWdlIDogKDAsIGMuWjApKCksIE4gPSAoMCwgYy5seikoVC5pbnRsKTsgVC5sb2NhbGl6YXRpb24gPSAoMCwgYy5tUikocy5BLCAoMCwgYy5QaikoVCwgTiwgSSkpOyB2YXIgTCA9IE9iamVjdC5hc3NpZ24oe30sIEYsIFQpOyAiLiIgPT09IEwuYmFzZSAmJiAoTC5iYXNlID0gKDAsIHUuZ2V0U2NyaXB0UGF0aCkoImp3cGxheWVyLmpzIikpLCBMLmJhc2UgPSAoTC5iYXNlIHx8ICgwLCB1LmxvYWRGcm9tKSgpKS5yZXBsYWNlKC9cLz8kLywgIi8iKSwgbi5wID0gTC5iYXNlLCBMLndpZHRoID0gKDAsIHIucikoTC53aWR0aCksIEwuaGVpZ2h0ID0gKDAsIHIucikoTC5oZWlnaHQpLCBMLmFzcGVjdHJhdGlvID0gKDAsIHIudCkoTC5hc3BlY3RyYXRpbywgTC53aWR0aCksICJzdHJpbmciID09IHR5cGVvZiBMLnZvbHVtZSAmJiAoTC52b2x1bWUgPSBwYXJzZUZsb2F0KEwudm9sdW1lKSksIEwudm9sdW1lID0gKDAsIG8uZ2YpKEwudm9sdW1lKSA/IE1hdGgubWluKE1hdGgubWF4KDAsIEwudm9sdW1lKSwgMTAwKSA6IEYudm9sdW1lLCBMLm11dGUgPSAhIUwubXV0ZSwgTC5sYW5ndWFnZSA9IEksIEwuaW50bCA9IE47IHZhciBNID0gTC5wbGF5bGlzdEluZGV4OyBNICYmIChMLml0ZW0gPSBNKSwgKDAsIG8uRXQpKEwuaXRlbSkgfHwgKEwuaXRlbSA9IDApOyB2YXIgUiA9IFQuYXV0b1BhdXNlOyBSICYmIChMLmF1dG9QYXVzZS52aWV3YWJpbGl0eSA9ICEoInZpZXdhYmlsaXR5IiBpbiBSKSB8fCAhIVIudmlld2FiaWxpdHkpOyB2YXIgViA9IEwucGxheWJhY2tSYXRlQ29udHJvbHM7IGlmIChWKSB7IHZhciBVID0gTC5wbGF5YmFja1JhdGVzOyBBcnJheS5pc0FycmF5KFYpICYmIChVID0gViksIDAgPiAoVSA9IFUuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiAoMCwgby5FdCkoZSkgJiYgZSA+PSAuMjUgJiYgZSA8PSA0IH0pLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gTWF0aC5yb3VuZCgxMDAgKiBlKSAvIDEwMCB9KSkuaW5kZXhPZigxKSAmJiBVLnB1c2goMSksIFUuc29ydCgpLCBMLnBsYXliYWNrUmF0ZUNvbnRyb2xzID0gITAsIEwucGxheWJhY2tSYXRlcyA9IFUgfSAoIUwucGxheWJhY2tSYXRlQ29udHJvbHMgfHwgMCA+IEwucGxheWJhY2tSYXRlcy5pbmRleE9mKEwuZGVmYXVsdFBsYXliYWNrUmF0ZSkpICYmIChMLmRlZmF1bHRQbGF5YmFja1JhdGUgPSAxKSwgTC5wbGF5YmFja1JhdGUgPSBMLmRlZmF1bHRQbGF5YmFja1JhdGUsIEwuYXNwZWN0cmF0aW8gfHwgZGVsZXRlIEwuYXNwZWN0cmF0aW87IHZhciB6ID0gTC5wbGF5bGlzdDsgaWYgKHopIEFycmF5LmlzQXJyYXkoei5wbGF5bGlzdCkgJiYgKEwuZmVlZERhdGEgPSB6LCBMLnBsYXlsaXN0ID0gei5wbGF5bGlzdCk7IGVsc2UgeyB2YXIgSCA9ICgwLCBvLlVwKShMLCBbInRpdGxlIiwgImRlc2NyaXB0aW9uIiwgInR5cGUiLCAibWVkaWFpZCIsICJpbWFnZSIsICJpbWFnZXMiLCAiZmlsZSIsICJzb3VyY2VzIiwgInRyYWNrcyIsICJwcmVsb2FkIiwgImR1cmF0aW9uIiwgImNoYXB0ZXJzIl0pOyBMLnBsYXlsaXN0ID0gW0hdIH0gTC5xdWFsaXR5TGFiZWxzID0gTC5xdWFsaXR5TGFiZWxzIHx8IEwuaGxzbGFiZWxzLCBkZWxldGUgTC5kdXJhdGlvbjsgdmFyICQgPSBMLmxpdmVUaW1lb3V0OyBudWxsICE9PSAkICYmICgoMCwgby5nZikoJCkgPyAwICE9PSAkICYmICgkID0gTWF0aC5tYXgoMzAsICQpKSA6ICQgPSBudWxsLCBMLmxpdmVUaW1lb3V0ID0gJCk7IHZhciBxID0gcGFyc2VGbG9hdChMLmJhbmR3aWR0aEVzdGltYXRlKSwgUSA9IHBhcnNlRmxvYXQoTC5iaXRyYXRlU2VsZWN0aW9uKTsgTC5iYW5kd2lkdGhFc3RpbWF0ZSA9ICgwLCBvLmdmKShxKSA/IHEgOiBiKEwuZGVmYXVsdEJhbmR3aWR0aEVzdGltYXRlKSwgTC5iaXRyYXRlU2VsZWN0aW9uID0gKDAsIG8uZ2YpKFEpID8gUSA6IEYuYml0cmF0ZVNlbGVjdGlvbiwgTC5saXZlU3luY0R1cmF0aW9uID0gQyhMLmxpdmVTeW5jRHVyYXRpb24pLCBMLmJhY2tncm91bmRMb2FkaW5nID0gKDAsIG8uTG0pKEwuYmFja2dyb3VuZExvYWRpbmcpID8gTC5iYWNrZ3JvdW5kTG9hZGluZyA6IGEuRmVhdHVyZXMuYmFja2dyb3VuZExvYWRpbmcsIEwuZW5hYmxlQWRMb2FkaW5nVUkgPSAoaSA9IEwsICFhLkZlYXR1cmVzLmVuYWJsZUFkTG9hZGluZ1VJIHx8IChPYmplY3QuaGFzT3duKFQsICJlbmFibGVBZExvYWRpbmdVSSIpID8gISFULmVuYWJsZUFkTG9hZGluZ1VJIDogIWkuZHluYW1pY0FkcykpLCAhMSA9PT0gTC5lbmFibGVBZExvYWRpbmdVSSAmJiAoTC5iYWNrZ3JvdW5kTG9hZGluZyA9ICEwLCBMLmFsbG93UGxheWJhY2tXaGlsZUhpZGRlbkFkTG9hZGluZyA9IG51bGwgPT0gKFMgPSBULmFsbG93UGxheWJhY2tXaGlsZUhpZGRlbkFkTG9hZGluZykgfHwgUyk7IHZhciBZID0gTC5rZXkgfHwgZi5kZWZhdWx0LmtleSwgVyA9IG5ldyBkLkF5KFkpLCBHID0gVy5lZGl0aW9uKCk7IGlmICgiZnJlZSIgPT09IFcuZWRpdGlvbigpICYmIChMID0gT2JqZWN0LmFzc2lnbih7IHNraW46IHsgYWN0aXZlOiAiI2ZmMDA0NiIsIHRpbWVzbGlkZXI6IHsgcHJvZ3Jlc3M6ICJub25lIiB9IH0sIGxvZ286IHsgcG9zaXRpb246ICJjb250cm9sLWJhciIsIGZpbGU6IG0oKSB9IH0sIEYsICgwLCBvLlVwKShMLCBbImFuYWx5dGljcyIsICJhc3BlY3RyYXRpbyIsICJiYXNlIiwgImZpbGUiLCAiaGVpZ2h0IiwgInBsYXlsaXN0IiwgInNvdXJjZXMiLCAidGltZVNsaWRlciIsICJ3aWR0aCJdKSkpLCBMLmtleSA9IFksIEwuZWRpdGlvbiA9IEcsIEwuZXJyb3IgPSBXLmVycm9yKCksIEwuZ2VuZXJhdGVTRU9NZXRhZGF0YSA9IEwuZ2VuZXJhdGVTRU9NZXRhZGF0YSB8fCAhMSwgbnVsbCAhPSAoQSA9IEwpLmVuYWJsZVZpZGVvVGh1bWJuYWlscyB8fCAoQS5lbmFibGVWaWRlb1RodW1ibmFpbHMgPSAhMCksICJ1bmxpbWl0ZWQiID09PSBHKSB7IHZhciBLID0gKDAsIHUuZ2V0U2NyaXB0UGF0aCkoImp3cGxheWVyLmpzIik7IGlmICghSykgdGhyb3cgRXJyb3IoIkVycm9yIHNldHRpbmcgdXAgcGxheWVyOiBDb3VsZCBub3QgbG9jYXRlIGp3cGxheWVyLmpzIHNjcmlwdCB0YWciKTsgbi5wID0gSyB9IGlmIChMLnJlbGF0ZWQgPSBrKEwpLCBMLmFiICYmIChMLmFiID0gXyhMKSksIEwucGx1Z2lucyA9IFAoTCksIGggPSBMLnBsYXlsaXN0LCAoMCwgby5LZykoaCkgJiYgaC5pbmRleE9mKHApID4gLTEgJiYgKEwucGxheWxpc3QgPSB2KGRvY3VtZW50LCBMLnBsYXlsaXN0KSwgTC5jb250ZXh0dWFsID0gITApLCAoMCwgbC5pc0ZpbGVQcm90b2NvbCkoKSkgeyB2YXIgWCA9IEwucGxheWxpc3QsIEogPSBMLnJlbGF0ZWQ7IHcoWCkgJiYgKEwucGxheWxpc3QgPSBCKFgpKSwgSiAmJiB3KEouZmlsZSkgJiYgKEouZmlsZSA9IEIoSi5maWxlKSkgfSByZXR1cm4gTC5fX2FiU2VuZERvbWFpblRvRmVlZHMgJiYgKEQgPSBMLnBsYXlsaXN0LCAvXC5qd3BsYXRmb3JtLmNvbXxcLmp3cGxheWVyLmNvbS8udGVzdChEKSkgJiYgKEwucGxheWxpc3QgPSAoZyA9IEwucGxheWxpc3QsIGcgKz0gIiIuY29uY2F0KC0xICE9PSBnLmluZGV4T2YoIj8iKSA/ICImIiA6ICI/IiwgInBhZ2VfZG9tYWluPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoKDAsIHkuRSkoKSkpKSksIEwgfSB9LCA5MDgzKGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyAkNTogKCkgPT4gbywgQ2I6ICgpID0+IHMsIENwOiAoKSA9PiBjLCBRNTogKCkgPT4gYSwgY3c6ICgpID0+IGkgfSk7IHZhciByID0gbig4MjUzKSwgdSA9IG4oMjE5NCkuQS5sb2dnZXIuY2hpbGQoImNodW5rTG9hZGVyIiksIGkgPSB7fSwgbyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGwgfSwgYSA9IGZ1bmN0aW9uIChlLCB0KSB7IHJldHVybiBmdW5jdGlvbiAobikgeyB0aHJvdyB1LmVycm9yKG4pLCBuZXcgci5NayhyLmtNLCBlLCB0KSB9IH0sIHMgPSBmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gZnVuY3Rpb24gKG4pIHsgdGhyb3cgdS53YXJuKG4pLCBuZXcgci5NayhudWxsLCBlLCB0KSB9IH0sIGMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuLmUoIjkwNSIpLnRoZW4obi5iaW5kKG4sIDk2NDEpKS50aGVuKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLmRlZmF1bHQgfSkuY2F0Y2goYShyLllEICsgMTAxKSkgfSB9LCA0ODcxKGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBBeTogKCkgPT4gZWosIG5aOiAoKSA9PiBlQiB9KTsgdmFyIHIgPSBuKDM3NTApLCB1ID0gbig2NzI2KSwgaSA9IG4oNzcyNSksIG8gPSBuKDkwODMpLCBhID0gbigzODI3KSwgcyA9IG4oMTk5MyksIGMgPSBuKDU0NzEpLCBsID0gbig5MDYzKSwgZiA9IG4oODg4OCksIGQgPSBuKDE4MDQpLCBoID0gbig4MjUzKSwgcCA9IG4oOTA1NSksIEQgPSBudWxsLCB2ID0gZnVuY3Rpb24gKCkgeyB2YXIgZSA9IHdpbmRvdy5JbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5OyByZXR1cm4gIWUgfHwgISgiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiIGluIHdpbmRvdykgfHwgISgiaW50ZXJzZWN0aW9uUmF0aW8iIGluIGUucHJvdG90eXBlKSB9LCBnID0gZnVuY3Rpb24gKGUsIHQpIHsgdmFyIG4gPSBlLmdldCgicGxheWxpc3QiKTsgaWYgKEFycmF5LmlzQXJyYXkobikgJiYgbi5sZW5ndGgpIGZvciAodmFyIHIgPSAoMCwgYy5kVykoZS5nZXQoIml0ZW0iKSwgbi5sZW5ndGgpLCB1ID0gKDAsIGMuSUEpKCgwLCBzLkEpKG5bcl0pLCBlKSwgaSA9IDA7IGkgPCB1Lmxlbmd0aDsgaSsrKWZvciAodmFyIG8gPSB1W2ldLCBhID0gZS5nZXRQcm92aWRlcnMoKSwgZiA9IDA7IGYgPCBsLk0ubGVuZ3RoOyBmKyspIHsgdmFyIGQgPSBsLk1bZl07IGlmIChhLnByb3ZpZGVyU3VwcG9ydHMoZCwgbykpIHJldHVybiBkLm5hbWUgPT09IHQgfSByZXR1cm4gITEgfSwgbSA9IGZ1bmN0aW9uICgpIHsgdmFyIGUgPSBQcm9taXNlLmFsbChbbi5lKCIzMDUiKS50aGVuKG4udC5iaW5kKG4sIDUxMjcsIDIzKSksIG4uZSgiMzA1IikudGhlbihuLmJpbmQobiwgOTY0MSkpLCBuLmUoIjMwNSIpLnRoZW4obi5iaW5kKG4sIDc0NjQpKSwgbi5lKCIzMDUiKS50aGVuKG4uYmluZChuLCAxMDUzKSldKS50aGVuKGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gKDAsIGEuXykoZSwgNCksIG4gPSAodFswXSwgdFsxXSksIHIgPSB0WzJdLCB1ID0gdFszXSwgaSA9IG4uZGVmYXVsdDsgcmV0dXJuIGQuUS5jb250cm9scyA9IHIuZGVmYXVsdCwgKDAsIGYuQSkodS5kZWZhdWx0KSwgaSB9KS5jYXRjaCgoMCwgby5RNSkoaC5ZRCArIDEwNSkpOyByZXR1cm4gby5jdy5odG1sNSA9IGUsIGUgfSwgeSA9IGZ1bmN0aW9uICgpIHsgdmFyIGUgPSBQcm9taXNlLmFsbChbbi5lKCI1OSIpLnRoZW4obi5iaW5kKG4sIDk2NDEpKSwgbi5lKCI1OSIpLnRoZW4obi5iaW5kKG4sIDc0NjQpKSwgbi5lKCI1OSIpLnRoZW4obi5iaW5kKG4sIDEwNTMpKV0pLnRoZW4oZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSAoMCwgYS5fKShlLCAzKSwgbiA9IHRbMF0sIHIgPSB0WzFdLCB1ID0gdFsyXSwgaSA9IG4uZGVmYXVsdDsgcmV0dXJuIGQuUS5jb250cm9scyA9IHIuZGVmYXVsdCwgKDAsIGYuQSkodS5kZWZhdWx0KSwgaSB9KS5jYXRjaCgoMCwgby5RNSkoaC5ZRCArIDEwNCkpOyByZXR1cm4gby5jdy5odG1sNSA9IGUsIGUgfSwgQSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICh2KCkgPyBuLmUoIjY2NiIpLnRoZW4obi50LmJpbmQobiwgNTEyNywgMjMpKS5jYXRjaCgoMCwgby5RNSkoaC5ZRCArIDEyMCkpIDogUHJvbWlzZS5yZXNvbHZlKCkpLnRoZW4oby5DcCkgfSwgRiA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gZS5nZXQoImNvbnRyb2xzIiksIHIgPSB2KCksIHUgPSBnKGUsICJodG1sNSIpOyByZXR1cm4gcC5PUy50aXplbiA/IEEoKSA6IHQgJiYgciAmJiB1ID8gbSgpIDogdCAmJiB1ID8geSgpIDogdCAmJiByID8gUHJvbWlzZS5hbGwoW24uZSgiNjYzIikudGhlbihuLnQuYmluZChuLCA1MTI3LCAyMykpLCBuLmUoIjY2MyIpLnRoZW4obi5iaW5kKG4sIDk2NDEpKSwgbi5lKCI2NjMiKS50aGVuKG4uYmluZChuLCA3NDY0KSldKS50aGVuKGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gKDAsIGEuXykoZSwgMyksIG4gPSAodFswXSwgdFsxXSksIHIgPSB0WzJdLCB1ID0gbi5kZWZhdWx0OyByZXR1cm4gZC5RLmNvbnRyb2xzID0gci5kZWZhdWx0LCB1IH0pLmNhdGNoKCgwLCBvLlE1KShoLllEICsgMTAzKSkgOiB0ID8gUHJvbWlzZS5hbGwoW24uZSgiNTE3IikudGhlbihuLmJpbmQobiwgOTY0MSkpLCBuLmUoIjUxNyIpLnRoZW4obi5iaW5kKG4sIDc0NjQpKV0pLnRoZW4oZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSAoMCwgYS5fKShlLCAyKSwgbiA9IHRbMF0sIHIgPSB0WzFdLCB1ID0gbi5kZWZhdWx0OyByZXR1cm4gZC5RLmNvbnRyb2xzID0gci5kZWZhdWx0LCB1IH0pLmNhdGNoKCgwLCBvLlE1KShoLllEICsgMTAyKSkgOiBBKCkgfSwgQyA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gKDAsIG8uJDUpKCk7IHJldHVybiB0IHx8IChEIHx8IChEID0gRihlKSksIEQpIH0sIEUgPSBuKDEzNzQpLCBiID0gbigxODkzKSwgdyA9IG4oMTYzNSksIEIgPSBuKDE4NjApLCBrID0gbigxMDI3KSwgXyA9IG4oMTUzNSksIGogPSBuKDcyMzApLCBQID0gbig0OTMzKSwgTyA9IG4oMzI3NyksIFMgPSBuKDE0MTcpLCB4ID0gbig2OTY2KSwgVCA9IG4oNzA2OSksIEkgPSBuKDU0NDUpLCBOID0gbig5NjIxKSwgTCA9IG4oMTY0MiksIE0gPSBbInBlb3BsZS5jb20iXSwgUiA9IGZ1bmN0aW9uICgpIHsgdmFyIGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1swXSA/IGFyZ3VtZW50c1swXSA6IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTsgcmV0dXJuIE0uc29tZShmdW5jdGlvbiAodCkgeyByZXR1cm4gZSA9PT0gdCB8fCBlLmVuZHNXaXRoKCIuIi5jb25jYXQodCkpIH0pIH0sIFYgPSBmdW5jdGlvbiAoZSkgeyB2YXIgdCwgbiA9IG51bGwgPT0gZSB8fCBudWxsID09ICh0ID0gZS5hdHRyaWJ1dGVzKSA/IHZvaWQgMCA6IHQucGxheWxpc3Q7IHJldHVybiBBcnJheS5pc0FycmF5KG4pID8gbi5sZW5ndGggPiAwID8gblswXSA6IG51bGwgOiBuICYmICh2b2lkIDAgPT09IG4gPyAidW5kZWZpbmVkIiA6ICgwLCBMLl8pKG4pKSA9PT0gIm9iamVjdCIgPyBuIDogbnVsbCB9LCBVID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQsIG4gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1sxXSA/IGFyZ3VtZW50c1sxXSA6IHdpbmRvdy5sb2NhdGlvbi5ocmVmOyAobnVsbCA9PSBlIHx8IG51bGwgPT0gKHQgPSBlLmp3cHNlZykgPyB2b2lkIDAgOiB0Lmxlbmd0aCkgJiYgQXJyYXkuaXNBcnJheShudWxsID09IGUgPyB2b2lkIDAgOiBlLmp3cHNlZykgJiYgZmV0Y2goImh0dHBzOi8vY2FwaS5jb25uYXRpeC5jb20vdHIvZW1pIiwgeyBtZXRob2Q6ICJQT1NUIiwgY3JlZGVudGlhbHM6ICJpbmNsdWRlIiwgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBNZWRpYUlkOiBlLm1lZGlhaWQgfHwgbnVsbCwgTWVkaWFVUkw6IGUuZmlsZSB8fCBudWxsLCBQYWdlVXJsOiBuLCBNZWRpYUluc2lnaHRzOiBlLmp3cHNlZywgVXNlckFnZW50OiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBudWxsIH0pIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsgfSkgfSwgeiA9IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuLCByLCB1LCBpID0gbnVsbCA9PSBlIHx8IG51bGwgPT0gKG4gPSBlLmF0dHJpYnV0ZXMpID8gdm9pZCAwIDogbi5qd3BzZWdSZXBvcnRlcjsgaWYgKCExICE9PSBpICYmICghMCA9PT0gaSB8fCBSKCkpKSB7IHZhciBvID0gVihlKTsgaWYgKG51bGwgPT0gbyB8fCBudWxsID09IChyID0gby5qd3BzZWcpID8gdm9pZCAwIDogci5sZW5ndGgpIHsgdmFyIGEgPSBvID8gKDAsIGMuWGgpKGUsIG8sIHt9KSA6IG51bGw7IFUoYSksIHUgPSBhLmZpbGUgfSB2YXIgcyA9IGZ1bmN0aW9uIChlKSB7IGlmICh1KSB7IHZhciB0LCBuID0gdTsgaWYgKHUgPSB2b2lkIDAsIChudWxsID09IGUgfHwgbnVsbCA9PSAodCA9IGUuaXRlbSkgPyB2b2lkIDAgOiB0LmZpbGUpID09PSBuKSByZXR1cm4gfSBVKG51bGwgPT0gZSA/IHZvaWQgMCA6IGUuaXRlbSkgfTsgdC5vbigicGxheWxpc3RJdGVtIiwgcyksIHQub24oInJlbW92ZSIsIGZ1bmN0aW9uICgpIHsgdC5vZmYoInBsYXlsaXN0SXRlbSIsIHMpIH0pIH0gfSwgSCA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHZhciByID0gZS5hdHRyaWJ1dGVzOyByLnBsYXlsaXN0ID0gKDAsIGMuQXkpKHQpLCByLmZlZWREYXRhID0gbiB9LCAkID0gZnVuY3Rpb24gKGUsIHQpIHsgdmFyIG4sIHIsIHUsIGkgPSBudWxsID09ICh1ID0gdC51dGlscykgfHwgbnVsbCA9PSAociA9IHUubG9nZ2VyKSB8fCBudWxsID09IChuID0gci5jaGlsZCkgPyB2b2lkIDAgOiBuLmNhbGwociwgImxvYWRJZGVudGl0eSIpOyAoMCwgai51VCkodC51dGlscywgZS5nZXQoImtleSIpKS50aGVuKGZ1bmN0aW9uIChlKSB7IGlmICgidSIgPiB0eXBlb2Ygd2luZG93ICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2NyaXB0W3NyYyo9ImNvbm5hdGl4LmNvbS9pZGVudGl0eS5qcyJdJykpIHJldHVybiB2b2lkIGkuZGVidWcoIklkZW50aXR5IHNjcmlwdCBhbHJlYWR5IG9uIHBhZ2UiKTsgaWYgKGUgJiYgInUiID4gdHlwZW9mIHdpbmRvdyAmJiB3aW5kb3cuZG9jdW1lbnQpIHsgdmFyIHQgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7IHQuc3JjID0gIi8vY2QuY29ubmF0aXguY29tL2lkZW50aXR5LmpzIiwgdC5zZXRBdHRyaWJ1dGUoImFzeW5jIiwgIjEiKSwgdC5zZXRBdHRyaWJ1dGUoInR5cGUiLCAidGV4dC9qYXZhc2NyaXB0IiksIHdpbmRvdy5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHQpIH0gfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsgdmFyIHQ7IG51bGwgPT0gaSB8fCBudWxsID09ICh0ID0gaS5kZWJ1ZykgfHwgdC5jYWxsKGksIGUpIH0pIH0sIHEgPSBmdW5jdGlvbiAoZSwgdCkgeyB2YXIgbiA9IGUuZ2V0KCJrZXkiKSwgciA9IGUuZ2V0KCJhZHZlcnRpc2luZyIpOyByZXR1cm4gciAmJiByLmFkc2NoZWR1bGVpZCA/ICgwLCBqLmZZKSh0LnV0aWxzLCBuKS50aGVuKGZ1bmN0aW9uICgpIHsgdmFyIHQgPSAoMCwgYi5fKSh7IGNsaWVudDogImp3eCIsIGFkc2NoZWR1bGVpZDogci5hZHNjaGVkdWxlaWQgfSwgKG51bGwgPT0gciA/IHZvaWQgMCA6IHIuYWRTZXJ2ZXIpID8geyBhZFNlcnZlcjogci5hZFNlcnZlciB9IDoge30pOyB0Lm92ZXJyaWRlQWRDb25maWdBY3RpdmUgPSAhMCwgZS5zZXQoImFkdmVydGlzaW5nIiwgdCk7IHZhciBuID0gT2JqZWN0LmtleXMoZS5hdHRyaWJ1dGVzLnBsdWdpbnMgfHwge30pLCB1ID0gITAsIG8gPSAhMSwgYSA9IHZvaWQgMDsgdHJ5IHsgZm9yICh2YXIgcywgYyA9IG5bU3ltYm9sLml0ZXJhdG9yXSgpOyAhKHUgPSAocyA9IGMubmV4dCgpKS5kb25lKTsgdSA9ICEwKSB7IHZhciBsID0gcy52YWx1ZSwgZiA9ICgwLCBOLmRCKShsKTsgKCJnb29naW1hIiA9PT0gZiB8fCAidmFzdCIgPT09IGYgfHwgImZyZWV3aGVlbCIgPT09IGYgfHwgImNueCIgPT09IGYgfHwgImp3eCIgPT09IGYpICYmIGRlbGV0ZSBlLmF0dHJpYnV0ZXMucGx1Z2luc1tsXSB9IH0gY2F0Y2ggKGUpIHsgbyA9ICEwLCBhID0gZSB9IGZpbmFsbHkgeyB0cnkgeyB1IHx8IG51bGwgPT0gYy5yZXR1cm4gfHwgYy5yZXR1cm4oKSB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgYSB9IH0gZS5zZXQoInBsdWdpbnMiLCAoMCwgaS5uaCkoZS5hdHRyaWJ1dGVzKSkgfSkgOiBQcm9taXNlLnJlc29sdmUoKSB9LCBRID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBlLmdldCgicGxheWxpc3QiKTsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChuLCByKSB7IGlmICgic3RyaW5nIiAhPSB0eXBlb2YgdCkgeyB2YXIgdSA9IGUuZ2V0KCJmZWVkRGF0YSIpIHx8IHt9OyByZXR1cm4gSChlLCB0LCB1KSwgbigpIH0gdmFyIGkgPSBuZXcgay5BOyBpLm9uKEIuVlUsIGZ1bmN0aW9uICh0KSB7IHZhciByID0gdC5wbGF5bGlzdDsgZGVsZXRlIHQucGxheWxpc3QsIEgoZSwgciwgdCksIG4oKSB9KSwgaS5vbihCLmZmLCBmdW5jdGlvbiAodCkgeyBIKGUsIFtdLCB7fSksIHIoKDAsIGguRUQpKHQsIGgucFYpKSB9KSwgaS5sb2FkKHQpIH0pIH0sIFkgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5hdHRyaWJ1dGVzLl9kZXN0cm95ZWQgfSwgVyA9IGZ1bmN0aW9uIChlKSB7IGZvciAodmFyIHQgPSBkb2N1bWVudC5zdHlsZVNoZWV0cywgbiA9IDAsIHIgPSB0Lmxlbmd0aDsgbiA8IHI7IG4rKylpZiAodFtuXS5ocmVmID09PSBlKSByZXR1cm4gITA7IHJldHVybiAhMSB9LCBHID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBlLmdldCgic2tpbiIpID8gZS5nZXQoInNraW4iKS51cmwgOiB2b2lkIDA7IHJldHVybiAic3RyaW5nIiAhPSB0eXBlb2YgdCB8fCBXKHQpID8gUHJvbWlzZS5yZXNvbHZlKCkgOiBuZXcgXy5BeSh0LCAhMCkubG9hZCgpLmNhdGNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlIH0pIH0sIEsgPSBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGUuYXR0cmlidXRlcywgbiA9IHQubGFuZ3VhZ2UsIHIgPSB0LmJhc2UsIHUgPSB0LnNldHVwQ29uZmlnLCBpID0gdC5pbnRsLCBvID0gKDAsIFAuUGopKHUsIGksIG4pOyByZXR1cm4gISgwLCBQLkozKShuKSB8fCAoMCwgUC5wUCkobykgPyBQcm9taXNlLnJlc29sdmUoKSA6IG5ldyBQcm9taXNlKGZ1bmN0aW9uICh1KSB7IHJldHVybiAoMCwgUC5FQSkociwgbikudGhlbihmdW5jdGlvbiAobikgeyB2YXIgciA9IG4ucmVzcG9uc2U7IGlmICghWShlKSkgeyBpZiAoIXIpIHRocm93IG5ldyBoLk1rKG51bGwsIGgudHEpOyB0LmxvY2FsaXphdGlvbiA9ICgwLCBQLm1SKShyLCBvKSwgdSgpIH0gfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsgdShlLmNvZGUgPT09IGgudHEgPyBlIDogKDAsIGguRUQpKGUsIGguZl8pKSB9KSB9KSB9LCBYID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBlLmdldCgiYWR2ZXJ0aXNpbmciKTsgcmV0dXJuICEhKG51bGwgPT0gdCA/IHZvaWQgMCA6IHQub3V0c3RyZWFtKSB9LCBKID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBlLmF0dHJpYnV0ZXMsIG4gPSB0LmVycm9yOyBpZiAobiAmJiBuLmNvZGUgPT09IFQuRkUpIHsgdmFyIHIgPSB0LnBpZCwgdSA9IHQucGgsIGkgPSBuZXcgVC5BeSh0LmtleSk7IGlmICh1ID4gMCAmJiB1IDwgNCAmJiByICYmIGkuZHVyYXRpb24oKSA+IC03Nzc2ZTYpIHJldHVybiBuZXcgXy5BeSgiLy9jb250ZW50Lmp3cGxhdGZvcm0uY29tL2xpYnJhcmllcy8iLmNvbmNhdChyLCAiLmpzIikpLmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHsgdmFyIGUgPSB3aW5kb3cuandwbGF5ZXIuZGVmYXVsdHMua2V5LCBuID0gbmV3IFQuQXkoZSk7IG4uZXJyb3IoKSB8fCBuLnRva2VuKCkgIT09IGkudG9rZW4oKSB8fCAodC5rZXkgPSBlLCB0LmVkaXRpb24gPSBuLmVkaXRpb24oKSwgdC5lcnJvciA9IG4uZXJyb3IoKSkgfSkuY2F0Y2goZnVuY3Rpb24gKCkgeyB9KSB9IHJldHVybiBQcm9taXNlLnJlc29sdmUoKSB9LCBaID0gZnVuY3Rpb24gKGUsIHQpIHsgdmFyIG4gPSBbSihlKV07IHJldHVybiBYKGUpIHx8IG4ucHVzaChQcm9taXNlLnJlc29sdmUoKSksIFByb21pc2UuYWxsKG4pIH0sIGVlID0gZnVuY3Rpb24gKGUsIHQpIHsgcmV0dXJuIG4uZSgiNzM4IikudGhlbihuLmJpbmQobiwgMzkyMykpLnRoZW4oZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG5ldyBuLmRlZmF1bHQodCkuc2V0dXAoZSkgfSkuY2F0Y2goKDAsIG8uUTUpKGguWUQgKyAxMzApKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIEcoZSkgfSkgfSwgZXQgPSBmdW5jdGlvbiAoZSwgdCkgeyB2YXIgbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICgwLCBPLkF5KShlLCB0KSB9OyByZXR1cm4gKDAsIEkuQSkoKSA/IGVlKGUsIHQpLnRoZW4obikuY2F0Y2gobikgOiBuKCkgfSwgZW4gPSBuKDcyNjgpLCBlciA9IGZ1bmN0aW9uIChlKSB7IGlmICghZSB8fCAhZS5sZW5ndGgpIHJldHVybiB7IGNvcmU6IG51bGwsIHdhcm5pbmdzOiBbXSB9OyB2YXIgdCA9IGUucmVkdWNlKGZ1bmN0aW9uIChlLCB0KSB7IHJldHVybiBlLmNvbmNhdCh0KSB9LCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBudWxsID09IGUgPyB2b2lkIDAgOiBlLmNvZGUgfSk7IHJldHVybiB7IGNvcmU6IGVbMF0sIHdhcm5pbmdzOiB0IH0gfTsgbGV0IGV1ID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQ7IHRoaXMuc3RhcnQgPSBmdW5jdGlvbiAobikgeyB2YXIgciwgdSwgaSA9IChyID0gZSwgKDAsIEUuXykoZnVuY3Rpb24gKCkgeyByZXR1cm4gKDAsIHcuWUgpKHRoaXMsIGZ1bmN0aW9uIChlKSB7IHN3aXRjaCAoZS5sYWJlbCkgeyBjYXNlIDA6IHJldHVybiBbNCwgKDAsIEUuXykoZnVuY3Rpb24gKCkgeyByZXR1cm4gKDAsIHcuWUgpKHRoaXMsIGZ1bmN0aW9uIChlKSB7IHN3aXRjaCAoZS5sYWJlbCkgeyBjYXNlIDA6IHRyeSB7ICQociwgbikgfSBjYXRjaCAoZSkgeyB9IGUubGFiZWwgPSAxOyBjYXNlIDE6IHJldHVybiBlLnRyeXMucHVzaChbMSwgMywgLCA0XSksIFs0LCBxKHIsIG4pXTsgY2FzZSAyOiBjYXNlIDM6IHJldHVybiBlLnNlbnQoKSwgWzMsIDRdOyBjYXNlIDQ6IHJldHVybiBbMl0gfSB9KSB9KSgpXTsgY2FzZSAxOiByZXR1cm4gZS5zZW50KCksIHoociwgbiksIFsyXSB9IH0pIH0pKCkpLnRoZW4oZnVuY3Rpb24gKCkgeyB1ID0gZXQoZSwgbik7IHZhciB0LCByLCBpID0gKDAsIGVuLnIpKGUsIG4pOyByZXR1cm4gUHJvbWlzZS5hbGwoW0MoZSksICh0ID0gZSwgbmV3IFByb21pc2UoZnVuY3Rpb24gKGUpIHsgaWYgKHQuYXR0cmlidXRlcy5saXZlU3luY0R1cmF0aW9uID4gNDUpIHJldHVybiBlKCgwLCBoLkVEKShFcnJvcigpLCBoLmQ2KSk7IHZhciBuID0gQXJyYXkuaXNBcnJheSh0LmF0dHJpYnV0ZXMucGxheWxpc3QpICYmIHQuYXR0cmlidXRlcy5wbGF5bGlzdC5tYXAoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuY2hhcHRlcnMgfSk7IHJldHVybiAobnVsbCA9PSBuID8gdm9pZCAwIDogbi5sZW5ndGgpID8gKDAsIFMuWmgpKG4sIGUpIDogZSgpIH0pKSwgdSwgaSwgWChyID0gZSkgPyBQcm9taXNlLnJlc29sdmUoKSA6IFEocikudGhlbihmdW5jdGlvbiAoKSB7IGlmIChyLmdldCgiZHJtIikgfHwgKDAsIHguSGopKHIuZ2V0KCJwbGF5bGlzdCIpKSkgcmV0dXJuICgwLCB4LmR5KShyLmdldCgiZWRpdGlvbiIpKSB9KS50aGVuKGZ1bmN0aW9uICgpIHsgaWYgKCFZKHIpKSB7IHZhciBlID0gKDAsIGMuUnUpKHIuZ2V0KCJwbGF5bGlzdCIpLCByKTsgci5hdHRyaWJ1dGVzLnBsYXlsaXN0ID0gZTsgdHJ5IHsgKDAsIGMuRjgpKGUpIH0gY2F0Y2ggKGUpIHsgdGhyb3cgZS5jb2RlICs9IGgucFYsIGUgfSB2YXIgdCA9IHIuZ2V0UHJvdmlkZXJzKCksIG4gPSAoMCwgYy5kVykoci5nZXQoIml0ZW0iKSwgZS5sZW5ndGgpLCB1ID0gdC5jaG9vc2UoZVtuXS5zb3VyY2VzWzBdKSwgaSA9IHUucHJvdmlkZXIsIGEgPSB1Lm5hbWU7IHJldHVybiAiZnVuY3Rpb24iID09IHR5cGVvZiBpID8gaSA6IG8uY3cuaHRtbDUgJiYgImh0bWw1IiA9PT0gYSA/IG8uY3cuaHRtbDUgOiB0LmxvYWQoYSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsgdGhyb3cgKDAsIGguRUQpKGUsIGguV0kpIH0pIH0gfSksIFooZSwgbiksIEcoZSksIEsoZSldKSB9KSwgYSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChlLCBuKSB7IHQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgbihuZXcgaC5NayhoLmtNLCBoLiRtKSkgfSwgNmU0KTsgdmFyIHIgPSBmdW5jdGlvbiAoKSB7IGNsZWFyVGltZW91dCh0KSwgc2V0VGltZW91dChlLCA2ZTQpIH07IGkudGhlbihyKS5jYXRjaChyKSB9KTsgcmV0dXJuIFByb21pc2UucmFjZShbaSwgYV0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gZnVuY3Rpb24gKCkgeyB0aHJvdyBlIH07IHJldHVybiB1ID8gdS50aGVuKHQpLmNhdGNoKHQpIDogdCgiU2V0dXAgRXJyb3IiKSB9KS50aGVuKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlcihlKSB9KSB9LCB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7IGNsZWFyVGltZW91dCh0KSwgZS5zZXQoIl9kZXN0cm95ZWQiLCAhMCksIGUgPSBudWxsIH0gfTsgdmFyIGVpID0gbig5ODEzKSwgZW8gPSBuKDcyMDMpLCBlYSA9IG4oNDk0KSwgZXMgPSBuKDk0MDcpLCBlYyA9IG4oNDY3KSwgZWwgPSBuKDQ3OTQpLCBlZiA9IG4oOTIyMCksIGVkID0gbigyMTk0KSwgZWggPSBlZC5BLmxvZ2dlci5jaGlsZCgiandwbGF5ZXIvbW9kZWwvc3RvcmFnZSIpLCBlcCA9IHsgcmVtb3ZlSXRlbTogZnVuY3Rpb24gKGUpIHsgfSB9OyB0cnkgeyBlcCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UgfHwgZXAgfSBjYXRjaCAoZSkgeyBlaC5kZWJ1ZyhlKSB9IHZhciBlRCA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZSh0LCBuKSB7ICgwLCBlYS5fKSh0aGlzLCBlKSwgKDAsIGVjLl8pKHRoaXMsICJuYW1lc3BhY2UiLCB2b2lkIDApLCAoMCwgZWMuXykodGhpcywgIml0ZW1zIiwgdm9pZCAwKSwgdGhpcy5uYW1lc3BhY2UgPSB0LCB0aGlzLml0ZW1zID0gbiB9IHJldHVybiAoMCwgZXMuXykoZSwgW3sga2V5OiAiZ2V0QWxsSXRlbXMiLCB2YWx1ZTogZnVuY3Rpb24gKCkgeyB2YXIgZSA9IHRoaXM7IHJldHVybiB0aGlzLml0ZW1zLnJlZHVjZShmdW5jdGlvbiAodCwgbikgeyB2YXIgciA9IGVwWyIiLmNvbmNhdChlLm5hbWVzcGFjZSwgIi4iKS5jb25jYXQobildOyByZXR1cm4gciAmJiAodFtuXSA9ICJjYXB0aW9ucyIgIT09IG4gPyAoMCwgZWwuc2VyaWFsaXplKShyKSA6IEpTT04ucGFyc2UocikpLCB0IH0sIHt9KSB9IH0sIHsga2V5OiAidHJhY2siLCB2YWx1ZTogZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSB0aGlzOyB0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKG4pIHsgZS5vbigiY2hhbmdlOiIuY29uY2F0KG4pLCBmdW5jdGlvbiAoZSwgcikgeyB0cnkgeyAiY2FwdGlvbnMiID09PSBuICYmIChyID0gSlNPTi5zdHJpbmdpZnkocikpLCBlcFsiIi5jb25jYXQodC5uYW1lc3BhY2UsICIuIikuY29uY2F0KG4pXSA9IHIgfSBjYXRjaCAoZSkgeyBlZi5BLmRlYnVnICYmIGVoLmVycm9yKGUpIH0gfSkgfSkgfSB9LCB7IGtleTogImNsZWFyIiwgdmFsdWU6IGZ1bmN0aW9uICgpIHsgdmFyIGUgPSB0aGlzOyB0aGlzLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKHQpIHsgZXAucmVtb3ZlSXRlbSgiIi5jb25jYXQoZS5uYW1lc3BhY2UsICIuIikuY29uY2F0KHQpKSB9KSB9IH1dKSwgZSB9KCksIGV2ID0gbig4MTg2KSwgZWcgPSBuKDcyNjQpLCBlbSA9IG4oNTAwMSksIGV5ID0gbig4OTk5KSwgZUEgPSBuKDgwOTIpLCBlRiA9IG4oNjcyMSksIGVDID0gbigyODg1KTsgbig4MDg5KSwgbig2NjIyKTsgdmFyIGVFID0gZWQuQS5sb2dnZXIuY2hpbGQoImp3cGxheWVyL2FwaS9jb3JlLXNoaW0iKSwgZWIgPSBmdW5jdGlvbiAoZSwgdCkgeyB0ICYmIHQuY29kZSAmJiAodC5zb3VyY2VFcnJvciAmJiBlRS5lcnJvcih0LnNvdXJjZUVycm9yKSwgZUUuZXJyb3IoaC5Nay5sb2dNZXNzYWdlKHQuY29kZSkpKSB9LCBldyA9IGZ1bmN0aW9uIChlKSB7IGUgJiYgZS5jb2RlICYmIGVFLndhcm4oaC5Nay5sb2dNZXNzYWdlKGUuY29kZSkpIH0sIGVCID0gZnVuY3Rpb24gKGUsIHQpIHsgaWYgKCFkb2N1bWVudC5ib2R5LmNvbnRhaW5zKGUuY3VycmVudENvbnRhaW5lcikpIHsgdmFyIG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLmdldCgiaWQiKSk7IG4gJiYgKGUuY3VycmVudENvbnRhaW5lciA9IG4pIH0gZS5jdXJyZW50Q29udGFpbmVyLnBhcmVudEVsZW1lbnQgJiYgZS5jdXJyZW50Q29udGFpbmVyLnBhcmVudEVsZW1lbnQucmVwbGFjZUNoaWxkKHQsIGUuY3VycmVudENvbnRhaW5lciksIGUuY3VycmVudENvbnRhaW5lciA9IHQgfSwgZWsgPSBmdW5jdGlvbiAoZSwgdCwgbikgeyBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHsgdmFyIHIgPSAoMCwgaC5PaikoaC5UbSwgaC5vbywgbiksIHUgPSBlLl9tb2RlbCB8fCBlLm1vZGVsU2hpbTsgci5tZXNzYWdlID0gci5tZXNzYWdlIHx8IHUuZ2V0KCJsb2NhbGl6YXRpb24iKS5lcnJvcnNbci5rZXldLCBkZWxldGUgci5rZXk7IHZhciBpID0gdS5nZXQoImNvbnRleHR1YWwiKTsgaWYgKCFpKSB7IHZhciBvID0gKDAsIGV5LkEpKGUsIHIpOyBleS5BLmNsb25lSWNvbiAmJiBvLnF1ZXJ5U2VsZWN0b3IoIi5qdy1pY29uIikuYXBwZW5kQ2hpbGQoZXkuQS5jbG9uZUljb24oImVycm9yIikpLCBlQihlLCBvKSB9IHUuc2V0KCJlcnJvckV2ZW50IiwgciksIHUuc2V0KCJzdGF0ZSIsIEIucEYpLCBlLnRyaWdnZXIoQi5UYywgciksIGkgJiYgdC5yZW1vdmUoKSB9KSB9LCBlXyA9IGZ1bmN0aW9uIChlKSB7IHRoaXMuX2V2ZW50cyA9IHt9LCB0aGlzLm1vZGVsU2hpbSA9IG5ldyBldi5BLCB0aGlzLm1vZGVsU2hpbS5fcW9lSXRlbSA9IG5ldyBlby5BLCB0aGlzLm1lZGlhU2hpbSA9IHt9LCB0aGlzLnNldHVwID0gbmV3IGV1KHRoaXMubW9kZWxTaGltKSwgdGhpcy5jdXJyZW50Q29udGFpbmVyID0gdGhpcy5vcmlnaW5hbENvbnRhaW5lciA9IGUsIHRoaXMuYXBpUXVldWUgPSBuZXcgdS5BKHRoaXMsIFsibG9hZCIsICJwbGF5IiwgInBhdXNlIiwgInNlZWsiLCAic3RvcCIsICJwbGF5bGlzdEl0ZW0iLCAicGxheWxpc3ROZXh0IiwgInBsYXlsaXN0UHJldiIsICJuZXh0IiwgInByZWxvYWQiLCAic2V0QWxsb3dGdWxsc2NyZWVuIiwgInNldENvbmZpZyIsICJzZXRDdXJyZW50QXVkaW9UcmFjayIsICJzZXRDdXJyZW50Q2FwdGlvbnMiLCAic2V0Q3VycmVudFF1YWxpdHkiLCAic2V0RnVsbHNjcmVlbiIsICJzZXRQaXAiLCAicmVxdWVzdFBpcCIsICJhZGRCdXR0b24iLCAicmVtb3ZlQnV0dG9uIiwgImNhc3RUb2dnbGUiLCAicmVxdWVzdENhc3QiLCAic2V0TXV0ZSIsICJzZXRWb2x1bWUiLCAic2V0UGxheWJhY2tSYXRlIiwgImFkZEN1ZXMiLCAic2V0Q3VlcyIsICJnZXRDdWVzIiwgInNldFBsYXlsaXN0SXRlbSIsICJzdG9wQ2FzdGluZyIsICJnZXRDaGFwdGVycyIsICJnZXRDdXJyZW50Q2hhcHRlciIsICJzZXRDaGFwdGVyIiwgInJlc2l6ZSIsICJzZXRDYXB0aW9ucyIsICJzZXRDb250cm9scyJdLCBmdW5jdGlvbiAoKSB7IHJldHVybiAhMCB9KSB9OyBPYmplY3QuYXNzaWduKGVfLnByb3RvdHlwZSwgeyBvbjogZW0uQXkub24sIG9uY2U6IGVtLkF5Lm9uY2UsIG9mZjogZW0uQXkub2ZmLCB0cmlnZ2VyOiBlbS5BeS50cmlnZ2VyLCBpbml0OiBmdW5jdGlvbiAoZSwgdCkgeyB2YXIgbiA9IHRoaXMsIHUgPSB0aGlzLm1vZGVsU2hpbSwgbyA9IG5ldyBlRCgiandwbGF5ZXIiLCBbInZvbHVtZSIsICJtdXRlIiwgImNhcHRpb25MYWJlbCIsICJjYXB0aW9ucyIsICJiYW5kd2lkdGhFc3RpbWF0ZSIsICJiaXRyYXRlU2VsZWN0aW9uIiwgInF1YWxpdHlMYWJlbCIsICJlbmFibGVTaG9ydGN1dHMiXSksIGEgPSBudWxsID09IG8gPyB2b2lkIDAgOiBvLmdldEFsbEl0ZW1zKCk7IHUuYXR0cmlidXRlcyA9IHUuYXR0cmlidXRlcyB8fCB7fSwgT2JqZWN0LmFzc2lnbih0aGlzLm1lZGlhU2hpbSwgZWcuRV8pOyB2YXIgcyA9ICgwLCBpLkF5KShPYmplY3QuYXNzaWduKHt9LCBlKSwgYSk7IHMuaWQgPSB0LmlkLCBzLnNldHVwQ29uZmlnID0gZSwgT2JqZWN0LmFzc2lnbih1LmF0dHJpYnV0ZXMsIHMsIGVnLnA1KSwgdS5nZXRQcm92aWRlcnMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgZWkuQShzKSB9LCB1LnNldFByb3ZpZGVyID0gZnVuY3Rpb24gKCkgeyB9OyB2YXIgYyA9ICgwLCBlQS5BKSgpOyBpZiAoIXUuZ2V0KCJiYWNrZ3JvdW5kTG9hZGluZyIpKSB7IHZhciBsID0gcy5tZWRpYUVsZW1lbnQsIGYgPSAoMCwgci5fKShsLCBIVE1MVmlkZW9FbGVtZW50KSA/IGwgOiBjLmdldFByaW1lZEVsZW1lbnQoKTsgYyA9ICgwLCBlRi5BKShmLCBjKSB9IHZhciBkID0gdGhpcy5wcmltZVVpID0gbmV3IGVDLkF5KCgwLCBlQy52aikodGhpcy5vcmlnaW5hbENvbnRhaW5lcikpLm9uY2UoImdlc3R1cmUiLCBmdW5jdGlvbiAoKSB7IGMucHJpbWUoKSwgbi5wcmVsb2FkKCksIGQuZGVzdHJveSgpIH0pOyByZXR1cm4gdS5vbigiY2hhbmdlOmVycm9yRXZlbnQiLCBlYiksIHRoaXMuc2V0dXAuc3RhcnQodCkudGhlbihmdW5jdGlvbiAoZSkgeyB2YXIgciA9IGUuY29yZTsgaWYgKCFyKSB0aHJvdyAoMCwgaC5FRCkobnVsbCwgaC5ObSk7IGlmIChuLnNldHVwKSB7IG4ub24oQi5OeiwgZXcpLCBlLndhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgbi50cmlnZ2VyKEIuTnosIGUpIH0pOyB2YXIgaSA9IG4ubW9kZWxTaGltLmNsb25lKCk7IGlmIChpLmVycm9yKSB0aHJvdyBpLmVycm9yOyB2YXIgYSA9IG4uYXBpUXVldWUucXVldWUuc2xpY2UoMCk7IG4uYXBpUXVldWUuZGVzdHJveSgpLCBPYmplY3QuYXNzaWduKG4sIHIucHJvdG90eXBlKSwgbi5wbGF5ZXJTZXR1cChpLCB0LCBuLm9yaWdpbmFsQ29udGFpbmVyLCBuLl9ldmVudHMsIGEsIGMpOyB2YXIgcyA9IG4uX21vZGVsOyByZXR1cm4gdS5vZmYoImNoYW5nZTplcnJvckV2ZW50IiwgZWIpLCBzLm9uKCJjaGFuZ2U6ZXJyb3JFdmVudCIsIGViKSwgby50cmFjayhzKSwgbi51cGRhdGVQbGF5bGlzdChzLmdldCgicGxheWxpc3QiKSwgcy5nZXQoImZlZWREYXRhIikpLmNhdGNoKGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gZS5jb2RlID09PSBoLkpmID8gaC5taiA6IGgucFY7IHRocm93ICgwLCBoLkVEKShlLCB0KSB9KSB9IH0pLnRoZW4oZnVuY3Rpb24gKCkgeyBuLnNldHVwICYmIG4ucGxheWVyUmVhZHkoKSB9KS5jYXRjaChmdW5jdGlvbiAoZSkgeyBuLnNldHVwICYmIGVrKG4sIHQsIGUpIH0pIH0sIHBsYXllckRlc3Ryb3k6IGZ1bmN0aW9uICgpIHsgdGhpcy5kZXN0cm95ICYmIHRoaXMuZGVzdHJveSgpLCB0aGlzLmFwaVF1ZXVlICYmIHRoaXMuYXBpUXVldWUuZGVzdHJveSgpLCB0aGlzLnNldHVwICYmIHRoaXMuc2V0dXAuZGVzdHJveSgpLCB0aGlzLnByaW1lVWkgJiYgdGhpcy5wcmltZVVpLmRlc3Ryb3koKSwgdGhpcy5jdXJyZW50Q29udGFpbmVyICE9PSB0aGlzLm9yaWdpbmFsQ29udGFpbmVyICYmIGVCKHRoaXMsIHRoaXMub3JpZ2luYWxDb250YWluZXIpLCB0aGlzLm9mZigpLCB0aGlzLl9ldmVudHMgPSB0aGlzLl9tb2RlbCA9IHRoaXMubW9kZWxTaGltID0gdGhpcy5hcGlRdWV1ZSA9IHRoaXMucHJpbWVVaSA9IHRoaXMuc2V0dXAgPSBudWxsIH0sIGdldENvbnRhaW5lcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5jdXJyZW50Q29udGFpbmVyIH0sIGdldDogZnVuY3Rpb24gKGUpIHsgaWYgKHRoaXMubW9kZWxTaGltKSByZXR1cm4gZSBpbiB0aGlzLm1lZGlhU2hpbSA/IHRoaXMubWVkaWFTaGltW2VdIDogdGhpcy5tb2RlbFNoaW0uZ2V0KGUpIH0sIGdldEl0ZW1Rb2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMubW9kZWxTaGltLl9xb2VJdGVtIH0sIGdldEl0ZW1Qcm9taXNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsIH0sIHNldEl0ZW1DYWxsYmFjazogZnVuY3Rpb24gKGUpIHsgdGhpcy5tb2RlbFNoaW0gJiYgKHRoaXMubW9kZWxTaGltLmF0dHJpYnV0ZXMucGxheWxpc3RJdGVtQ2FsbGJhY2sgPSBlKSB9LCBnZXRDb25maWc6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMubW9kZWxTaGltLmF0dHJpYnV0ZXMsIHRoaXMubWVkaWFTaGltKSB9LCBnZXRDdXJyZW50Q2FwdGlvbnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZ2V0KCJjYXB0aW9uc0luZGV4IikgfSwgZ2V0V2lkdGg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZ2V0KCJjb250YWluZXJXaWR0aCIpIH0sIGdldEhlaWdodDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5nZXQoImNvbnRhaW5lckhlaWdodCIpIH0sIGdldE11dGU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZ2V0KCJtdXRlIikgfSwgZ2V0UHJvdmlkZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZ2V0KCJwcm92aWRlciIpIH0sIGdldFN0YXRlOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmdldCgic3RhdGUiKSB9LCBnZXRBYnNvbHV0ZVBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsIH0sIGdldEF1ZGlvVHJhY2tzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsIH0sIGdldENhcHRpb25zTGlzdDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbCB9LCBnZXRRdWFsaXR5TGV2ZWxzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsIH0sIGdldFZpc3VhbFF1YWxpdHk6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG51bGwgfSwgZ2V0Q3VycmVudFF1YWxpdHk6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIC0xIH0sIGdldEN1cnJlbnRBdWRpb1RyYWNrOiBmdW5jdGlvbiAoKSB7IHJldHVybiAtMSB9LCBnZXRTYWZlUmVnaW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiB7IHg6IDAsIHk6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSB9LCBpc0JlZm9yZUNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IHJldHVybiAhMSB9LCBpc0JlZm9yZVBsYXk6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICExIH0sIGNyZWF0ZUluc3RyZWFtOiBmdW5jdGlvbiAoKSB7IHJldHVybiBudWxsIH0sIHNraXBBZDogZnVuY3Rpb24gKCkgeyB9LCBnZXRNZWRpYUVsZW1lbnQ6IGZ1bmN0aW9uICgpIHsgfSwgYXR0YWNoTWVkaWE6IGZ1bmN0aW9uICgpIHsgfSwgZGV0YWNoTWVkaWE6IGZ1bmN0aW9uICgpIHsgfSwgaXNSZWFkeTogZnVuY3Rpb24gKCkgeyB2YXIgZTsgcmV0dXJuIChudWxsID09IChlID0gdGhpcy5fbW9kZWwpID8gdm9pZCAwIDogZS5nZXQoImlzUmVhZHkiKSkgfHwgITEgfSB9KTsgbGV0IGVqID0gZV8gfSwgODI1MyhlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgJG06ICgpID0+IGMsIEVEOiAoKSA9PiBJLCBKZjogKCkgPT4geSwgTWs6ICgpID0+IHgsIE5tOiAoKSA9PiBsLCBPMTogKCkgPT4gQSwgT2o6ICgpID0+IFQsIFRtOiAoKSA9PiBTLCBVUDogKCkgPT4gQiwgVXM6ICgpID0+IE4sIFdJOiAoKSA9PiB2LCBZRDogKCkgPT4gZiwgWmw6ICgpID0+IFAsIF9JOiAoKSA9PiBFLCBicDogKCkgPT4gaiwgYzU6ICgpID0+IHAsIGQ2OiAoKSA9PiBGLCBkbzogKCkgPT4gZywgZl86ICgpID0+IGIsIGh1OiAoKSA9PiBELCBrTTogKCkgPT4gXywgbGM6ICgpID0+IE8sIG1IOiAoKSA9PiBDLCBtajogKCkgPT4gaCwgb286ICgpID0+IHMsIHBWOiAoKSA9PiBkLCBwWDogKCkgPT4gaywgcm06ICgpID0+IG0sIHRxOiAoKSA9PiB3IH0pOyB2YXIgciA9IG4oNDk0KSwgdSA9IG4oOTQwNyksIGkgPSBuKDQ2NyksIG8gPSBuKDM3NTApLCBhID0gbig5NTU1KSwgcyA9IDFlNSwgYyA9IDEwMDAwMSwgbCA9IDEwMDAwMiwgZiA9IDEwMWUzLCBkID0gMTAyZTMsIGggPSAxMDI3MDAsIHAgPSAyMDAwMDEsIEQgPSAyMDJlMywgdiA9IDEwNGUzLCBnID0gMjAzZTMsIG0gPSAyMDM2NDAsIHkgPSAyMDM3MDAsIEEgPSAyMDRlMywgRiA9IDMwMDEwMCwgQyA9IDMwMDIwMCwgRSA9IDMwNmUzLCBiID0gMzA4ZTMsIHcgPSAzMDg2NDAsIEIgPSAiY2FudFBsYXlWaWRlbyIsIGsgPSAiYmFkQ29ubmVjdGlvbiIsIF8gPSAiY2FudExvYWRQbGF5ZXIiLCBqID0gImNhbnRQbGF5SW5Ccm93c2VyIiwgUCA9ICJsaXZlU3RyZWFtRG93biIsIE8gPSAicHJvdGVjdGVkQ29udGVudCIsIFMgPSAidGVjaG5pY2FsRXJyb3IiLCB4ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBlKHQsIG4sIHUpIHsgKDAsIHIuXykodGhpcywgZSksICgwLCBpLl8pKHRoaXMsICJtZXNzYWdlIiwgdm9pZCAwKSwgKDAsIGkuXykodGhpcywgImtleSIsIHZvaWQgMCksICgwLCBpLl8pKHRoaXMsICJjb2RlIiwgdm9pZCAwKSwgKDAsIGkuXykodGhpcywgInNvdXJjZUVycm9yIiwgdm9pZCAwKSwgdGhpcy5jb2RlID0gKDAsIGEuZ2YpKG4pID8gbiA6IDAsIHRoaXMuc291cmNlRXJyb3IgPSB1IHx8IG51bGwsIHQgPyB0aGlzLmtleSA9IHQgOiBkZWxldGUgdGhpcy5rZXkgfSByZXR1cm4gKDAsIHUuXykoZSwgbnVsbCwgW3sga2V5OiAibG9nTWVzc2FnZSIsIHZhbHVlOiBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGUgJSAxZTMsIG4gPSBNYXRoLmZsb29yKChlIC0gdCkgLyAxZTMpLCByID0gZS50b1N0cmluZygpOyB0ID49IDQwMCAmJiB0IDwgNjAwICYmIChyID0gIiIuY29uY2F0KG4sICI0MDAtIikuY29uY2F0KG4sICI1OTkiKSk7IHZhciB1ID0gZSA+IDI5OTk5OSAmJiBlIDwgNGU1OyByZXR1cm4gIkpXIFBsYXllciAiLmNvbmNhdCh1ID8gIldhcm5pbmciIDogIkVycm9yIiwgIiAiKS5jb25jYXQoZSwgIi4gRm9yIG1vcmUgaW5mb3JtYXRpb24gc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLmp3cGxheWVyLmNvbS9qdy1wbGF5ZXIvZG9jcy9kZXZlbG9wZXItZ3VpZGUvYXBpL2Vycm9ycy1yZWZlcmVuY2UjIikuY29uY2F0KHIpIH0gfV0pLCBlIH0oKSwgVCA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHJldHVybiAoMCwgby5fKShuLCB4KSAmJiBuLmNvZGUgPyBuIDogbmV3IHgoZSwgdCwgbikgfSwgSSA9IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuID0gVChTLCB0LCBlKTsgcmV0dXJuIG4uY29kZSA9IChlICYmICgwLCBvLl8pKGUsIHgpICYmIGUuY29kZSB8fCAwKSArIHQsIG4gfSwgTiA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gZS5uYW1lLCBuID0gZS5tZXNzYWdlOyBzd2l0Y2ggKHQpIHsgY2FzZSAiQWJvcnRFcnJvciI6IGlmICgvcGF1c2UvLnRlc3QobikpIHJldHVybiAzMDMyMTM7IGlmICgvbG9hZC8udGVzdChuKSkgcmV0dXJuIDMwMzIxMjsgcmV0dXJuIDMwMzIxMDsgY2FzZSAiTm90QWxsb3dlZEVycm9yIjogcmV0dXJuIDMwMzIyMDsgY2FzZSAiTm90U3VwcG9ydGVkRXJyb3IiOiByZXR1cm4gMzAzMjMwOyBkZWZhdWx0OiByZXR1cm4gMzAzMjAwIH0gfSB9LCA5NjA4KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBBOiAoKSA9PiByIH0pOyBsZXQgciA9IFtdIH0sIDcyMDMoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IEE6ICgpID0+IGwgfSk7IHZhciByID0gbig0OTQpLCB1ID0gbig5NDA3KSwgaSA9IG4oNDY3KSwgbyA9IG4oMzI5NyksIGEgPSB3aW5kb3cucGVyZm9ybWFuY2UgfHwgeyB0aW1pbmc6IHt9IH0sIHMgPSBhLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQgfHwgKDAsIG8udCkoKTsgIm5vdyIgaW4gYSB8fCAoYS5ub3cgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAoMCwgby50KSgpIC0gcyB9KTsgdmFyIGMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzICsgYS5ub3coKSB9OyBsZXQgbCA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZSgpIHsgKDAsIHIuXykodGhpcywgZSksICgwLCBpLl8pKHRoaXMsICJzdGFydFRpbWVzIiwgdm9pZCAwKSwgKDAsIGkuXykodGhpcywgInN1bSIsIHZvaWQgMCksICgwLCBpLl8pKHRoaXMsICJjb3VudHMiLCB2b2lkIDApLCAoMCwgaS5fKSh0aGlzLCAidGlja3MiLCB2b2lkIDApLCB0aGlzLnN0YXJ0VGltZXMgPSB7fSwgdGhpcy5zdW0gPSB7fSwgdGhpcy5jb3VudHMgPSB7fSwgdGhpcy50aWNrcyA9IHt9IH0gcmV0dXJuICgwLCB1Ll8pKGUsIFt7IGtleTogInN0YXJ0IiwgdmFsdWU6IGZ1bmN0aW9uIChlKSB7IHRoaXMuc3RhcnRUaW1lc1tlXSA9IGMoKSwgdGhpcy5jb3VudHNbZV0gPSB0aGlzLmNvdW50c1tlXSArIDEgfHwgMSB9IH0sIHsga2V5OiAiZW5kIiwgdmFsdWU6IGZ1bmN0aW9uIChlKSB7IGlmICh0aGlzLnN0YXJ0VGltZXNbZV0pIHsgdmFyIHQgPSBjKCkgLSB0aGlzLnN0YXJ0VGltZXNbZV07IGRlbGV0ZSB0aGlzLnN0YXJ0VGltZXNbZV0sIHRoaXMuc3VtW2VdID0gdGhpcy5zdW1bZV0gKyB0IHx8IHQgfSB9IH0sIHsga2V5OiAiZHVtcCIsIHZhbHVlOiBmdW5jdGlvbiAoKSB7IHZhciBlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdW0pOyBmb3IgKHZhciB0IGluIHRoaXMuc3RhcnRUaW1lcykgaWYgKE9iamVjdC5oYXNPd24odGhpcy5zdGFydFRpbWVzLCB0KSkgeyB2YXIgbiA9IGMoKSAtIHRoaXMuc3RhcnRUaW1lc1t0XTsgZVt0XSA9IGVbdF0gKyBuIHx8IG4gfSByZXR1cm4geyBjb3VudHM6IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY291bnRzKSwgc3VtczogZSwgZXZlbnRzOiBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnRpY2tzKSB9IH0gfSwgeyBrZXk6ICJ0aWNrIiwgdmFsdWU6IGZ1bmN0aW9uIChlKSB7IHRoaXMudGlja3NbZV0gPSBjKCkgfSB9LCB7IGtleTogImNsZWFyIiwgdmFsdWU6IGZ1bmN0aW9uIChlKSB7IGRlbGV0ZSB0aGlzLnRpY2tzW2VdIH0gfSwgeyBrZXk6ICJiZXR3ZWVuIiwgdmFsdWU6IGZ1bmN0aW9uIChlLCB0KSB7IHJldHVybiB0aGlzLnRpY2tzW3RdICYmIHRoaXMudGlja3NbZV0gPyB0aGlzLnRpY2tzW3RdIC0gdGhpcy50aWNrc1tlXSA6IG51bGwgfSB9XSksIGUgfSgpIH0sIDE4MDQoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IFE6ICgpID0+IG8sIHY6ICgpID0+IGEgfSk7IHZhciByID0gbig5MDgzKSwgdSA9IG4oOTA1NSksIGkgPSBudWxsLCBvID0ge30sIGEgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBpIHx8IChpID0gdS5PUy50aXplbkFwcCA/IG4uZSgiMTE0IikudGhlbihuLmJpbmQobiwgNDk2NSkpLnRoZW4oZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBlLmRlZmF1bHQ7IHJldHVybiBvLmNvbnRyb2xzID0gdCwgdCB9KS5jYXRjaChmdW5jdGlvbiAoKSB7IGkgPSBudWxsLCAoMCwgci5DYikoMzAxMTMzKSgpIH0pIDogbi5lKCIzMDAiKS50aGVuKG4uYmluZChuLCA3NDY0KSkudGhlbihmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGUuZGVmYXVsdDsgcmV0dXJuIG8uY29udHJvbHMgPSB0LCB0IH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsgaSA9IG51bGwsICgwLCByLkNiKSgzMDExMzApKCkgfSkpLCBpIH0gfSwgOTA1NShlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5yKHQpLCBuLmQodCwgeyBGZWF0dXJlczogKCkgPT4gaCwgQnJvd3NlcjogKCkgPT4gZiwgT1M6ICgpID0+IGQgfSk7IHZhciByID0gbigyNjY5KSwgdSA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmIChlLmNocm9tZSkgbiA9IC0xICE9PSB0LmluZGV4T2YoIkNocm9tZSIpID8gdC5zdWJzdHJpbmcodC5pbmRleE9mKCJDaHJvbWUiKSArIDcpIDogdC5zdWJzdHJpbmcodC5pbmRleE9mKCJDcmlPUyIpICsgNik7IGVsc2UgaWYgKGUuc2FmYXJpKSBuID0gdC5zdWJzdHJpbmcodC5pbmRleE9mKCJWZXJzaW9uIikgKyA4KTsgZWxzZSBpZiAoZS5maXJlZm94KSBuID0gdC5zdWJzdHJpbmcodC5pbmRleE9mKCJGaXJlZm94IikgKyA4KTsgZWxzZSBpZiAoZS5lZGdlKSB7IHZhciBuLCByLCB1LCBpLCBvID0gdC5pbmRleE9mKCJFZGdlIik7IC0xID09PSBvID8gbyA9IHQuaW5kZXhPZigiRWRnIikgKyA0IDogbyArPSA1LCBuID0gdC5zdWJzdHJpbmcobykgfSBlbHNlIGUuaWUgJiYgKC0xICE9PSB0LmluZGV4T2YoInJ2OiIpID8gbiA9IHQuc3Vic3RyaW5nKHQuaW5kZXhPZigicnY6IikgKyAzKSA6IC0xICE9PSB0LmluZGV4T2YoIk1TSUUiKSAmJiAobiA9IHQuc3Vic3RyaW5nKHQuaW5kZXhPZigiTVNJRSIpICsgNSkpKTsgcmV0dXJuIG4gJiYgKC0xICE9PSAoaSA9IG4uaW5kZXhPZigiOyIpKSAmJiAobiA9IG4uc3Vic3RyaW5nKDAsIGkpKSwgLTEgIT09IChpID0gbi5pbmRleE9mKCIgIikpICYmIChuID0gbi5zdWJzdHJpbmcoMCwgaSkpLCAtMSAhPT0gKGkgPSBuLmluZGV4T2YoIikiKSkgJiYgKG4gPSBuLnN1YnN0cmluZygwLCBpKSksIHIgPSBwYXJzZUludChuLCAxMCksIHUgPSBwYXJzZUludChuLnNwbGl0KCIuIilbMV0sIDEwKSksIHsgdmVyc2lvbjogbiwgbWFqb3I6IHIsIG1pbm9yOiB1IH0gfSwgaSA9IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuID0gZS5leGVjKHQpOyBpZiAobiAmJiBuLmxlbmd0aCA+IDEpIHJldHVybiBuWzFdIH0sIG8gPSBmdW5jdGlvbiAoZSwgdCkgeyBpZiAoZS53aW5kb3dzKSBzd2l0Y2ggKG4gPSBpKC9XaW5kb3dzKD86IE5UfCk/IChbLl9cZF0rKS8sIHQpKSB7IGNhc2UgIjYuMSI6IG4gPSAiNy4wIjsgYnJlYWs7IGNhc2UgIjYuMiI6IG4gPSAiOC4wIjsgYnJlYWs7IGNhc2UgIjYuMyI6IG4gPSAiOC4xIiB9IGVsc2UgZS5hbmRyb2lkID8gbiA9IGkoL0FuZHJvaWQgKFsuX1xkXSspLywgdCkgOiBlLmlPUyA/IG4gPSBpKC9PUyAoWy5fXGRdKykvLCB0KSA6IGUubWFjID8gbiA9IGkoL01hYyBPUyBYIChbLl9cZF0rKS8sIHQpIDogZS50aXplbiAmJiAobiA9IGkoL1RpemVuIChbLl9cZF0rKS8sIHQpKTsgaWYgKG4pIHsgdmFyIG4sIHIsIHUgPSBwYXJzZUludChuLCAxMCksIG8gPSBuLnNwbGl0KC9bLl9dLyk7IG8gJiYgKHIgPSBwYXJzZUludChvWzFdLCAxMCkpIH0gcmV0dXJuIHsgdmVyc2lvbjogbiwgbWFqb3I6IHUsIG1pbm9yOiByIH0gfSwgYSA9IG4oMjE5NCksIHMgPSBuYXZpZ2F0b3IudXNlckFnZW50LCBjID0gZnVuY3Rpb24gKCkgeyB9LCBsID0gZnVuY3Rpb24gKCkgeyB2YXIgZSA9ICExOyB0cnkgeyB2YXIgdCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgInBhc3NpdmUiLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZSA9ICEwIH0gfSk7IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJ0ZXN0UGFzc2l2ZSIsIGMsIHQpLCB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigidGVzdFBhc3NpdmUiLCBjLCB0KSB9IGNhdGNoIChlKSB7IGEuQS5sb2dnZXIuY2hpbGQoImp3cGxheWVyL2Vudmlyb25tZW50L2Vudmlyb25tZW50IikuZGVidWcoZSkgfSByZXR1cm4gZSB9LCBmID0geyBnZXQgYW5kcm9pZE5hdGl2ZSgpIHsgcmV0dXJuICgwLCByLlA2KSgpIH0sIGdldCBjaHJvbWUoKSB7IHJldHVybiAoMCwgci5IOCkoKSB9LCBnZXQgZWRnZSgpIHsgcmV0dXJuICgwLCByLlVQKSgpIH0sIGdldCBmYWNlYm9vaygpIHsgcmV0dXJuICgwLCByLnJCKSgpIH0sIGdldCBmaXJlZm94KCkgeyByZXR1cm4gKDAsIHIuVlMpKCkgfSwgZ2V0IGllKCkgeyByZXR1cm4gKDAsIHIubFQpKCkgfSwgZ2V0IG1zaWUoKSB7IHJldHVybiAoMCwgci5MNCkoKSB9LCBnZXQgc2FmYXJpKCkgeyByZXR1cm4gKDAsIHIubnIpKCkgfSwgZ2V0IHZlcnNpb24oKSB7IHJldHVybiB1KHRoaXMsIHMpIH0gfSwgZCA9IHsgZ2V0IGFuZHJvaWQoKSB7IHJldHVybiAoMCwgci5tMCkoKSB9LCBnZXQgaU9TKCkgeyByZXR1cm4gKDAsIHIudW4pKCkgfSwgZ2V0IG1vYmlsZSgpIHsgcmV0dXJuICgwLCByLkZyKSgpIH0sIGdldCBtYWMoKSB7IHJldHVybiAoMCwgci5UMykoKSB9LCBnZXQgaVBhZCgpIHsgcmV0dXJuICgwLCByLmJoKSgpIH0sIGdldCBpUGhvbmUoKSB7IHJldHVybiAoMCwgci5OMSkoKSB9LCBnZXQgd2luZG93cygpIHsgcmV0dXJuIHMuaW5kZXhPZigiV2luZG93cyIpID4gLTEgfSwgZ2V0IHRpemVuKCkgeyByZXR1cm4gKDAsIHIuWk4pKCkgfSwgZ2V0IHRpemVuQXBwKCkgeyByZXR1cm4gKDAsIHIudSQpKCkgfSwgZ2V0IHZlcnNpb24oKSB7IHJldHVybiBvKHRoaXMsIHMpIH0gfSwgaCA9IHsgZ2V0IGZsYXNoKCkgeyByZXR1cm4gKDAsIHIuanYpKCkgfSwgZ2V0IGZsYXNoVmVyc2lvbigpIHsgcmV0dXJuICgwLCByLiR3KSgpIH0sIGdldCBpZnJhbWUoKSB7IHJldHVybiAoMCwgci5kNCkoKSB9LCBnZXQgcGFzc2l2ZUV2ZW50cygpIHsgcmV0dXJuIGwoKSB9LCBnZXQgYmFja2dyb3VuZExvYWRpbmcoKSB7IHJldHVybiAhKGQuaU9TIHx8IGQudGl6ZW4pIH0sIGdldCBoZWFkbGVzcygpIHsgcmV0dXJuICExIH0sIGdldCBlbmFibGVBZExvYWRpbmdVSSgpIHsgcmV0dXJuICFkLnRpemVuIH0gfSB9LCAxODYwKGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBBcDogKCkgPT4gRywgQkk6ICgpID0+IEgsIEJzOiAoKSA9PiBiLCBEMzogKCkgPT4gUywgRHk6ICgpID0+IF8sIEYwOiAoKSA9PiBlRiwgRjM6ICgpID0+IGVsLCBGRjogKCkgPT4gdywgRm06ICgpID0+IG0sIEdkOiAoKSA9PiBLLCBMRDogKCkgPT4gZWksIExLOiAoKSA9PiBELCBMbTogKCkgPT4gQywgTTogKCkgPT4gZUUsIE5xOiAoKSA9PiBNLCBOejogKCkgPT4gRiwgTzg6ICgpID0+IFUsIE9ZOiAoKSA9PiBlZywgUDE6ICgpID0+IGV0LCBQTTogKCkgPT4gdiwgUG86ICgpID0+IHksIFFmOiAoKSA9PiBkLCBRbDogKCkgPT4gaywgUkY6ICgpID0+IGV2LCBSdDogKCkgPT4gcCwgUnk6ICgpID0+IGgsIFNHOiAoKSA9PiBlYiwgU0w6ICgpID0+IGV5LCBUYzogKCkgPT4gJCwgVUk6ICgpID0+IE4sIFVYOiAoKSA9PiB6LCBVdzogKCkgPT4gZXMsIFZIOiAoKSA9PiBlciwgVk06ICgpID0+IFosIFZVOiAoKSA9PiBlYSwgVlc6ICgpID0+IGVtLCBWbjogKCkgPT4gZXAsIFhDOiAoKSA9PiBlbywgWEw6ICgpID0+IGVmLCBZNzogKCkgPT4geCwgWVM6ICgpID0+IFEsIFprOiAoKSA9PiBlRCwgX1Q6ICgpID0+IGVBLCBfZTogKCkgPT4gViwgYTA6ICgpID0+IGV1LCBiNDogKCkgPT4gZWUsIGNlOiAoKSA9PiBxLCBkdjogKCkgPT4gaiwgZjk6ICgpID0+IHUsIGZOOiAoKSA9PiBZLCBmZjogKCkgPT4gQSwgZ1U6ICgpID0+IFQsIGkyOiAoKSA9PiBnLCBpbDogKCkgPT4gbCwgajogKCkgPT4gZiwgams6ICgpID0+IEIsIGs5OiAoKSA9PiBlZCwgb0Y6ICgpID0+IGksIHAwOiAoKSA9PiBYLCBwRjogKCkgPT4gcywgcjM6ICgpID0+IEUsIHJCOiAoKSA9PiBlaCwgclM6ICgpID0+IEwsIHJqOiAoKSA9PiBJLCBzNzogKCkgPT4gTywgdUg6ICgpID0+IGVjLCB1ZjogKCkgPT4gZW4sIHY4OiAoKSA9PiBhLCB2QjogKCkgPT4gYywgdmg6ICgpID0+IG8sIHdHOiAoKSA9PiBSLCB5RTogKCkgPT4gUCwgejI6ICgpID0+IFcsIHpIOiAoKSA9PiBlQywgek06ICgpID0+IHIsIHpZOiAoKSA9PiBKIH0pOyB2YXIgciA9ICJidWZmZXJpbmciLCB1ID0gImlkbGUiLCBpID0gImNvbXBsZXRlIiwgbyA9ICJwYXVzZWQiLCBhID0gInBsYXlpbmciLCBzID0gImVycm9yIiwgYyA9ICJsb2FkaW5nIiwgbCA9ICJzdGFsbGVkIiwgZiA9ICJkcmFnIiwgZCA9ICJkcmFnU3RhcnQiLCBoID0gImRyYWdFbmQiLCBwID0gImNsaWNrIiwgRCA9ICJkb3VibGVDbGljayIsIHYgPSAib3ZlciIsIGcgPSAibW92ZSIsIG0gPSAiZW50ZXIiLCB5ID0gIm91dCIsIEEgPSBzLCBGID0gIndhcm5pbmciLCBDID0gImFkQ2xpY2siLCBFID0gIm1lZGlhTG9hZGVkIiwgYiA9ICJhZFBhdXNlIiwgdyA9ICJhZFBsYXkiLCBCID0gImFkU2tpcHBlZCIsIGsgPSAiYWRUaW1lIiwgXyA9ICJhdXRvc3RhcnROb3RBbGxvd2VkIiwgaiA9IGksIFAgPSAicmVhZHkiLCBPID0gInNlZWsiLCBTID0gImJlZm9yZVBsYXkiLCB4ID0gImJlZm9yZUNvbXBsZXRlIiwgVCA9ICJidWZmZXJGdWxsIiwgSSA9ICJhYnNvbHV0ZVBvc2l0aW9uUmVhZHkiLCBOID0gImRpc3BsYXlDbGljayIsIEwgPSAicGxheWxpc3RDb21wbGV0ZSIsIE0gPSAiY2FzdCIsIFIgPSAibWVkaWFFcnJvciIsIFYgPSAiZmlyc3RGcmFtZSIsIFUgPSAicGxheUF0dGVtcHQiLCB6ID0gInBsYXlBdHRlbXB0RmFpbGVkIiwgSCA9ICJzZWVrZWQiLCAkID0gInNldHVwRXJyb3IiLCBxID0gInN0YXRlIiwgUSA9ICJidWZmZXJDaGFuZ2UiLCBZID0gInRpbWUiLCBXID0gInJhdGVjaGFuZ2UiLCBHID0gIm1lZGlhVHlwZSIsIEsgPSAidm9sdW1lIiwgWCA9ICJtdXRlIiwgSiA9ICJtZXRhZGF0YUN1ZVBhcnNlZCIsIFogPSAibWV0YSIsIGVlID0gImxldmVscyIsIGV0ID0gImxldmVsc0NoYW5nZWQiLCBlbiA9ICJ2aXN1YWxRdWFsaXR5IiwgZXIgPSAiY29udHJvbHMiLCBldSA9ICJmdWxsc2NyZWVuIiwgZWkgPSAicmVzaXplIiwgZW8gPSAicGxheWxpc3RJdGVtIiwgZWEgPSAicGxheWxpc3QiLCBlcyA9ICJhdWRpb1RyYWNrcyIsIGVjID0gImF1ZGlvVHJhY2tDaGFuZ2VkIiwgZWwgPSAic3VidGl0bGVzVHJhY2tzIiwgZWYgPSAic3VidGl0bGVzVHJhY2tDaGFuZ2VkIiwgZWQgPSAicGxheWJhY2tSYXRlQ2hhbmdlZCIsIGVoID0gImxvZ29DbGljayIsIGVwID0gImNhcHRpb25zTGlzdCIsIGVEID0gImNhcHRpb25zQ2hhbmdlZCIsIGV2ID0gInByb3ZpZGVyRmlyc3RGcmFtZSIsIGVnID0gInVzZXJBY3Rpb24iLCBlbSA9ICJpbnN0cmVhbUNsaWNrIiwgZXkgPSAiYnJlYWtwb2ludCIsIGVBID0gImZ1bGxzY3JlZW5jaGFuZ2UiLCBlRiA9ICJiYW5kd2lkdGhFc3RpbWF0ZSIsIGVDID0gImZsb2F0IiwgZUUgPSAiY2hhcHRlciIsIGViID0gIm1lZGlhQ3VlQ2hhbmdlZCIgfSwgNzI2NChlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgRV86ICgpID0+IHUsIFZCOiAoKSA9PiBpLCBwNTogKCkgPT4gciwgdUI6ICgpID0+IG8gfSk7IHZhciByID0geyBhdWRpb01vZGU6ICExLCBpdGVtTWV0YToge30sIHBsYXliYWNrUmF0ZTogMSwgcGxheVJlamVjdGVkOiAhMSwgc3RhdGU6IG4oMTg2MCkuZjksIGl0ZW1SZWFkeTogITEsIGNvbnRyb2xzRW5hYmxlZDogITEgfSwgdSA9IHsgcG9zaXRpb246IDAsIGR1cmF0aW9uOiAwLCBidWZmZXI6IDAsIGN1cnJlbnRUaW1lOiAwIH0sIGkgPSAxMjAsIG8gPSAyNSB9LCA4MTg2KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBBOiAoKSA9PiBzIH0pOyB2YXIgciA9IG4oNDg4MCksIHUgPSBuKDQ5NCksIGkgPSBuKDk0MDcpLCBvID0gbig0NjcpLCBhID0gbig4ODQpLCBzID0gZnVuY3Rpb24gKGUpIHsgZnVuY3Rpb24gdCgpIHsgdmFyIGU7IHJldHVybiAoMCwgdS5fKSh0aGlzLCB0KSwgZSA9ICgwLCByLl8pKHRoaXMsIHQpLCAoMCwgby5fKShlLCAiYXR0cmlidXRlcyIsIHZvaWQgMCksIGUuYXR0cmlidXRlcyA9IE9iamVjdC5jcmVhdGUobnVsbCksIGUgfSByZXR1cm4gKDAsIGEuXykodCwgZSksICgwLCBpLl8pKHQsIFt7IGtleTogImFkZEF0dHJpYnV0ZXMiLCB2YWx1ZTogZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSB0aGlzOyBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7IHQuYWRkKG4sIGVbbl0pIH0pIH0gfSwgeyBrZXk6ICJhZGQiLCB2YWx1ZTogZnVuY3Rpb24gKGUsIHQpIHsgdmFyIG4gPSB0aGlzOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgZSwgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG4uYXR0cmlidXRlc1tlXSB9LCBzZXQ6IGZ1bmN0aW9uICh0KSB7IG4uc2V0KGUsIHQpIH0sIGVudW1lcmFibGU6ICExIH0pLCB0aGlzLmF0dHJpYnV0ZXNbZV0gPSB0IH0gfSwgeyBrZXk6ICJnZXQiLCB2YWx1ZTogZnVuY3Rpb24gKGUpIHsgcmV0dXJuIHRoaXMuYXR0cmlidXRlc1tlXSB9IH0sIHsga2V5OiAic2V0IiwgdmFsdWU6IGZ1bmN0aW9uIChlLCB0KSB7IGlmICh0aGlzLmF0dHJpYnV0ZXNbZV0gIT09IHQpIHsgdmFyIG4gPSB0aGlzLmF0dHJpYnV0ZXNbZV07IHRoaXMuYXR0cmlidXRlc1tlXSA9IHQsIHRoaXMudHJpZ2dlcigiY2hhbmdlOiIuY29uY2F0KGUpLCB0aGlzLCB0LCBuKSB9IH0gfSwgeyBrZXk6ICJjbG9uZSIsIHZhbHVlOiBmdW5jdGlvbiAoKSB7IHZhciBlID0ge30sIHQgPSB0aGlzLmF0dHJpYnV0ZXM7IGlmICh0KSBmb3IgKHZhciBuIGluIHQpIGVbbl0gPSB0W25dOyByZXR1cm4gZSB9IH0sIHsga2V5OiAiY2hhbmdlIiwgdmFsdWU6IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHRoaXMub24oImNoYW5nZToiLmNvbmNhdChlKSwgdCwgbik7IHZhciByID0gdGhpcy5nZXQoZSk7IHJldHVybiB0LmNhbGwobiwgdGhpcywgciwgciksIHRoaXMgfSB9XSksIHQgfShuKDUwMDEpLkF5KSB9LCAyNzMyKGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBQXzogKCkgPT4gaSwgV186ICgpID0+IGEsIGZrOiAoKSA9PiB1LCBoMTogKCkgPT4gbyB9KTsgdmFyIHIgPSBuKDE2NTkpLCB1ID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSAiIjsgcmV0dXJuIGUgJiYgKGUubG9jYWxOYW1lID8gdCA9IGUubG9jYWxOYW1lIDogZS5iYXNlTmFtZSAmJiAodCA9IGUuYmFzZU5hbWUpKSwgdCB9LCBpID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSAiIjsgcmV0dXJuIGUgJiYgKGUudGV4dENvbnRlbnQgPyB0ID0gKDAsIHIuQnEpKGUudGV4dENvbnRlbnQpIDogZS50ZXh0ICYmICh0ID0gKDAsIHIuQnEpKGUudGV4dCkpKSwgdCB9LCBvID0gZnVuY3Rpb24gKGUsIHQpIHsgcmV0dXJuIGUuY2hpbGROb2Rlc1t0XSB9LCBhID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuY2hpbGROb2RlcyA/IGUuY2hpbGROb2Rlcy5sZW5ndGggOiAwIH0gfSwgOTYzMChlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgQTogKCkgPT4gZCB9KTsgdmFyIHIgPSBuKDI3MzIpLCB1ID0gbigxNjU5KSwgaSA9IGZ1bmN0aW9uIChlKSB7IGZvciAodmFyIHQgPSBbXSwgbiA9IDA7IG4gPCAoMCwgci5XXykoZSk7IG4rKykgeyB2YXIgdSA9IGUuY2hpbGROb2Rlc1tuXTsgImp3cGxheWVyIiA9PT0gdS5wcmVmaXggJiYgIm1lZGlhdHlwZXMiID09PSAoMCwgci5maykodSkudG9Mb3dlckNhc2UoKSAmJiB0LnB1c2goKDAsIHIuUF8pKHUpKSB9IHJldHVybiB0IH0sIG8gPSBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IHsgemg6ICJDaGluZXNlIiwgbmw6ICJEdXRjaCIsIGVuOiAiRW5nbGlzaCIsIGZyOiAiRnJlbmNoIiwgZGU6ICJHZXJtYW4iLCBpdDogIkl0YWxpYW4iLCBqYTogIkphcGFuZXNlIiwgcHQ6ICJQb3J0dWd1ZXNlIiwgcnU6ICJSdXNzaWFuIiwgZXM6ICJTcGFuaXNoIiB9OyByZXR1cm4gdFtlXSA/IHRbZV0gOiBlIH0sIGEgPSBmdW5jdGlvbiAoZSwgdCkgeyBmb3IgKHZhciBuID0gW10sIHMgPSAwOyBzIDwgKDAsIHIuV18pKGUpOyBzKyspIHsgdmFyIGMgPSBlLmNoaWxkTm9kZXNbc107IGlmICgibWVkaWEiID09PSBjLnByZWZpeCkgeyBpZiAoISgwLCByLmZrKShjKSkgY29udGludWU7IHN3aXRjaCAoKDAsIHIuZmspKGMpLnRvTG93ZXJDYXNlKCkpIHsgY2FzZSAiY29udGVudCI6IGlmICgoMCwgdS5JRSkoYywgImR1cmF0aW9uIikgJiYgKHQuZHVyYXRpb24gPSAoMCwgdS5ZQSkoKDAsIHUuSUUpKGMsICJkdXJhdGlvbiIpKSksICgwLCB1LklFKShjLCAidXJsIikpIHsgdC5zb3VyY2VzIHx8ICh0LnNvdXJjZXMgPSBbXSk7IHZhciBsID0geyBmaWxlOiAoMCwgdS5JRSkoYywgInVybCIpLCB0eXBlOiAoMCwgdS5JRSkoYywgInR5cGUiKSwgd2lkdGg6ICgwLCB1LklFKShjLCAid2lkdGgiKSwgbGFiZWw6ICgwLCB1LklFKShjLCAibGFiZWwiKSB9LCBmID0gaShjKTsgZi5sZW5ndGggJiYgKGwubWVkaWFUeXBlcyA9IGYpLCB0LnNvdXJjZXMucHVzaChsKSB9ICgwLCByLldfKShjKSA+IDAgJiYgKHQgPSBhKGMsIHQpKTsgYnJlYWs7IGNhc2UgInRpdGxlIjogdC50aXRsZSA9ICgwLCByLlBfKShjKTsgYnJlYWs7IGNhc2UgImRlc2NyaXB0aW9uIjogdC5kZXNjcmlwdGlvbiA9ICgwLCByLlBfKShjKTsgYnJlYWs7IGNhc2UgImd1aWQiOiB0Lm1lZGlhaWQgPSAoMCwgci5QXykoYyk7IGJyZWFrOyBjYXNlICJ0aHVtYm5haWwiOiB0LmltYWdlIHx8ICh0LmltYWdlID0gKDAsIHUuSUUpKGMsICJ1cmwiKSk7IGJyZWFrOyBjYXNlICJncm91cCI6IGEoYywgdCk7IGJyZWFrOyBjYXNlICJzdWJ0aXRsZSI6IHZhciBkID0geyBmaWxlOiAoMCwgdS5JRSkoYywgInVybCIpLCBraW5kOiAiY2FwdGlvbnMiIH07ICgwLCB1LklFKShjLCAibGFuZyIpLmxlbmd0aCA+IDAgJiYgKGQubGFiZWwgPSBvKCgwLCB1LklFKShjLCAibGFuZyIpKSksIG4ucHVzaChkKSB9IH0gfSB0LnRyYWNrcyB8fCAodC50cmFja3MgPSBbXSk7IGZvciAodmFyIGggPSAwOyBoIDwgbi5sZW5ndGg7IGgrKyl0LnRyYWNrcy5wdXNoKG5baF0pOyByZXR1cm4gdCB9LCBzID0gbig0Nzk0KTsgbGV0IGMgPSBmdW5jdGlvbiAoZSwgdCkgeyBmb3IgKHZhciBuID0gImRlZmF1bHQiLCBpID0gImxhYmVsIiwgbyA9ICJmaWxlIiwgYSA9IFtdLCBjID0gW10sIGwgPSAwOyBsIDwgZS5jaGlsZE5vZGVzLmxlbmd0aDsgbCsrKSB7IHZhciBmID0gZS5jaGlsZE5vZGVzW2xdOyBpZiAoImp3cGxheWVyIiA9PT0gZi5wcmVmaXgpIHsgdmFyIGQgPSAoMCwgci5maykoZik7ICJzb3VyY2UiID09PSBkID8gKGRlbGV0ZSB0LnNvdXJjZXMsIGEucHVzaCh7IGZpbGU6ICgwLCB1LklFKShmLCBvKSwgZGVmYXVsdDogKDAsIHUuSUUpKGYsIG4pLCBsYWJlbDogKDAsIHUuSUUpKGYsIGkpLCB0eXBlOiAoMCwgdS5JRSkoZiwgInR5cGUiKSB9KSkgOiAidHJhY2siID09PSBkID8gKGRlbGV0ZSB0LnRyYWNrcywgYy5wdXNoKHsgZmlsZTogKDAsIHUuSUUpKGYsIG8pLCBkZWZhdWx0OiAoMCwgdS5JRSkoZiwgbiksIGtpbmQ6ICgwLCB1LklFKShmLCAia2luZCIpLCBsYWJlbDogKDAsIHUuSUUpKGYsIGkpIH0pKSA6ICh0W2RdID0gKDAsIHMuc2VyaWFsaXplKSgoMCwgci5QXykoZikpLCAiZmlsZSIgPT09IGQgJiYgdC5zb3VyY2VzICYmIGRlbGV0ZSB0LnNvdXJjZXMpIH0gdFtvXSB8fCAodFtvXSA9IHQubGluaykgfSBpZiAoYS5sZW5ndGgpIHsgdC5zb3VyY2VzID0gW107IGZvciAodmFyIGggPSAwOyBoIDwgYS5sZW5ndGg7IGgrKykgeyB2YXIgcCA9IGFbaF07IHAuZmlsZS5sZW5ndGggPiAwICYmIChwW25dID0gInRydWUiID09PSBhW2hdW25dLCBwLmxhYmVsIHx8IGRlbGV0ZSBwLmxhYmVsLCB0LnNvdXJjZXMucHVzaChwKSkgfSB9IGlmIChjLmxlbmd0aCkgeyB0LnRyYWNrcyA9IFtdOyBmb3IgKHZhciBEID0gMDsgRCA8IGMubGVuZ3RoOyBEKyspIHsgdmFyIHYgPSBjW0RdOyB2LmZpbGUgJiYgdi5maWxlLmxlbmd0aCA+IDAgJiYgKHZbbl0gPSAidHJ1ZSIgPT09IGNbRF1bbl0sIHYua2luZCA9IGNbRF0ua2luZC5sZW5ndGggPyBjW0RdLmtpbmQgOiAiY2FwdGlvbnMiLCB2LmxhYmVsIHx8IGRlbGV0ZSB2LmxhYmVsLCB0LnRyYWNrcy5wdXNoKHYpKSB9IH0gcmV0dXJuIHQgfTsgdmFyIGwgPSBuKDE5OTMpLCBmID0gZnVuY3Rpb24gKGUpIHsgZm9yICh2YXIgdCA9IHt9LCBuID0gMDsgbiA8IGUuY2hpbGROb2Rlcy5sZW5ndGg7IG4rKykgeyB2YXIgaSA9IGUuY2hpbGROb2Rlc1tuXSwgbyA9ICgwLCByLmZrKShpKTsgaWYgKG8pIHN3aXRjaCAoby50b0xvd2VyQ2FzZSgpKSB7IGNhc2UgImVuY2xvc3VyZSI6IHQuZmlsZSA9ICgwLCB1LklFKShpLCAidXJsIik7IGJyZWFrOyBjYXNlICJ0aXRsZSI6IHQudGl0bGUgPSAoMCwgci5QXykoaSk7IGJyZWFrOyBjYXNlICJndWlkIjogdC5tZWRpYWlkID0gKDAsIHIuUF8pKGkpOyBicmVhazsgY2FzZSAicHViZGF0ZSI6IHQuZGF0ZSA9ICgwLCByLlBfKShpKTsgYnJlYWs7IGNhc2UgImRlc2NyaXB0aW9uIjogdC5kZXNjcmlwdGlvbiA9ICgwLCByLlBfKShpKTsgYnJlYWs7IGNhc2UgImxpbmsiOiB0LmxpbmsgPSAoMCwgci5QXykoaSk7IGJyZWFrOyBjYXNlICJjYXRlZ29yeSI6IHQudGFncyA/IHQudGFncyArPSAoMCwgci5QXykoaSkgOiB0LnRhZ3MgPSAoMCwgci5QXykoaSkgfSB9IHJldHVybiBuZXcgbC5BKGMoZSwgYShlLCB0KSkpIH07IGZ1bmN0aW9uIGQoZSkgeyB2YXIgdCA9IFtdOyB0LmZlZWREYXRhID0ge307IGZvciAodmFyIG4gPSAwOyBuIDwgKDAsIHIuV18pKGUpOyBuKyspIHsgdmFyIHUgPSAoMCwgci5oMSkoZSwgbik7IGlmICgiY2hhbm5lbCIgPT09ICgwLCByLmZrKSh1KS50b0xvd2VyQ2FzZSgpKSBmb3IgKHZhciBpID0gMDsgaSA8ICgwLCByLldfKSh1KTsgaSsrKSB7IHZhciBvID0gKDAsIHIuaDEpKHUsIGkpLCBhID0gKDAsIHIuZmspKG8pLnRvTG93ZXJDYXNlKCk7ICJpdGVtIiA9PT0gYSA/IHQucHVzaChmKG8pKSA6IGEgJiYgKHQuZmVlZERhdGFbYV0gPSAoMCwgci5QXykobykpIH0gfSByZXR1cm4gdCB9IH0sIDI5NzIoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IEc6ICgpID0+IG8sIEo6ICgpID0+IGkgfSk7IHZhciByID0gbig0OTQpLCB1ID0gbig5NDA3KSwgaSA9IGZ1bmN0aW9uIGUodCwgbikgeyAoMCwgci5fKSh0aGlzLCBlKSwgdGhpcy5kZWZhdWx0TGFuZ3VhZ2UgPSB0LCB0aGlzLnRpbWVzdGFtcHMgPSBuIH0sIG8gPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGUodCkgeyB2YXIgbiA9IHRoaXMsIHUgPSB0LnRpdGxlLCBpID0gdm9pZCAwID09PSB1ID8ge30gOiB1LCBvID0gdC5ncm91cCwgYSA9IHQudGltZSwgcyA9IHQuaW1hZ2U7ICgwLCByLl8pKHRoaXMsIGUpLCB0aGlzLnRpdGxlID0ge30sIHRoaXMudGltZSA9IGEsIHRoaXMuZ3JvdXAgPSBvLCB0aGlzLmltYWdlID0gcywgT2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGlbZV07IG4uYWRkVGl0bGUoZSwgdCkgfSkgfSByZXR1cm4gKDAsIHUuXykoZSwgW3sga2V5OiAiYWRkVGl0bGUiLCB2YWx1ZTogZnVuY3Rpb24gKGUsIHQpIHsgdGhpcy50aXRsZVtlXSA9IHQgfSB9XSksIGUgfSgpIH0sIDE5OTMoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IEE6ICgpID0+IHMgfSk7IHZhciByID0gbigzOTUzKSwgdSA9IFsiY2FwdGlvbnMiLCAibWV0YWRhdGEiLCAidGh1bWJuYWlscyIsICJjaGFwdGVycyJdOyBsZXQgaSA9IGZ1bmN0aW9uIChlKSB7IGlmIChlICYmIGUuZmlsZSkgeyB2YXIgdCwgbiA9IE9iamVjdC5hc3NpZ24oe30sIHsga2luZDogImNhcHRpb25zIiwgZGVmYXVsdDogITEgfSwgZSk7IHJldHVybiB0ID0gbi5raW5kLCBuLmtpbmQgPSAtMSAhPT0gdS5pbmRleE9mKHQpID8gbi5raW5kIDogImNhcHRpb25zIiwgbi5kZWZhdWx0ID0gISFuLmRlZmF1bHQsIG4gfSB9OyB2YXIgbyA9IG4oNzI2NCksIGEgPSBBcnJheS5pc0FycmF5OyBsZXQgcyA9IGZ1bmN0aW9uIChlKSB7IGEoKGUgPSBlIHx8IHt9KS50cmFja3MpIHx8IGRlbGV0ZSBlLnRyYWNrczsgdmFyIHQgPSBPYmplY3QuYXNzaWduKHt9LCB7IHNvdXJjZXM6IFtdLCB0cmFja3M6IFtdLCBtaW5EdnJXaW5kb3c6IG8uVkIgfSwgZSk7IHQuc291cmNlcyAhPT0gT2JqZWN0KHQuc291cmNlcykgfHwgYSh0LnNvdXJjZXMpIHx8ICh0LnNvdXJjZXMgPSBbKDAsIHIuQSkodC5zb3VyY2VzKV0pLCBhKHQuc291cmNlcykgJiYgMCAhPT0gdC5zb3VyY2VzLmxlbmd0aCB8fCAoZS5sZXZlbHMgPyB0LnNvdXJjZXMgPSBlLmxldmVscyA6IHQuc291cmNlcyA9IFsoMCwgci5BKShlKV0pOyBmb3IgKHZhciBuID0gMDsgbiA8IHQuc291cmNlcy5sZW5ndGg7IG4rKykgeyB2YXIgdSA9IHQuc291cmNlc1tuXTsgaWYgKHUpIHsgdmFyIHMgPSB1LmRlZmF1bHQ7IHMgPyB1LmRlZmF1bHQgPSAidHJ1ZSIgPT09IHMudG9TdHJpbmcoKSA6IHUuZGVmYXVsdCA9ICExLCB0LnNvdXJjZXNbbl0ubGFiZWwgfHwgKHQuc291cmNlc1tuXS5sYWJlbCA9IG4udG9TdHJpbmcoKSksIHQuc291cmNlc1tuXSA9ICgwLCByLkEpKHQuc291cmNlc1tuXSkgfSB9IHJldHVybiB0LnNvdXJjZXMgPSB0LnNvdXJjZXMuZmlsdGVyKEJvb2xlYW4pLCBhKHQudHJhY2tzKSB8fCAodC50cmFja3MgPSBbXSksIGEodC5jYXB0aW9ucykgJiYgKHQudHJhY2tzID0gdC50cmFja3MuY29uY2F0KHQuY2FwdGlvbnMpLCBkZWxldGUgdC5jYXB0aW9ucyksIHQudHJhY2tzID0gdC50cmFja3MubWFwKGkpLmZpbHRlcihCb29sZWFuKSwgdCB9IH0sIDEwMjcoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IEE6ICgpID0+IGwgfSk7IHZhciByID0gbigzNzUwKSwgdSA9IG4oMTg2MCksIGkgPSBuKDI3MzIpLCBvID0gbig5NjMwKSwgYSA9IG4oNDkzKSwgcyA9IG4oNTAwMSksIGMgPSBuKDgyNTMpOyBsZXQgbCA9IGZ1bmN0aW9uICgpIHsgdmFyIGUgPSBPYmplY3QuYXNzaWduKHRoaXMsIHMuQXkpLCB0ID0gZnVuY3Rpb24gKHQpIHsgKDAsIHIuXykodCwgYy5NaykgJiYgIXQuY29kZSAmJiAodCA9IG5ldyBjLk1rKGMuVVAsIDApKSwgZS50cmlnZ2VyKHUuZmYsIHQpIH0sIG4gPSBmdW5jdGlvbiAobikgeyB0cnkgeyB2YXIgciwgYSA9IG4ucmVzcG9uc2VYTUwgPyBuLnJlc3BvbnNlWE1MLmNoaWxkTm9kZXMgOiBudWxsLCBzID0gbnVsbDsgaWYgKGEpIHsgZm9yICh2YXIgbCA9IDA7IGwgPCBhLmxlbmd0aCAmJiAocyA9IGFbbF0sIDggPT09IHMubm9kZVR5cGUpOyBsKyspOyBpZiAocyAmJiAieG1sIiA9PT0gKDAsIGkuZmspKHMpICYmIChzID0gcy5uZXh0U2libGluZyksIHMgJiYgInJzcyIgPT09ICgwLCBpLmZrKShzKSkgeyB2YXIgZiA9ICgwLCBvLkEpKHMpOyByID0gT2JqZWN0LmFzc2lnbih7IHBsYXlsaXN0OiBmIH0sIGYuZmVlZERhdGEpIH0gfSBpZiAoIXIpIHRyeSB7IHZhciBkID0gSlNPTi5wYXJzZShuLnJlc3BvbnNlVGV4dCk7IGlmIChBcnJheS5pc0FycmF5KGQpKSByID0geyBwbGF5bGlzdDogZCB9OyBlbHNlIGlmIChBcnJheS5pc0FycmF5KGQucGxheWxpc3QpKSByID0gZDsgZWxzZSB0aHJvdyBFcnJvcigiUGxheWxpc3QgaXMgbm90IGFuIGFycmF5IikgfSBjYXRjaCAoZSkgeyB0aHJvdyBuZXcgYy5NayhjLlVQLCA2MjEsIGUpIH0gZS50cmlnZ2VyKHUuVlUsIHIpIH0gY2F0Y2ggKGUpIHsgdChlKSB9IH07IHRoaXMubG9hZCA9IGZ1bmN0aW9uIChlKSB7ICgwLCBhLlIpKGUsIG4sIGZ1bmN0aW9uIChlLCBuLCByLCB1KSB7IHQodSkgfSkgfSwgdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24gKCkgeyB0aGlzLm9mZigpIH0gfSB9LCA1NDcxKGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBSdTogKCkgPT4geSwgSUE6ICgpID0+IEMsIEF5OiAoKSA9PiBFLCBYaDogKCkgPT4gbSwgRjg6ICgpID0+IEEsIGRXOiAoKSA9PiBGIH0pOyB2YXIgciA9IHsgbm9uZTogITAsIG1ldGFkYXRhOiAhMCwgYXV0bzogITAgfSwgdSA9IGZ1bmN0aW9uIChlLCB0KSB7IHJldHVybiByW2VdID8gZSA6IHJbdF0gPyB0IDogIm1ldGFkYXRhIiB9LCBpID0gbigxOTkzKSwgbyA9IG4oMzk1MyksIGEgPSBuKDk4MTMpLCBzID0gbig4MjUzKSwgYyA9IG4oOTA1NSksIGwgPSBmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gdm9pZCAwID09PSBlID8gdCA6IGUgfSwgZiA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7IG4gaW4gdCAmJiAoZVtuXSA9IHRbbl0pIH0sIGQgPSBmdW5jdGlvbiAoZSwgdCwgbikgeyBlLmxpdmVTeW5jRHVyYXRpb24gfHwgZihlLCB0LmxpdmVTeW5jRHVyYXRpb24gPyB0IDogbiwgImxpdmVTeW5jRHVyYXRpb24iKSB9LCBoID0gZnVuY3Rpb24gKGUsIHQpIHsgdmFyIG4gPSB0LmF0dHJpYnV0ZXMsIHIgPSBlLnNvdXJjZXMsIGkgPSBlLmFsbFNvdXJjZXMsIGEgPSBlLnByZWxvYWQsIHMgPSBlLmRybSwgYyA9IGwoZS53aXRoQ3JlZGVudGlhbHMsIG4ud2l0aENyZWRlbnRpYWxzKTsgcmV0dXJuIChpIHx8IHIpLm1hcChmdW5jdGlvbiAodCkgeyBpZiAodCAhPT0gT2JqZWN0KHQpKSByZXR1cm4gbnVsbDsgZih0LCBuLCAiYW5kcm9pZGhscyIpLCBmKHQsIG4sICJobHNqc2RlZmF1bHQiKSwgZih0LCBuLCAic2FmYXJpaGxzanMiKSwgZCh0LCBlLCBuKSwgZih0LCBuLCAiX2hsc2pzUHJvZ3Jlc3NpdmUiKSwgdC5wcmVsb2FkID0gdSh0LnByZWxvYWQsIGEpOyB2YXIgciA9IHQuZHJtIHx8IHMgfHwgbi5kcm07IHIgJiYgKHQuZHJtID0gcik7IHZhciBpID0gbCh0LndpdGhDcmVkZW50aWFscywgYyk7IHJldHVybiB2b2lkIDAgIT09IGkgJiYgKHQud2l0aENyZWRlbnRpYWxzID0gaSksICgwLCBvLkEpKHQpIH0pLmZpbHRlcihCb29sZWFuKSB9LCBwID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGMuQnJvd3Nlci5zYWZhcmkgPyBlLnNvcnQoZnVuY3Rpb24gKGUpIHsgcmV0dXJuICJobHMiID09PSBlLnR5cGUgPyAtMSA6IDAgfSkgOiBlIH0sIEQgPSBmdW5jdGlvbiAoZSwgdCkgeyBmb3IgKHZhciBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspIHsgdmFyIHIgPSBlW25dLCB1ID0gdC5jaG9vc2UocikucHJvdmlkZXJUb0NoZWNrOyBpZiAodSkgcmV0dXJuIHsgdHlwZTogci50eXBlLCBwcm92aWRlcjogdSB9IH0gcmV0dXJuIG51bGwgfSwgdiA9IGZ1bmN0aW9uIChlLCB0KSB7IHQgJiYgdC5jaG9vc2UgfHwgKHQgPSBuZXcgYS5BKTsgdmFyIG4gPSBEKGUsIHQpOyBpZiAoIW4pIHJldHVybiBbXTsgdmFyIHIgPSBuLnByb3ZpZGVyLCB1ID0gbi50eXBlOyByZXR1cm4gZS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUudHlwZSA9PT0gdSAmJiB0LnByb3ZpZGVyU3VwcG9ydHMociwgZSkgfSkgfSwgZyA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gZS5zb3VyY2VzWzBdLmxpdmVTeW5jRHVyYXRpb247IHJldHVybiB0ICYmIChlLmxpdmVTeW5jRHVyYXRpb24gPSBlLmR2clNlZWtMaW1pdCA9IHQpLCBlIH0sIG0gPSBmdW5jdGlvbiAoZSwgdCwgbikgeyB2YXIgciA9IGUuZ2V0UHJvdmlkZXJzKCksIGkgPSBlLmdldCgicHJlbG9hZCIpLCBvID0gZS5nZXQoImp3U3RhcnQiKSwgYSA9IE9iamVjdC5hc3NpZ24oe30sIHQpOyBpZiAoYS5wcmVsb2FkID0gdSh0LnByZWxvYWQsIGkpLCBhLmFsbFNvdXJjZXMgPSBwKGgoYSwgZSkpLCBhLnNvdXJjZXMgPSB2KGEuYWxsU291cmNlcywgciksIGEuc291cmNlcy5sZW5ndGgpIHJldHVybiBhLmZpbGUgPSBhLnNvdXJjZXNbMF0uZmlsZSwgYS5mZWVkRGF0YSA9IG4sIG8gJiYgLTEgIT09IG8gJiYgZS5nZXQoImdlbmVyYXRlU0VPTWV0YWRhdGEiKSAmJiAoYS5zdGFydHRpbWUgPSBvKSwgZyhhKSB9LCB5ID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsgdmFyIHIgPSBPYmplY3QuYXNzaWduKHt9LCBuKTsgcmV0dXJuIGRlbGV0ZSByLnBsYXlsaXN0LCBlLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gbSh0LCBlLCByKSB9KS5maWx0ZXIoQm9vbGVhbikgfSwgQSA9IGZ1bmN0aW9uIChlKSB7IGlmICghQXJyYXkuaXNBcnJheShlKSB8fCAwID09PSBlLmxlbmd0aCkgdGhyb3cgbmV3IHMuTWsocy5VUCwgNjMwKSB9LCBGID0gZnVuY3Rpb24gKGUsIHQpIHsgdmFyIG4gPSAocGFyc2VJbnQoZSwgMTApIHx8IDApICUgdDsgcmV0dXJuIG4gPCAwICYmIChuICs9IHQpLCBuIH0sIEMgPSBmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gdihwKGgoZSwgdCkpLCB0LmdldFByb3ZpZGVycygpKSB9OyBsZXQgRSA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiAoQXJyYXkuaXNBcnJheShlKSA/IGUgOiBbZV0pLm1hcChpLkEpIH0gfSwgMzk1MyhlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgQTogKCkgPT4gaSB9KTsgdmFyIHIgPSBuKDIyMzUpLCB1ID0gbigxNjU5KTsgbGV0IGkgPSBmdW5jdGlvbiAoZSkgeyBpZiAoZSAmJiBlLmZpbGUpIHsgdmFyIHQgPSBPYmplY3QuYXNzaWduKHt9LCB7IGRlZmF1bHQ6ICExLCB0eXBlOiAiIiB9LCBlKTsgdC5maWxlID0gKDAsIHUuQnEpKCIiLmNvbmNhdCh0LmZpbGUpKTsgdmFyIG4gPSAvXlteL10rXC8oPzp4LSk/KFteL10rKSQvLCBpID0gdC50eXBlOyBpZiAobi50ZXN0KGkpICYmICh0Lm1pbWVUeXBlID0gaSwgdC50eXBlID0gaS5yZXBsYWNlKG4sICIkMSIpKSwgKDAsIHIuaXNZb3VUdWJlKSh0LmZpbGUpID8gdC50eXBlID0gInlvdXR1YmUiIDogKDAsIHIuaXNSdG1wKSh0LmZpbGUpID8gdC50eXBlID0gInJ0bXAiIDogdC50eXBlIHx8ICh0LnR5cGUgPSAoMCwgdS5jaykodC5maWxlKSksIHQudHlwZSkgeyBzd2l0Y2ggKHQudHlwZSkgeyBjYXNlICJtM3U4IjogY2FzZSAidm5kLmFwcGxlLm1wZWd1cmwiOiB0LnR5cGUgPSAiaGxzIjsgYnJlYWs7IGNhc2UgImRhc2greG1sIjogdC50eXBlID0gImRhc2giOyBicmVhazsgY2FzZSAibTRhIjogdC50eXBlID0gImFhYyI7IGJyZWFrOyBjYXNlICJzbWlsIjogdC50eXBlID0gInJ0bXAiIH1yZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyAiIiA9PT0gdFtlXSAmJiBkZWxldGUgdFtlXSB9KSwgdCB9IH0gfSB9LCAxMDUxKGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBBOiAoKSA9PiBmIH0pOyB2YXIgciA9IG4oMTUzNSksIHUgPSBuKDQ3OTQpLCBpID0gbigxNjU5KSwgbyA9IG4oODI1MyksIGEgPSBuKDk2MjEpLCBzID0gZnVuY3Rpb24gKGUpIHsgaWYgKCJzdHJpbmciID09IHR5cGVvZiBlKSB7IHZhciB0ID0gKGUgPSBlLnNwbGl0KCI/IilbMF0pLmluZGV4T2YoIjovLyIpOyBpZiAodCA+IDApIHJldHVybiAwOyB2YXIgbiA9IGUuaW5kZXhPZigiLyIpLCByID0gKDAsIGkuY2spKGUpOyByZXR1cm4gdCA8IDAgJiYgbiA8IDAgJiYgKCFyIHx8ICFpc05hTihyKSkgPyAyIDogMSB9IH0sIGMgPSBmdW5jdGlvbiAoZSkgeyBzd2l0Y2ggKHMoZSkpIHsgY2FzZSAwOiByZXR1cm4gZTsgY2FzZSAxOiByZXR1cm4gKDAsIHUuZ2V0QWJzb2x1dGVQYXRoKShlLCB3aW5kb3cubG9jYXRpb24uaHJlZikgfSB9LCBsID0gZnVuY3Rpb24gKGUpIHsgdGhpcy51cmwgPSBlLCB0aGlzLnByb21pc2VfID0gbnVsbCB9OyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhsLnByb3RvdHlwZSwgeyBwcm9taXNlOiB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5sb2FkKCkgfSwgc2V0OiBmdW5jdGlvbiAoKSB7IH0gfSB9KSwgT2JqZWN0LmFzc2lnbihsLnByb3RvdHlwZSwgeyBsb2FkOiBmdW5jdGlvbiAoKSB7IHZhciBlID0gdGhpcywgdCA9IHRoaXMucHJvbWlzZV87IGlmICghdCkgeyBpZiAoMiA9PT0gcyh0aGlzLnVybCkpIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyk7IHZhciBuID0gbmV3IHIuQXkoYyh0aGlzLnVybCkpOyB0aGlzLmxvYWRlciA9IG4sIHQgPSBuLmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGUgfSksIHRoaXMucHJvbWlzZV8gPSB0IH0gcmV0dXJuIHQgfSwgcmVnaXN0ZXJQbHVnaW46IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHRoaXMubmFtZSA9IGUsIHRoaXMudGFyZ2V0ID0gdCwgdGhpcy5qcyA9IG4gfSwgZ2V0TmV3SW5zdGFuY2U6IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHZhciByID0gdGhpcy5qczsgaWYgKCJmdW5jdGlvbiIgIT0gdHlwZW9mIHIpIHRocm93IG5ldyBvLk1rKG51bGwsICgwLCBhLnJFKSh0aGlzLnVybCkgKyAxMDApOyB2YXIgdSA9IG5ldyByKGUsIHQsIG4pLCBpID0geyB0eXBlOiAicGx1Z2luSW5pdGlhbGl6ZWQiLCBuYW1lOiB0aGlzLm5hbWUsIGNvbmZpZzogdCB9OyByZXR1cm4gdS5hZGRUb1BsYXllciA9IGZ1bmN0aW9uICgpIHsgdmFyIGUgPSB0aGlzLCB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbMF0gJiYgYXJndW1lbnRzWzBdLCByID0gdGhpcy5nZXRDb250YWluZXIoKS5xdWVyeVNlbGVjdG9yKCIuanctb3ZlcmxheXMiKTsgaWYgKHIpIHJldHVybiBuLmxlZnQgPSByLnN0eWxlLmxlZnQsIG4udG9wID0gci5zdHlsZS50b3AsIHIuYXBwZW5kQ2hpbGQobiksIHQgPyB0aGlzLnRyaWdnZXIoInBsdWdpbkluaXRpYWxpemVkIiwgaSkgOiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGUudHJpZ2dlcigicGx1Z2luSW5pdGlhbGl6ZWQiLCBpKSB9LCAwKSwgdSB9LCB1LnJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7IHZhciBlID0gdGhpcy5nZXRDb250YWluZXIoKS5xdWVyeVNlbGVjdG9yKCIuanctb3ZlcmxheXMiKTsgZSAmJiB1LnJlc2l6ZShlLmNsaWVudFdpZHRoLCBlLmNsaWVudEhlaWdodCkgfSwgdSB9IH0pOyBsZXQgZiA9IGwgfSwgOTYyMShlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgR3Y6ICgpID0+IG8sIGRCOiAoKSA9PiB1LCBvdDogKCkgPT4gYSwgckU6ICgpID0+IGkgfSk7IHZhciByID0gbig4NTg2KTsgbig1NDgzKTsgdmFyIHUgPSBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IC9cLygoLig/IVwvKSkrPylcLmpzL2kuZXhlYyhlKSwgbiA9IChudWxsID09IHQgPyB2b2lkIDAgOiB0WzFdKSB8fCBlOyByZXR1cm4gbiAmJiAiandwc3J2LWRudCIgPT09IG4gPyAiandwc3J2IiA6IG4gJiYgImp3eCIgPT09IG4gPyAiY254IiA6IG4gfSwgaSA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gMzA1ZTM7IGlmICghZSkgcmV0dXJuIHQ7IHN3aXRjaCAodShlKSkgeyBjYXNlICJqd3BzcnYiOiB0ID0gMzA1MDAxOyBicmVhazsgY2FzZSAiZ29vZ2ltYSI6IHQgPSAzMDUwMDI7IGJyZWFrOyBjYXNlICJ2YXN0IjogdCA9IDMwNTAwMzsgYnJlYWs7IGNhc2UgImZyZWV3aGVlbCI6IHQgPSAzMDUwMDQ7IGJyZWFrOyBjYXNlICJkYWkiOiB0ID0gMzA1MDA1OyBicmVhazsgY2FzZSAiZ2Fwcm8iOiB0ID0gMzA1MDA2OyBicmVhazsgY2FzZSAiYmlkZGluZyI6IHQgPSAzMDUwMDcgfXJldHVybiB0IH0sIG8gPSBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9ICIiOyAiaHR0cHM6IiAhPT0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sICYmICJodHRwOiIgIT09IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCAmJiAodCA9ICJodHRwczoiKTsgdmFyIG4gPSB7IGJpZGRpbmc6ICIvL3NzbC5wLmp3cGNkbi5jb20vcGxheWVyL3YvOC40MS4xL2JpZGRpbmcuanMiLCBqd3BzcnY6ICIvL3NzbC5wLmp3cGNkbi5jb20vcGxheWVyL3YvOC40MS4xL2p3cHNydi5qcyIsIGRhaTogIi8vc3NsLnAuandwY2RuLmNvbS9wbGF5ZXIvdi84LjQxLjEvZGFpLmpzIiwgdmFzdDogIi8vc3NsLnAuandwY2RuLmNvbS9wbGF5ZXIvdi84LjQxLjEvdmFzdC5qcyIsIGdvb2dpbWE6ICIvL3NzbC5wLmp3cGNkbi5jb20vcGxheWVyL3YvOC40MS4xL2dvb2dpbWEuanMiLCBmcmVld2hlZWw6ICIvL3NzbC5wLmp3cGNkbi5jb20vcGxheWVyL3YvOC40MS4xL2ZyZWV3aGVlbC5qcyIsIGdhcHJvOiAiLy9zc2wucC5qd3BjZG4uY29tL3BsYXllci92LzguNDEuMS9nYXByby5qcyIsIGludGVyYWN0aXZlOiAiLy9zc2wucC5qd3BjZG4uY29tL3BsYXllci92LzguNDEuMS9pbnRlcmFjdGl2ZS5qcyIsIGtlZXBXYXRjaGluZzogIi8vc3NsLnAuandwY2RuLmNvbS9wbGF5ZXIvdi84LjQxLjEva2VlcFdhdGNoaW5nLmpzIiwgY254OiAiLy9zc2wucC5qd3BjZG4uY29tL3BsYXllci92LzguNDEuMS9jbnguanMiLCBqd3g6ICIvL3NzbC5wLmp3cGNkbi5jb20vcGxheWVyL3YvOC40MS4xL2NueC5qcyIgfVtlXTsgcmV0dXJuIG4gPyB0ICsgbiA6ICIiIH0sIGEgPSBmdW5jdGlvbiAoZSwgdCwgbikgeyB2YXIgdSA9IGUubmFtZSwgaSA9IE9iamVjdC5hc3NpZ24oe30sIHQsICgwLCByLnZBKShlLnVybCkpLCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7IG8uaWQgPSAiIi5jb25jYXQobi5pZCwgIl8iKS5jb25jYXQodSksIG8uY2xhc3NOYW1lID0gImp3LXBsdWdpbiBqdy1yZXNldCI7IHZhciBhID0gZS5nZXROZXdJbnN0YW5jZShuLCBpLCBvKTsgcmV0dXJuIG4uYWRkUGx1Z2luKHUsIGEpLCBhIH0gfSwgODA5MihlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgQTogKCkgPT4gYSwgUDogKCkgPT4gbyB9KTsgdmFyIHIgPSBuKDQxNzIpLCB1ID0gbigyMTk0KS5BLmxvZ2dlci5jaGlsZCgiandwbGF5ZXIvcHJvZ3JhbS9tZWRpYS1lbGVtZW50LXBvb2wiKSwgaSA9IGZ1bmN0aW9uIChlKSB7IGUuc3JjIHx8IGUubG9hZCgpIH0sIG8gPSBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInZpZGVvIik7IHJldHVybiB0LmNsYXNzTmFtZSA9ICJqdy12aWRlbyBqdy1yZXNldCIsIHQuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsICItMSIpLCB0LnNldEF0dHJpYnV0ZSgiZGlzYWJsZVJlbW90ZVBsYXliYWNrIiwgIiIpLCB0LnNldEF0dHJpYnV0ZSgid2Via2l0LXBsYXlzaW5saW5lIiwgIiIpLCB0LnNldEF0dHJpYnV0ZSgicGxheXNpbmxpbmUiLCAiIiksIGUgJiYgT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbiAobikgeyB0LnNldEF0dHJpYnV0ZShuLCBlW25dKSB9KSwgdCB9OyBmdW5jdGlvbiBhKCkgeyBmb3IgKHZhciBlID0gci5JcSwgdCA9IFtdLCBuID0gW10sIGEgPSAwOyBhIDwgZTsgYSsrKSB7IHZhciBzID0gbygpOyB0LnB1c2gocyksIG4ucHVzaChzKSwgaShzKSB9IHZhciBjID0gbi5zaGlmdCgpLCBsID0gbi5zaGlmdCgpLCBmID0gITE7IHJldHVybiB7IHByaW1lZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZiB9LCBwcmltZTogZnVuY3Rpb24gKCkgeyB0LmZvckVhY2goaSksIGYgPSAhMCB9LCBwbGF5ZWQ6IGZ1bmN0aW9uICgpIHsgZiA9ICEwIH0sIGdldFByaW1lZEVsZW1lbnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG4uc2hpZnQoKSB8fCBudWxsIH0sIGdldEFkRWxlbWVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYyB9LCBnZXRUZXN0RWxlbWVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbCB9LCBjbGVhbjogZnVuY3Rpb24gKGUpIHsgaWYgKGUuc3JjKSB7IGUucmVtb3ZlQXR0cmlidXRlKCJzcmMiKTsgdHJ5IHsgZS5sb2FkKCkgfSBjYXRjaCAoZSkgeyB1LmRlYnVnKGUpIH0gfSB9LCByZWN5Y2xlOiBmdW5jdGlvbiAoZSkgeyBlICYmICFuLnNvbWUoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgPT09IGUgfSkgJiYgKHRoaXMuY2xlYW4oZSksIG4ucHVzaChlKSkgfSwgc3luY1ZvbHVtZTogZnVuY3Rpb24gKGUpIHsgdmFyIG4gPSBNYXRoLm1pbihNYXRoLm1heCgwLCBlIC8gMTAwKSwgMSk7IHQuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyBlLnZvbHVtZSA9IG4gfSkgfSwgc3luY011dGU6IGZ1bmN0aW9uIChlKSB7IHQuZm9yRWFjaChmdW5jdGlvbiAodCkgeyB0Lm11dGVkID0gZSB9KSB9IH0gfSB9LCA0MTcyKGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBJcTogKCkgPT4gciwgcko6ICgpID0+IGksIHdaOiAoKSA9PiB1IH0pOyB2YXIgciA9IDQsIHUgPSA1LCBpID0gMSB9LCA2NzIxKGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBmdW5jdGlvbiByKGUsIHQpIHsgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHQsIHsgcHJpbWU6IGZ1bmN0aW9uICgpIHsgZS5zcmMgfHwgZS5sb2FkKCkgfSwgZ2V0UHJpbWVkRWxlbWVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZSB9LCBjbGVhbjogZnVuY3Rpb24gKCkgeyB0LmNsZWFuKGUpIH0sIHJlY3ljbGU6IGZ1bmN0aW9uICgpIHsgdC5jbGVhbihlKSB9IH0pIH0gbi5kKHQsIHsgQTogKCkgPT4gciB9KSB9LCAzOTY3KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBBOiAoKSA9PiBzIH0pOyB2YXIgciA9IG4oMTg2MCksIHUgPSBuKDE1MjUpLCBpID0gZnVuY3Rpb24gKCkgeyB9LCBvID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gITEgfSwgYSA9IHsgbmFtZTogImRlZmF1bHQiIH07IGxldCBzID0geyBzdXBwb3J0czogbywgcGxheTogaSwgcGF1c2U6IGksIHByZWxvYWQ6IGksIGxvYWQ6IGksIHN0b3A6IGksIHZvbHVtZTogaSwgbXV0ZTogaSwgc2VlazogaSwgcmVzaXplOiBpLCByZW1vdmU6IGksIGRlc3Ryb3k6IGksIHNldFZpc2liaWxpdHk6IGksIHNldEZ1bGxzY3JlZW46IGZ1bmN0aW9uIChlKSB7IHJldHVybiAoMCwgdS51eSkodGhpcywgZSkgfSwgZ2V0RnVsbHNjcmVlbjogbywgc3VwcG9ydHNGdWxsc2NyZWVuOiBvLCBnZXRDb250YWluZXI6IGksIHNldENvbnRhaW5lcjogaSwgZ2V0TmFtZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gYSB9LCBnZXRRdWFsaXR5TGV2ZWxzOiBpLCBnZXRDdXJyZW50UXVhbGl0eTogaSwgc2V0Q3VycmVudFF1YWxpdHk6IGksIGdldEF1ZGlvVHJhY2tzOiBpLCBnZXRDdXJyZW50QXVkaW9UcmFjazogaSwgc2V0Q3VycmVudEF1ZGlvVHJhY2s6IGksIGdldFNlZWtSYW5nZTogZnVuY3Rpb24gKCkgeyByZXR1cm4geyBzdGFydDogMCwgZW5kOiB0aGlzLmdldER1cmF0aW9uKCkgfSB9LCBzZXRQbGF5YmFja1JhdGU6IGksIGdldFBsYXliYWNrUmF0ZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gMSB9LCBnZXRCYW5kd2lkdGhFc3RpbWF0ZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbCB9LCBnZXRMaXZlTGF0ZW5jeTogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbCB9LCBhdHRhY2hNZWRpYTogaSwgZGV0YWNoTWVkaWE6IGksIGluaXQ6IGksIHNldFN0YXRlOiBmdW5jdGlvbiAoZSkgeyB0aGlzLnN0YXRlID0gZSwgdGhpcy50cmlnZ2VyKHIuY2UsIHsgbmV3c3RhdGU6IGUgfSkgfSwgc2VuZE1lZGlhVHlwZTogZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBlWzBdLCBuID0gdC50eXBlLCB1ID0gdC5taW1lVHlwZSwgaSA9ICJhYWMiID09PSBuIHx8ICJtcDMiID09PSBuIHx8ICJtcGVnIiA9PT0gbiB8fCB1ICYmIDAgPT09IHUuaW5kZXhPZigiYXVkaW8vIik7IHRoaXMudHJpZ2dlcihyLkFwLCB7IG1lZGlhVHlwZTogaSA/ICJhdWRpbyIgOiAidmlkZW8iIH0pIH0sIGdldER1cmF0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiAwIH0sIHRyaWdnZXI6IGkgfSB9LCA2OTY2KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBIajogKCkgPT4gcywgVFQ6ICgpID0+IGwsIGR5OiAoKSA9PiBjLCB0RzogKCkgPT4gZiB9KTsgdmFyIHIsIHUgPSBuKDUyOTMpLCBpID0gW3sgY29uZmlnTmFtZTogImNsZWFya2V5Iiwga2V5TmFtZTogIm9yZy53My5jbGVhcmtleSIgfSwgeyBjb25maWdOYW1lOiAid2lkZXZpbmUiLCBrZXlOYW1lOiAiY29tLndpZGV2aW5lLmFscGhhIiB9LCB7IGNvbmZpZ05hbWU6ICJwbGF5cmVhZHkiLCBrZXlOYW1lOiAiY29tLm1pY3Jvc29mdC5wbGF5cmVhZHkiIH1dLCBvID0gW10sIGEgPSB7fSwgcyA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLnNvbWUoZnVuY3Rpb24gKGUpIHsgcmV0dXJuICEhZS5kcm0gfHwgZS5zb3VyY2VzLnNvbWUoZnVuY3Rpb24gKGUpIHsgcmV0dXJuICEhZS5kcm0gfSkgfSkgfSwgYyA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiByIHx8ICgobmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyAmJiB3aW5kb3cuTWVkaWFLZXlTeXN0ZW1BY2Nlc3MucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb24gfHwgd2luZG93Lk1TTWVkaWFLZXlzKSAmJiAoMCwgdS5BKShlKSgiZHJtIikgPyAoaS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IHZhciB0LCBuLCByID0gKHQgPSBlLmtleU5hbWUsIG4gPSBbeyBpbml0RGF0YVR5cGVzOiBbImNlbmMiXSwgdmlkZW9DYXBhYmlsaXRpZXM6IFt7IGNvbnRlbnRUeXBlOiAndmlkZW8vbXA0O2NvZGVjcz0iYXZjMS40ZDQwMWUiJyB9XSwgYXVkaW9DYXBhYmlsaXRpZXM6IFt7IGNvbnRlbnRUeXBlOiAnYXVkaW8vbXA0O2NvZGVjcz0ibXA0YS40MC4yIicgfV0gfV0sIG5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MgPyBuYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzKHQsIG4pIDogbmV3IFByb21pc2UoZnVuY3Rpb24gKGUsIG4pIHsgdmFyIHI7IHRyeSB7IHIgPSBuZXcgd2luZG93Lk1TTWVkaWFLZXlzKHQpIH0gY2F0Y2ggKGUpIHsgbihlKTsgcmV0dXJuIH0gZShyKSB9KSkudGhlbihmdW5jdGlvbiAoKSB7IGFbZS5jb25maWdOYW1lXSA9ICEwIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsgYVtlLmNvbmZpZ05hbWVdID0gITEgfSk7IG8ucHVzaChyKSB9KSwgciA9IFByb21pc2UuYWxsKG8pKSA6IFByb21pc2UucmVzb2x2ZSgpKSB9LCBsID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGFbZV0gfSwgZiA9IGZ1bmN0aW9uIChlKSB7IGlmIChyKSByZXR1cm4gT2JqZWN0LmtleXMoZSkuc29tZShmdW5jdGlvbiAoZSkgeyByZXR1cm4gbChlKSB9KSB9IH0sIDEzMihlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgWDogKCkgPT4gdSB9KTsgdmFyIHIgPSBuKDkwNTUpLCB1ID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuICJobHMiID09PSBlLnR5cGUgJiYgci5PUy5hbmRyb2lkID8gITEgIT09IGUuYW5kcm9pZGhscyAmJiAhci5Ccm93c2VyLmZpcmVmb3ggJiYgcGFyc2VGbG9hdChyLk9TLnZlcnNpb24udmVyc2lvbiB8fCAiMCIpID49IDQuNCA6IG51bGwgfSB9LCA0MDY2KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBtOiAoKSA9PiByIH0pOyB2YXIgciA9IHt9IH0sIDg4ODgoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IEE6ICgpID0+IGEgfSk7IHZhciByID0gbig0MDY2KSwgdSA9IG4oOTA2MyksIGkgPSBuKDM5NjcpLCBvID0gbig5NTU1KTsgZnVuY3Rpb24gYShlKSB7IHZhciB0ID0gZS5nZXROYW1lKCkubmFtZTsgaWYgKCFyLm1bdF0pIHsgaWYgKCEoMCwgby5JNikodS5NLCAoMCwgby5jSykoeyBuYW1lOiB0IH0pKSkgeyBpZiAoISgwLCBvLlRuKShlLnN1cHBvcnRzKSkgdGhyb3cgRXJyb3IoIlRyaWVkIHRvIHJlZ2lzdGVyIGEgcHJvdmlkZXIgd2l0aCBhbiBpbnZhbGlkIG9iamVjdCIpOyB1Lk0udW5zaGlmdCh7IG5hbWU6IHQsIHN1cHBvcnRzOiBlLnN1cHBvcnRzIH0pIH0gKDAsIG8uTlQpKGUucHJvdG90eXBlLCBpLkEpLCByLm1bdF0gPSBlIH0gfSBuKDUwMDEpIH0sIDkwNjMoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IE06ICgpID0+IHAsIFI6ICgpID0+IGggfSk7IHZhciByID0gbigxMzIpLCB1ID0gbigyMjM1KSwgaSA9IG4oMzA3OCksIG8gPSBuKDkwNTUpLCBhID0gbig1MjkzKSwgcyA9IG4oNjk2NiksIGMgPSBmdW5jdGlvbiAoZSkgeyAobnVsbCA9PSBlID8gdm9pZCAwIDogZS5sZW5ndGgpICYmIEFycmF5LmlzQXJyYXkoZSkgfHwgKGUgPSBbJ3ZpZGVvL21wNDtjb2RlY3M9ImF2YzEuNGQ0MDBkLG1wNGEuNDAuMiInXSk7IHZhciB0ID0gd2luZG93Lk1lZGlhU291cmNlOyByZXR1cm4gISF0ICYmICEhdC5pc1R5cGVTdXBwb3J0ZWQgJiYgZS5ldmVyeShmdW5jdGlvbiAoZSkgeyByZXR1cm4gdC5pc1R5cGVTdXBwb3J0ZWQoZSkgfSkgfSwgbCA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiAvaGxzfG0zdTgvLnRlc3QoKChudWxsID09IGUgPyB2b2lkIDAgOiBlLnR5cGUpIHx8ICIiKS50b0xvd2VyQ2FzZSgpKSB8fCAoKG51bGwgPT0gZSA/IHZvaWQgMCA6IGUuZmlsZSkgfHwgIiIpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiLm0zdTgiKSA+IC0xIH0sIGYgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gL21wZHxkYXNoLy50ZXN0KCgobnVsbCA9PSBlID8gdm9pZCAwIDogZS50eXBlKSB8fCAiIikudG9Mb3dlckNhc2UoKSkgfHwgKChudWxsID09IGUgPyB2b2lkIDAgOiBlLmZpbGUpIHx8ICIiKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIm1wZC10aW1lLWNzZiIpID4gLTEgfSwgZCA9IHsgYWFjOiAiYXVkaW8vbXA0IiwgbXA0OiAidmlkZW8vbXA0IiwgZjR2OiAidmlkZW8vbXA0IiwgbTR2OiAidmlkZW8vbXA0IiwgbW92OiAidmlkZW8vbXA0IiwgbXAzOiAiYXVkaW8vbXBlZyIsIG1wZWc6ICJhdWRpby9tcGVnIiwgb2d2OiAidmlkZW8vb2dnIiwgb2dnOiAidmlkZW8vb2dnIiwgb2dhOiAidmlkZW8vb2dnIiwgdm9yYmlzOiAidmlkZW8vb2dnIiwgd2VibTogInZpZGVvL3dlYm0iLCBmNGE6ICJ2aWRlby9hYWMiLCBtM3U4OiAiYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmwiLCBtM3U6ICJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ3VybCIsIGhsczogImFwcGxpY2F0aW9uL3ZuZC5hcHBsZS5tcGVndXJsIiB9LCBoID0gZnVuY3Rpb24gKGUpIHsgaWYgKCFpLkEgfHwgIWkuQS5jYW5QbGF5VHlwZSB8fCAhMSA9PT0gKDAsIHIuWCkoZSkpIHJldHVybiAhMTsgdmFyIHQgPSBlLmZpbGUsIG4gPSBlLnR5cGU7IGlmICgoMCwgdS5pc1J0bXApKHQsIG4pKSByZXR1cm4gITE7IHZhciBvID0gZS5taW1lVHlwZSB8fCBkW25dOyBpZiAoIW8pIHJldHVybiAhMTsgdmFyIGEgPSBlLm1lZGlhVHlwZXM7IHJldHVybiAobnVsbCA9PSBhID8gdm9pZCAwIDogYS5sZW5ndGgpICYmIChvID0gW29dLmNvbmNhdChhLnNsaWNlKCkpLmpvaW4oIjsgIikpLCAhIWkuQS5jYW5QbGF5VHlwZShvKSB9LCBwID0gW3sgbmFtZTogImhsc2pzIiwgc3VwcG9ydHM6IGZ1bmN0aW9uIChlKSB7IGlmIChlLmRybSB8fCAhbChlKSkgcmV0dXJuICExOyB2YXIgdCwgbiA9ICEhKG51bGwgPT09IGkuQSB8fCB2b2lkIDAgPT09IGkuQSB8fCBudWxsID09ICh0ID0gaS5BLmNhblBsYXlUeXBlKSA/IHZvaWQgMCA6IHQuY2FsbChpLkEsICJhcHBsaWNhdGlvbi92bmQuYXBwbGUubXBlZ1VSTCIpKSwgciA9ICJib29sZWFuIiA9PSB0eXBlb2YgKG51bGwgPT0gZSA/IHZvaWQgMCA6IGUuc2FmYXJpaGxzanMpICYmIGUuc2FmYXJpaGxzanM7IHJldHVybiAoIW8uT1MuaVBhZCB8fCAhby5Ccm93c2VyLmNocm9tZSkgJiYgKCFuIHx8ICFvLkJyb3dzZXIuc2FmYXJpIHx8ICEhcikgJiYgKCFuIHx8ICFvLk9TLmFuZHJvaWQgfHwgITEgPT09IGUuYW5kcm9pZGhscyB8fCAhMSAhPT0gZS5obHNqc2RlZmF1bHQpICYmIGMoZS5tZWRpYVR5cGVzKSB9IH0sIHsgbmFtZTogImh0bWw1Iiwgc3VwcG9ydHM6IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuID0gaChlKTsgaWYgKGYoZSkpIHJldHVybiAhMTsgaWYgKG4gJiYgZS5kcm0gJiYgbChlKSkgeyB2YXIgciA9ICgwLCBhLkEpKHQpKCJkcm0iKTsgaWYgKHIgJiYgZS5kcm0uZmFpcnBsYXkpIHsgdmFyIHUsIGkgPSB3aW5kb3cuV2ViS2l0TWVkaWFLZXlzOyByZXR1cm4gbnVsbCA9PSBpIHx8IG51bGwgPT0gKHUgPSBpLmlzVHlwZVN1cHBvcnRlZCkgPyB2b2lkIDAgOiB1LmNhbGwoaSwgImNvbS5hcHBsZS5mcHMuMV8wIiwgInZpZGVvL21wNCIpIH0gcmV0dXJuIHIgfSByZXR1cm4gbiB9IH0sIHsgbmFtZTogInNoYWthIiwgc3VwcG9ydHM6IGZ1bmN0aW9uIChlKSB7IHJldHVybiAoIWUuZHJtIHx8ICEhKDAsIHMudEcpKGUuZHJtKSkgJiYgYyhlLm1lZGlhVHlwZXMpICYmIChmKGUpIHx8IGwoZSkpIH0gfV0gfSwgOTgxMyhlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgQTogKCkgPT4gYyB9KTsgdmFyIHIgPSBuKDkwNjMpLCB1ID0gbig0MDY2KSwgaSA9IG4oODg4OCksIG8gPSBuKDkwODMpLCBhID0geyBodG1sNTogZnVuY3Rpb24gKCkgeyByZXR1cm4gbi5lKCI1NDciKS50aGVuKG4uYmluZChuLCAxMDUzKSkudGhlbihmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGUuZGVmYXVsdDsgcmV0dXJuICgwLCBpLkEpKHQpLCB0IH0pLmNhdGNoKCgwLCBvLlE1KSgxNTIpKSB9LCBzaGFrYTogZnVuY3Rpb24gKCkgeyByZXR1cm4gbi5lKCI2MDUiKS50aGVuKG4uYmluZChuLCA5NjEzKSkudGhlbihmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGUuZGVmYXVsdDsgcmV0dXJuICgwLCBpLkEpKHQpLCB0IH0pLmNhdGNoKCgwLCBvLlE1KSgxNTQpKSB9LCBobHNqczogZnVuY3Rpb24gKCkgeyByZXR1cm4gbi5lKCIyMTciKS50aGVuKG4uYmluZChuLCAxMjg0KSkudGhlbihmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGUuZGVmYXVsdDsgcmV0dXJuICgwLCBpLkEpKHQpLCB0IH0pLmNhdGNoKCgwLCBvLlE1KSgxNTMpKSB9IH0sIHMgPSBmdW5jdGlvbiAoZSkgeyB0aGlzLmNvbmZpZyA9IGUgfHwge30gfTsgT2JqZWN0LmFzc2lnbihzLnByb3RvdHlwZSwgeyBsb2FkOiBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGFbZV0sIG4gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBQcm9taXNlLnJlamVjdChFcnJvcigiRmFpbGVkIHRvIGxvYWQgbWVkaWEiKSkgfTsgcmV0dXJuIHQgPyB0KCkudGhlbihmdW5jdGlvbiAoKSB7IHZhciB0ID0gdS5tW2VdOyByZXR1cm4gdCB8fCBuKCkgfSkgOiBuKCkgfSwgcHJvdmlkZXJTdXBwb3J0czogZnVuY3Rpb24gKGUsIHQpIHsgcmV0dXJuIGUuc3VwcG9ydHModCwgdGhpcy5jb25maWcuZWRpdGlvbikgfSwgY2hvb3NlOiBmdW5jdGlvbiAoZSkgeyBpZiAoZSA9PT0gT2JqZWN0KGUpKSBmb3IgKHZhciB0ID0gci5NLmxlbmd0aCwgbiA9IDA7IG4gPCB0OyBuKyspIHsgdmFyIGkgPSByLk1bbl07IGlmICh0aGlzLnByb3ZpZGVyU3VwcG9ydHMoaSwgZSkpIHJldHVybiB7IHByaW9yaXR5OiB0IC0gbiAtIDEsIG5hbWU6IGkubmFtZSwgdHlwZTogZS50eXBlLCBwcm92aWRlclRvQ2hlY2s6IGksIHByb3ZpZGVyOiB1Lm1baS5uYW1lXSB9IH0gcmV0dXJuIHt9IH0gfSk7IGxldCBjID0gcyB9LCAxNTI1KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBVbDogKCkgPT4gZiwgazogKCkgPT4gYSwgbF86ICgpID0+IGwsIHV5OiAoKSA9PiBzIH0pOyB2YXIgciwgdSwgaSA9IG4oMTg2MCksIG8gPSAhMSwgYSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8gfSwgcyA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmICh0ID0gISF0KSB7IHRyeSB7IHZhciBuID0gZS52aWRlby53ZWJraXRFbnRlckZ1bGxzY3JlZW4gfHwgZS52aWRlby53ZWJraXRFbnRlckZ1bGxTY3JlZW47IG4gJiYgbi5hcHBseShlLnZpZGVvKSB9IGNhdGNoIChlKSB7IHJldHVybiAhMSB9IHJldHVybiBlLmdldEZ1bGxzY3JlZW4oKSB9IHZhciByID0gZS52aWRlby53ZWJraXRFeGl0RnVsbHNjcmVlbiB8fCBlLnZpZGVvLndlYmtpdEV4aXRGdWxsU2NyZWVuOyByZXR1cm4gciAmJiByLmFwcGx5KGUudmlkZW8pLCB0IH0sIGMgPSBmdW5jdGlvbiAoZSwgdCwgbikgeyBvID0gbiwgZS50cmlnZ2VyKGkuX1QsIHsgdGFyZ2V0OiB0LnRhcmdldCwgandzdGF0ZTogbiB9KSB9LCBsID0gZnVuY3Rpb24gKGUsIHQpIHsgciA9IGZ1bmN0aW9uICh0KSB7IHJldHVybiBjKGUsIHQsICEwKSB9LCB1ID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIGMoZSwgdCwgITEpIH0sIHQuYWRkRXZlbnRMaXN0ZW5lcigid2Via2l0YmVnaW5mdWxsc2NyZWVuIiwgciksIHQuYWRkRXZlbnRMaXN0ZW5lcigid2Via2l0ZW5kZnVsbHNjcmVlbiIsIHUpIH0sIGYgPSBmdW5jdGlvbiAoZSkgeyBlLnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmtpdGJlZ2luZnVsbHNjcmVlbiIsIHIpLCBlLnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmtpdGVuZGZ1bGxzY3JlZW4iLCB1KSB9IH0sIDcyNjgoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IHI6ICgpID0+IGcsIG86ICgpID0+IHYgfSk7IHZhciByID0gbigxMzc0KSwgdSA9IG4oMTg5MyksIGkgPSBuKDQ3OCksIG8gPSBuKDE2MzUpOyBsZXQgYSA9IGNsYXNzIGUgeyBzdGF0aWMgbm9ybWFsaXplVmVyc2lvbihlLCB0KSB7IHJldHVybiBlLnRyaW0oKS5yZXBsYWNlKC9edi9pLCAiIikuc3BsaXQoIi4iKS5tYXAocGFyc2VGbG9hdCkuZmlsdGVyKGUgPT4gIU51bWJlci5pc05hTihlKSkuam9pbih0KSB9IHN0YXRpYyBnZW5lcmF0ZUNhY2hlS2V5KHQsIG4pIHsgbGV0IHIgPSBlLm5vcm1hbGl6ZVZlcnNpb24obiwgIi4iKTsgcmV0dXJuIGAke3R9QEAke3J9YCB9IHN0YXRpYyBtYWtlUHJvbWlzZSgpIHsgbGV0IGUsIHQsIG4gPSBuZXcgUHJvbWlzZSgobiwgcikgPT4geyBlID0gbiwgdCA9IHIgfSk7IHJldHVybiBuLnJlc29sdmUgPSBlLCBuLnJlamVjdCA9IHQsIG4gfSB9LCBzID0gY2xhc3MgeyBnZXQga2V5KCkgeyByZXR1cm4gYS5nZW5lcmF0ZUNhY2hlS2V5KHRoaXMubmFtZSwgdGhpcy52ZXJzaW9uKSB9IGNvbnN0cnVjdG9yKGUsIHQsIG4pIHsgdGhpcy5uYW1lID0gZSwgdGhpcy52ZXJzaW9uID0gdCwgdGhpcy5wcm9taXNlID0gbiwgdGhpcy50aW1lb3V0SWQgPSB2b2lkIDAsIHRoaXMuc2NyaXB0RWxlbWVudCA9IG51bGwgfSB9LCBjID0gIi0xLi0xLi0xIiwgbCA9IGUgPT4gL152PyhcZCspKFwuXGQrKT8oXC5cZCspPyhbLStdWzAtOWEtekEtWi0uXSopPyQvLnRlc3QoZSksIGYgPSBjbGFzcyBlIHsgc3RhdGljIGdldFNlcnZpY2VMb2FkZXIodCkgeyBsZXQgeyBnbG9iYWxWYWw6IG4gfSA9IHQgfHwge30sIHIgPSBuIHx8IHdpbmRvdzsgcmV0dXJuIHIuandwU2VydmljZXMgfHwgKHIuandwU2VydmljZXMgPSBuZXcgZSh0KSksIHIuandwU2VydmljZXMgfSBhZGRPdmVycmlkZXMoZSkgeyBpZiAoQXJyYXkuaXNBcnJheShlKSB8fCAib2JqZWN0IiAhPSB0eXBlb2YgZSB8fCAoZSA9IFtlXSksICFBcnJheS5pc0FycmF5KGUpKSB0aHJvdyBFcnJvcigiYWRkT3ZlcnJpZGVzIG9ubHkgYWNjZXB0cyBhbiBhcnJheSBvZiBvYmplY3Qgb3IgYSBzaW5nbGUgb2JqZWN0Iik7IGZvciAobGV0IHsgbmFtZTogdCwgY2xpZW50OiBuIH0gb2YgZSkgeyBpZiAoIXQgfHwgIW4pIHRocm93IEVycm9yKGBpbnZhbGlkIGVudHJ5IHdhcyBwYXNzZWQgdG8gYWRkT3ZlcnJpZGVzLiBPYmplY3RzIG11c3QgaGF2ZSBhIG5hbWUgYW5kIGEgY2xpZW50ICh1cmwvdmVyc2lvbikuICR7SlNPTi5zdHJpbmdpZnkoeyBuYW1lOiB0LCBjbGllbnQ6IG4gfSl9YCk7IGxldCBlID0gbjsgbChuKSAmJiAoZSA9IHRoaXMuX21ha2VGZXRjaFVybCh0LCBuLnJlcGxhY2UoL152L2ksICIiKSkpLCB0aGlzLl9vdmVycmlkZXMuc2V0KHQsIGUpIH0gfSBkZWxPdmVycmlkZXMoZSkgeyBpZiAoQXJyYXkuaXNBcnJheShlKSB8fCAib2JqZWN0IiAhPSB0eXBlb2YgZSB8fCAoZSA9IFtlXSksICFBcnJheS5pc0FycmF5KGUpKSB0aHJvdyBFcnJvcigiZGVsT3ZlcnJpZGVzIG9ubHkgYWNjZXB0cyBhbiBhcnJheSBvZiBvYmplY3Qgb3IgYSBzaW5nbGUgb2JqZWN0Iik7IGZvciAobGV0IHsgbmFtZTogdCB9IG9mIGUpIHsgaWYgKCF0KSB0aHJvdyBFcnJvcigiaW52YWxpZCBlbnRyeSB3YXMgcGFzc2VkIHRvIGRlbE92ZXJyaWRlcy4gT2JqZWN0cyBtdXN0IGhhdmUgYSBuYW1lIik7IHRoaXMuX292ZXJyaWRlcy5kZWxldGUodCkgfSB9IGFzeW5jIGdldFNlcnZpY2UoZSwgdCkgeyB0aGlzLl9vdmVycmlkZXMuaGFzKGUpICYmICh0ID0gYyk7IGxldCBuID0gYS5nZW5lcmF0ZUNhY2hlS2V5KGUsIHQpOyBpZiAodGhpcy5fc2VydmljZUNhY2hlLmhhcyhuKSkgcmV0dXJuIHRoaXMuX3NlcnZpY2VDYWNoZS5nZXQobik7IGlmICh0aGlzLl9sb2FkaW5nRW50cmllcy5oYXMoZSkpIHsgbGV0IG4gPSB0aGlzLl9sb2FkaW5nRW50cmllcy5nZXQoZSk7IGlmIChuLnZlcnNpb24gPT09IHQpIHJldHVybiBuLnByb21pc2U7IGlmICh0aGlzLl9wZW5kaW5nUXVldWUuaGFzKGUpKSB7IGxldCBuID0gdGhpcy5fcGVuZGluZ1F1ZXVlLmdldChlKTsgaWYgKG51bGwgPT0gbiA/IHZvaWQgMCA6IG4ubGVuZ3RoKSB7IGxldCBlID0gbi5maW5kKGUgPT4gZS52ZXJzaW9uID09PSB0KTsgaWYgKGUpIHJldHVybiBlLnByb21pc2UgfSB9IGxldCByID0gYS5tYWtlUHJvbWlzZSgpLCB1ID0gbmV3IHMoZSwgdCwgcik7IHJldHVybiB0aGlzLl9tYWtlUGVuZGluZyh1KSwgciB9IGxldCByID0gYS5tYWtlUHJvbWlzZSgpLCB1ID0gbmV3IHMoZSwgdCwgcik7IHJldHVybiB0aGlzLl9kb0xvYWQodSksIHIgfSBhc3luYyByZWdpc3RlclNlcnZpY2UoZSwgdCkgeyBpZiAoIWUgfHwgIXQpIHJldHVybjsgbGV0IHsgY3VycmVudFNjcmlwdDogbiB9ID0gdGhpcy5fZ2xvYmFsLmRvY3VtZW50LCByID0gYXdhaXQgdCwgdSA9IHRoaXMuX292ZXJyaWRlcy5oYXMoZSkgPyBjIDogci52ZXJzaW9uLCBpID0gYS5nZW5lcmF0ZUNhY2hlS2V5KGUsIHUpOyBpZiAoIXRoaXMuX2xvYWRpbmdFbnRyaWVzLmhhcyhlKSkgcmV0dXJuIHRoaXMuX3JlZ2lzdGVyTm9uTG9hZGluZ1NlcnZpY2UoZSwgdCk7IGxldCBvID0gdGhpcy5fbG9hZGluZ0VudHJpZXMuZ2V0KGUpOyBpZiAoIW8pIHJldHVybjsgbGV0IHMgPSBvLnByb21pc2UsIGwgPSBvLmtleTsgaWYgKG8uc2NyaXB0RWxlbWVudCAhPT0gbikgcmV0dXJuIHRoaXMuX3JlZ2lzdGVyTm9uTG9hZGluZ1NlcnZpY2UoZSwgdCk7IHRoaXMuX2xvYWRpbmdFbnRyaWVzLmRlbGV0ZShlKSwgY2xlYXJUaW1lb3V0KG8udGltZW91dElkKTsgbGV0IGYgPSB0aGlzLl9zZXJ2aWNlQ2FjaGUuZ2V0KGkpOyBpZiAoZikgcmV0dXJuIHRoaXMuX3NlcnZpY2VDYWNoZS5zZXQobCwgZiksIHRoaXMuX21heWJlTW92ZVBlbmRpbmdUb0xvYWRpbmcoZSksIHMucmVzb2x2ZShmKTsgdGhpcy5fc2VydmljZUNhY2hlLnNldChsLCByKSwgbCAhPT0gaSAmJiB0aGlzLl9zZXJ2aWNlQ2FjaGUuc2V0KGksIHMpLCB0aGlzLl9tYXliZVJlc29sdmVPdGhlclBlbmRpbmcoZSwgdCwgdSksIHRoaXMuX21heWJlTW92ZVBlbmRpbmdUb0xvYWRpbmcoZSksIHMucmVzb2x2ZSh0KSB9IGFzeW5jIF9yZWdpc3Rlck5vbkxvYWRpbmdTZXJ2aWNlKGUsIHQpIHsgbGV0IG4gPSBhd2FpdCB0LCByID0gdGhpcy5fb3ZlcnJpZGVzLmhhcyhlKSA/IGMgOiBuLnZlcnNpb24sIHUgPSBhLmdlbmVyYXRlQ2FjaGVLZXkoZSwgcik7IHRoaXMuX3NlcnZpY2VDYWNoZS5oYXModSkgfHwgKHRoaXMuX3NlcnZpY2VDYWNoZS5zZXQodSwgbiksIHRoaXMuX21heWJlUmVzb2x2ZU90aGVyUGVuZGluZyhlLCB0LCByKSkgfSBfbWF5YmVSZXNvbHZlT3RoZXJQZW5kaW5nKGUsIHQsIG4pIHsgbGV0IHIgPSB0aGlzLl9wZW5kaW5nUXVldWUuZ2V0KGUpOyBpZiAoIXIpIHJldHVybjsgaWYgKCFyLmxlbmd0aCkgcmV0dXJuIHZvaWQgdGhpcy5fcGVuZGluZ1F1ZXVlLmRlbGV0ZShlKTsgbGV0IHUgPSByLmZpbmRJbmRleChlID0+IGUudmVyc2lvbiA9PT0gbik7IGlmICgtMSA9PT0gdSkgcmV0dXJuOyBsZXQgaSA9IHIuc3BsaWNlKHUsIDEpWzBdOyByLmxlbmd0aCB8fCB0aGlzLl9wZW5kaW5nUXVldWUuZGVsZXRlKGUpLCBpLnByb21pc2UucmVzb2x2ZSh0KSB9IF9tYWtlUGVuZGluZyhlKSB7IGxldCB7IG5hbWU6IHQgfSA9IGUsIG4gPSB0aGlzLl9wZW5kaW5nUXVldWUuZ2V0KHQpOyBuID8gbi5wdXNoKGUpIDogdGhpcy5fcGVuZGluZ1F1ZXVlLnNldCh0LCBbZV0pIH0gX2RvTG9hZChlKSB7IGxldCB7IG5hbWU6IHQgfSA9IGU7IHRoaXMuX3NldFRpbWVvdXQoZSksIHRoaXMuX2NyZWF0ZVNjcmlwdEVsZW1lbnQoZSksIHRoaXMuX2xvYWRpbmdFbnRyaWVzLnNldCh0LCBlKSB9IF9zZXRUaW1lb3V0KGUpIHsgbGV0IHQgPSBFcnJvcigic2NyaXB0IGxvYWRpbmcgdGltZW91dCBlcnJvciIpOyBlLnRpbWVvdXRJZCA9IHNldFRpbWVvdXQodGhpcy5fc2NyaXB0RXJyb3IoZSksIDJlNCwgdCkgfSBfY3JlYXRlU2NyaXB0RWxlbWVudChlKSB7IGxldCB7IG5hbWU6IHQsIHZlcnNpb246IG4gfSA9IGUsIHIgPSB0aGlzLl9nbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7IHIudHlwZSA9ICJ0ZXh0L2phdmFzY3JpcHQiLCByLnNyYyA9IHRoaXMuX21ha2VGZXRjaFVybCh0LCBuKSwgci5vbmVycm9yID0gdGhpcy5fc2NyaXB0RXJyb3IoZSksIHIuYXN5bmMgPSAhMCwgZS5zY3JpcHRFbGVtZW50ID0gciwgdGhpcy5fZ2xvYmFsLmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocikgfSBfc2NyaXB0RXJyb3IoZSkgeyByZXR1cm4gdCA9PiB7IHZhciBuOyBsZXQgeyBuYW1lOiByLCBwcm9taXNlOiB1IH0gPSBlOyBjbGVhclRpbWVvdXQoZS50aW1lb3V0SWQpLCBlLnNjcmlwdEVsZW1lbnQgJiYgKGUuc2NyaXB0RWxlbWVudC5vbmVycm9yID0gbnVsbCk7IGxldCBpID0gKG51bGwgPT0gZSB8fCBudWxsID09IChuID0gZS5zY3JpcHRFbGVtZW50KSA/IHZvaWQgMCA6IG4uc3JjKSA/IGAgYXQgJHtlLnNjcmlwdEVsZW1lbnQuc3JjfWAgOiAiIiwgbyA9IChudWxsID09IHQgPyB2b2lkIDAgOiB0Lm1lc3NhZ2UpID8gYCB3aXRoIGVycm9yOiAke3QubWVzc2FnZX1gIDogIiI7IHRoaXMuX2xvYWRpbmdFbnRyaWVzLmRlbGV0ZShyKSwgdGhpcy5fbWF5YmVNb3ZlUGVuZGluZ1RvTG9hZGluZyhyKSwgdS5yZWplY3QoRXJyb3IoYEZhaWxlZCB0byBsb2FkIHNlcnZpY2UgJHtyfSR7aX0ke299YCkpIH0gfSBfbWFrZUZldGNoVXJsKGUsIHQpIHsgbGV0IG4gPSB0aGlzLl9vdmVycmlkZXMuZ2V0KGUpOyBpZiAobikgcmV0dXJuIG47IGxldCByID0gYS5ub3JtYWxpemVWZXJzaW9uKHQsICIvIik7IHJldHVybiBgJHt0aGlzLl9iYXNlVXJsfS8ke2V9L3YvJHtyfS9pbmRleC5qc2AgfSBfbWF5YmVNb3ZlUGVuZGluZ1RvTG9hZGluZyhlKSB7IGxldCB0ID0gdGhpcy5fcGVuZGluZ1F1ZXVlLmdldChlKTsgaWYgKCEobnVsbCA9PSB0ID8gdm9pZCAwIDogdC5sZW5ndGgpKSByZXR1cm47IGxldCBuID0gdC5zaGlmdCgpOyBuICYmIHRoaXMuX2RvTG9hZChuKSB9IGNvbnN0cnVjdG9yKGUpIHsgY29uc3QgeyBiYXNlVXJsOiB0LCBnbG9iYWxWYWw6IG4gfSA9IGUgfHwge307IGlmICh0aGlzLl9iYXNlVXJsID0gdCB8fCAiaHR0cHM6Ly9zc2wucC5qd3BjZG4uY29tL3BsYXllci9zZXJ2aWNlcyIsIHRoaXMuX2dsb2JhbCA9IG4gfHwgd2luZG93LCB0aGlzLl9vdmVycmlkZXMgPSBuZXcgTWFwLCB0aGlzLl9wZW5kaW5nUXVldWUgPSBuZXcgTWFwLCB0aGlzLl9sb2FkaW5nRW50cmllcyA9IG5ldyBNYXAsIHRoaXMuX3NlcnZpY2VDYWNoZSA9IG5ldyBNYXAsIHRoaXMuX2dsb2JhbC5sb2NhdGlvbikgeyBjb25zdCBlID0gbmV3IFVSTCh0aGlzLl9nbG9iYWwubG9jYXRpb24uaHJlZikuc2VhcmNoUGFyYW1zLmdldEFsbCgiandwY3NsT3ZlcnJpZGUiKTsgdGhpcy5hZGRPdmVycmlkZXMoZS5yZWR1Y2UoKGUsIHQpID0+IHsgbGV0IG4gPSB0LmluZGV4T2YoIjoiKTsgaWYgKC0xID09PSBuKSByZXR1cm4gY29uc29sZS53YXJuKCJTa2lwcGluZyB1bnN1cHBvcnRlZCBqd3Bjc2xPdmVycmlkZSB2YWx1ZSIsIHQpLCBlOyBsZXQgciA9IHQuc2xpY2UoMCwgbiksIHUgPSB0LnNsaWNlKG4gKyAxKTsgcmV0dXJuIGUucHVzaCh7IG5hbWU6IHIsIGNsaWVudDogdSB9KSwgZSB9LCBbXSkpIH0gfSB9OyB2YXIgZCA9IG4oNTY2KSwgaCA9IG4oNTQ1NiksIHAgPSB7IGZvcmNlUHJlcm9sbDogITAgfSwgRCA9IHsgZHluYW1pY0FkczogZnVuY3Rpb24gKGUsIHQpIHsgcmV0dXJuIFsoMCwgaC5fKSgoMCwgdS5fKSh7fSwgdCksIHsgZXhwZXJpZW5jZU5hbWU6ICJwbGF5ZXIiLCBleHBlcmllbmNlOiBlLCBhZFJ1bGVzOiAoMCwgdS5fKSh7fSwgcCwgdC5ydWxlcykgfSldIH0gfSwgdiA9IGZ1bmN0aW9uIChlLCB0LCBuLCBhKSB7IHJldHVybiAoMCwgci5fKShmdW5jdGlvbiAoKSB7IHZhciByLCBzLCBjLCBsLCBkLCBoLCBwLCB2LCBnOyByZXR1cm4gKDAsIG8uWUgpKHRoaXMsIGZ1bmN0aW9uIChvKSB7IHN3aXRjaCAoby5sYWJlbCkgeyBjYXNlIDA6IHJldHVybiBzID0gZi5nZXRTZXJ2aWNlTG9hZGVyKCksIGMgPSBuLm5hbWUsIGwgPSBuLnZlcnNpb24sIGQgPSBuLmNmZ0tleSwgdC5zZXQoInNlcnZpY2VzLiIuY29uY2F0KGMpLCAibG9hZGluZyIpLCAoaCA9ICgwLCB1Ll8pKHt9LCBhIHx8IHt9KSkuY2xpZW50ICYmIChzLmFkZE92ZXJyaWRlcyh7IG5hbWU6IGMsIGNsaWVudDogaC5jbGllbnQgfSksIGRlbGV0ZSBoLmNsaWVudCksIFs0LCBzLmdldFNlcnZpY2UoYywgbCldOyBjYXNlIDE6IHZhciBtLCB5OyBpZiAocCA9IG8uc2VudCgpLCB0LmF0dHJpYnV0ZXMuX2Rlc3Ryb3llZCkgcmV0dXJuIFsyXTsgcmV0dXJuIG0gPSBoLCB2ID0gRFt5ID0gZF0gPyBEW3ldKGUsIG0pIDogW2UsIG1dLCBbNCwgKHIgPSBwKS5yZWdpc3Rlci5hcHBseShyLCBbInBsYXllciJdLmNvbmNhdCgoMCwgaS5fKSh2KSkpXTsgY2FzZSAyOiBpZiAoZyA9IG8uc2VudCgpLCB0LmF0dHJpYnV0ZXMuX2Rlc3Ryb3llZCkgcmV0dXJuIFsyXTsgcmV0dXJuIHQuc2V0KCJzZXJ2aWNlcy4iLmNvbmNhdChjKSwgZyksIFsyXSB9IH0pIH0pKCkgfSwgZyA9IGZ1bmN0aW9uIChlLCB0KSB7IHJldHVybiAoMCwgci5fKShmdW5jdGlvbiAoKSB7IHZhciBuLCByLCB1LCBpLCBhLCBzLCBjLCBsLCBmLCBoLCBwLCBELCBnLCBtLCB5LCBBOyByZXR1cm4gKDAsIG8uWUgpKHRoaXMsIGZ1bmN0aW9uIChvKSB7IHN3aXRjaCAoby5sYWJlbCkgeyBjYXNlIDA6IG4gPSB0LmdldENvbmZpZygpLCByID0gW10sIHUgPSAhMCwgaSA9ICExLCBhID0gdm9pZCAwOyB0cnkgeyBmb3IgKHMgPSBkLkFbU3ltYm9sLml0ZXJhdG9yXSgpOyAhKHUgPSAoYyA9IHMubmV4dCgpKS5kb25lKTsgdSA9ICEwKSB7IGlmICghKGwgPSBjLnZhbHVlKS5uYW1lIHx8ICFsLnZlcnNpb24gfHwgIWwuY2ZnS2V5KSB0aHJvdyBFcnJvcigiU0VSVklDRV9ERUZJTklUSU9OUyBpcyBpbnZhbGlkLiBFYWNoIHNlcnZpY2UgbXVzdCBoYXZlIG5hbWUsIHZlcnNpb24sIGFuZCBjZmdLZXkiLCBKU09OLnN0cmluZ2lmeShsKSk7IGYgPSBsLmNmZ0tleSwgT2JqZWN0Lmhhc093bihuLCBmKSAmJiAhbC5hc3luYyAmJiByLnB1c2godih0LCBlLCBsLCBuW2ZdKSkgfSB9IGNhdGNoIChlKSB7IGkgPSAhMCwgYSA9IGUgfSBmaW5hbGx5IHsgdHJ5IHsgdSB8fCBudWxsID09IHMucmV0dXJuIHx8IHMucmV0dXJuKCkgfSBmaW5hbGx5IHsgaWYgKGkpIHRocm93IGEgfSB9IGlmIChuLnNlcnZpY2VzKSB7IGggPSAhMCwgcCA9ICExLCBEID0gdm9pZCAwOyB0cnkgeyBmb3IgKGcgPSBuLnNlcnZpY2VzW1N5bWJvbC5pdGVyYXRvcl0oKTsgIShoID0gKG0gPSBnLm5leHQoKSkuZG9uZSk7IGggPSAhMCkgeyBpZiAoISh5ID0gbS52YWx1ZSkgfHwgIXkubmFtZSB8fCAhKG51bGwgPT0geSB8fCBudWxsID09IChBID0geS52ZXJzaW9uKSA/IHZvaWQgMCA6IEEudG9TdHJpbmcoKS5sZW5ndGgpKSB0aHJvdyBFcnJvcigicGxheWVyQ29uZmlnLnNlcnZpY2VzIG11c3QgaGF2ZSBhIGRlZmluZWQgbmFtZSBhbmQgdmVyc2lvbiIpOyByLnB1c2godih0LCBlLCB5LCB5LmNmZykpIH0gfSBjYXRjaCAoZSkgeyBwID0gITAsIEQgPSBlIH0gZmluYWxseSB7IHRyeSB7IGggfHwgbnVsbCA9PSBnLnJldHVybiB8fCBnLnJldHVybigpIH0gZmluYWxseSB7IGlmIChwKSB0aHJvdyBEIH0gfSB9IHJldHVybiBbNCwgUHJvbWlzZS5hbGwocildOyBjYXNlIDE6IHJldHVybiBbMiwgby5zZW50KCldIH0gfSkgfSkoKSB9IH0sIDU2NihlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgQTogKCkgPT4gciB9KTsgbGV0IHIgPSBbeyBuYW1lOiAiZGlzY292ZXJ5LXZpZGVvcyIsIGNmZ0tleTogImRpc2NvdmVyeVZpZGVvcyIsIHZlcnNpb246ICIwIiwgYXN5bmM6ICEwIH0sIHsgbmFtZTogImR5bmFtaWMtYWQtc2NoZWR1bGVyIiwgY2ZnS2V5OiAiZHluYW1pY0FkcyIsIHZlcnNpb246ICIwIiB9XSB9LCAyMzI5KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBBOiAoKSA9PiByIH0pOyBsZXQgciA9IGZ1bmN0aW9uICgpIHsgaWYgKCJ1IiA+IHR5cGVvZiBkb2N1bWVudCkgeyBpZiAoImhpZGRlbiIgaW4gZG9jdW1lbnQpIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiAhZG9jdW1lbnQuaGlkZGVuIH07IGlmICgid2Via2l0SGlkZGVuIiBpbiBkb2N1bWVudCkgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuICFkb2N1bWVudC53ZWJraXRIaWRkZW4gfSB9IHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiAhMCB9IH0oKSB9LCA0OTMoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IEI6ICgpID0+IHMsIFI6ICgpID0+IGQgfSk7IHZhciByLCB1ID0gbig0Nzk0KSwgaSA9IG4oMjIzNSksIG8gPSBuKDgyNTMpLCBhID0gZnVuY3Rpb24gKCkgeyB9LCBzID0gZnVuY3Rpb24gKGUpIHsgZS5vbmxvYWQgPSBudWxsLCBlLm9ucHJvZ3Jlc3MgPSBudWxsLCBlLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGwsIGUub25lcnJvciA9IG51bGwsICJhYm9ydCIgaW4gZSAmJiBlLmFib3J0KCkgfSwgYyA9IGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7IGUub25lcnJvcih0LCBlLnVybCwgZS54aHIsIG5ldyBvLk1rKHQsIG4sIHIpKSB9LCBsID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsgdmFyIHIgPSB0LmRvY3VtZW50RWxlbWVudDsgcmV0dXJuIG4ucmVxdWlyZVZhbGlkWE1MICYmICgicGFyc2VyZXJyb3IiID09PSByLm5vZGVOYW1lIHx8IHIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RoKSA/IHZvaWQgYyhuLCBvLlVQLCA2MDEpIDogKGUucmVzcG9uc2VYTUwgfHwgKGUgPSBPYmplY3QuYXNzaWduKHt9LCBlLCB7IHJlc3BvbnNlWE1MOiB0IH0pKSwgbi5vbmNvbXBsZXRlKGUpKSB9LCBmID0gZnVuY3Rpb24gKGUsIHQpIHsgaWYgKCFlLnJlc3BvbnNlIHx8ICJzdHJpbmciID09IHR5cGVvZiBlLnJlc3BvbnNlICYmICciJyAhPT0gZS5yZXNwb25zZVRleHQuc3Vic3RyKDEpKSB0cnkgeyBlID0gT2JqZWN0LmFzc2lnbih7fSwgZSwgeyByZXNwb25zZTogSlNPTi5wYXJzZShlLnJlc3BvbnNlVGV4dCkgfSkgfSBjYXRjaCAoZSkgeyBjKHQsIG8uVVAsIDYxMSwgZSk7IHJldHVybiB9IHJldHVybiB0Lm9uY29tcGxldGUoZSkgfSwgZCA9IGZ1bmN0aW9uIChlLCB0LCBuLCBkKSB7IGUgPT09IE9iamVjdChlKSAmJiAoZSA9IChkID0gZSkudXJsKTsgdmFyIGgsIHAsIEQgPSBPYmplY3QuYXNzaWduKHsgeGhyOiBudWxsLCB1cmw6IGUsIHdpdGhDcmVkZW50aWFsczogITEsIHJldHJ5V2l0aG91dENyZWRlbnRpYWxzOiAhMSwgdGltZW91dDogNmU0LCB0aW1lb3V0SWQ6IC0xLCBvbmNvbXBsZXRlOiB0IHx8IGEsIG9uZXJyb3I6IG4gfHwgYSwgbWltZVR5cGU6IGQgJiYgIWQucmVzcG9uc2VUeXBlID8gInRleHQveG1sIiA6ICIiLCByZXF1aXJlVmFsaWRYTUw6ICExLCByZXNwb25zZVR5cGU6IChudWxsID09IGQgPyB2b2lkIDAgOiBkLnBsYWluVGV4dCkgPyAidGV4dCIgOiAiIiwgdXNlRG9tUGFyc2VyOiAhMSwgcmVxdWVzdEZpbHRlcjogbnVsbCB9LCBkKSwgdiA9IHIoIkVycm9yIGxvYWRpbmcgZmlsZSIsIEQpOyBpZiAoISgiWE1MSHR0cFJlcXVlc3QiIGluIHdpbmRvdykpIHJldHVybiB2b2lkIGMoRCwgby5UbSwgMik7IGlmIChoID0gRC54aHIgPSBELnhociB8fCBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0LCAiZnVuY3Rpb24iID09IHR5cGVvZiBELnJlcXVlc3RGaWx0ZXIpIHsgdHJ5IHsgcCA9IEQucmVxdWVzdEZpbHRlcih7IHVybDogZSwgeGhyOiBoIH0pIH0gY2F0Y2ggKGUpIHsgcmV0dXJuIHYoZSwgNSksIGggfSBwICYmICJvcGVuIiBpbiBwICYmICJzZW5kIiBpbiBwICYmIChoID0gRC54aHIgPSBwKSB9IGgub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBlLmN1cnJlbnRUYXJnZXQgfHwgRC54aHI7IGlmICg0ID09PSB0LnJlYWR5U3RhdGUpIHsgdmFyIG4gPSB0LnN0YXR1czsgaWYgKG4gPj0gNDAwKSB7IGNsZWFyVGltZW91dChELnRpbWVvdXRJZCksIGMoRCwgby5VUCwgbiA8IDYwMCA/IG4gOiA2KTsgcmV0dXJuIH0gaWYgKG4gPj0gMjAwICYmIG4gPD0gMjk5KSByZXR1cm4gY2xlYXJUaW1lb3V0KEQudGltZW91dElkKSwgZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBlLmN1cnJlbnRUYXJnZXQgfHwgRC54aHI7IGlmIChjbGVhclRpbWVvdXQoRC50aW1lb3V0SWQpLCBELnJlc3BvbnNlVHlwZSkgeyBpZiAoImpzb24iID09PSBELnJlc3BvbnNlVHlwZSkgcmV0dXJuIGYodCwgRCkgfSBlbHNlIHsgdmFyIG4sIHIgPSB0LnJlc3BvbnNlWE1MOyBpZiAocikgdHJ5IHsgbiA9IHIuZmlyc3RDaGlsZCB9IGNhdGNoIChlKSB7IH0gaWYgKHIgJiYgbiB8fCBELnVzZURvbVBhcnNlciAmJiB0LnJlc3BvbnNlVGV4dCAmJiAhciAmJiAobnVsbCA9PSAociA9ICgwLCB1LnBhcnNlWE1MKSh0LnJlc3BvbnNlVGV4dCkpID8gdm9pZCAwIDogci5maXJzdENoaWxkKSkgcmV0dXJuIGwodCwgciwgRCk7IGlmIChELnJlcXVpcmVWYWxpZFhNTCkgcmV0dXJuIHZvaWQgYyhELCBvLlVQLCA2MDIpIH0gRC5vbmNvbXBsZXRlKHQpIH0oZSk7IDAgPT09IG4gJiYgKDAsIGkuaXNGaWxlUHJvdG9jb2wpKCkgJiYgIS9eW2Etel1bYS16MC05Ky4tXSo6Ly50ZXN0KEQudXJsKSAmJiAoY2xlYXJUaW1lb3V0KEQudGltZW91dElkKSwgYyhELCBvLlVQLCA3KSkgfSB9LCBoLm9uZXJyb3IgPSB2LCAib3ZlcnJpZGVNaW1lVHlwZSIgaW4gaCA/IEQubWltZVR5cGUgJiYgaC5vdmVycmlkZU1pbWVUeXBlKEQubWltZVR5cGUpIDogRC51c2VEb21QYXJzZXIgPSAhMDsgdHJ5IHsgZSA9IGUucmVwbGFjZSgvIy4qJC8sICIiKSwgaC5vcGVuKCJHRVQiLCBlLCAhMCkgfSBjYXRjaCAoZSkgeyByZXR1cm4gdihlLCAzKSwgaCB9IGlmIChELnJlc3BvbnNlVHlwZSkgdHJ5IHsgaC5yZXNwb25zZVR5cGUgPSBELnJlc3BvbnNlVHlwZSB9IGNhdGNoIChlKSB7IH0gRC50aW1lb3V0ICYmIChELnRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBzKGgpLCBjKEQsIG8uVG0sIDEpIH0sIEQudGltZW91dCksIGgub25hYm9ydCA9IGZ1bmN0aW9uICgpIHsgY2xlYXJUaW1lb3V0KEQudGltZW91dElkKSB9KTsgdHJ5IHsgRC53aXRoQ3JlZGVudGlhbHMgJiYgIndpdGhDcmVkZW50aWFscyIgaW4gaCAmJiAoaC53aXRoQ3JlZGVudGlhbHMgPSAhMCksIGguc2VuZCgpIH0gY2F0Y2ggKGUpIHsgdihlLCA0KSB9IHJldHVybiBoIH07IHIgPSBmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gZnVuY3Rpb24gKGUsIG4pIHsgdmFyIHIgPSBlLmN1cnJlbnRUYXJnZXQgfHwgdC54aHI7IGlmIChjbGVhclRpbWVvdXQodC50aW1lb3V0SWQpLCB0LnJldHJ5V2l0aG91dENyZWRlbnRpYWxzICYmIHQueGhyLndpdGhDcmVkZW50aWFscykgeyBzKHIpLCBkKE9iamVjdC5hc3NpZ24oe30sIHQsIHsgeGhyOiBudWxsLCB3aXRoQ3JlZGVudGlhbHM6ICExLCByZXRyeVdpdGhvdXRDcmVkZW50aWFsczogITEgfSkpOyByZXR1cm4gfSAhbiAmJiByLnN0YXR1cyA+PSA0MDAgJiYgci5zdGF0dXMgPCA2MDAgJiYgKG4gPSByLnN0YXR1cyksIGModCwgbiA/IG8uVVAgOiBvLlRtLCBuIHx8IDYsIGUpIH0gfSB9LCA1MDAxKGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBBVTogKCkgPT4gcCwgQXk6ICgpID0+IGYsIENEOiAoKSA9PiB2LCBPbzogKCkgPT4gaCwgaFo6ICgpID0+IEQsIG9uOiAoKSA9PiBkIH0pOyB2YXIgciA9IG4oNDk0KSwgdSA9IG4oOTQwNyksIGkgPSBuKDQ2NyksIG8gPSBuKDE2NDIpLCBhID0gbigyMTk0KS5BLmxvZ2dlci5jaGlsZCgiandwbGF5ZXIvdXRpbHMvYmFja2JvbmUuZXZlbnRzIiksIHMgPSBmdW5jdGlvbiAoZSwgdCwgbiwgcikgeyBmb3IgKHZhciB1ID0gLTEsIGkgPSBlLmxlbmd0aDsgKyt1IDwgaTspIHsgdmFyIG8gPSBlW3VdOyBpZiAocikgdHJ5IHsgby5jYWxsYmFjay5hcHBseShvLmNvbnRleHQgfHwgbiwgdCkgfSBjYXRjaCAoZSkgeyBhLmRlYnVnKCdFcnJvciBpbiAiJy5jb25jYXQociwgJyIgZXZlbnQgaGFuZGxlcjonKSwgZSkgfSBlbHNlIG8uY2FsbGJhY2suYXBwbHkoby5jb250ZXh0IHx8IG4sIHQpIH0gfSwgYyA9IC9ccysvLCBsID0gZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHsgaWYgKCFuKSByZXR1cm4gITA7IGlmICgodm9pZCAwID09PSBuID8gInVuZGVmaW5lZCIgOiAoMCwgby5fKShuKSkgPT09ICJvYmplY3QiKSB7IGZvciAodmFyIHUgaW4gbikgT2JqZWN0Lmhhc093bihuLCB1KSAmJiBlW3RdLmFwcGx5KGUsIFt1LCBuW3VdXS5jb25jYXQocikpOyByZXR1cm4gITEgfSBpZiAoYy50ZXN0KG4pKSB7IGZvciAodmFyIGkgPSBuLnNwbGl0KGMpLCBhID0gMCwgcyA9IGkubGVuZ3RoOyBhIDwgczsgYSsrKWVbdF0uYXBwbHkoZSwgW2lbYV1dLmNvbmNhdChyKSk7IHJldHVybiAhMSB9IHJldHVybiAhMCB9LCBmID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBlKCkgeyAoMCwgci5fKSh0aGlzLCBlKSwgKDAsIGkuXykodGhpcywgIl9ldmVudHMiLCB2b2lkIDApIH0gcmV0dXJuICgwLCB1Ll8pKGUsIFt7IGtleTogIm9uIiwgdmFsdWU6IGZ1bmN0aW9uIChlLCB0LCBuKSB7IGlmICghbCh0aGlzLCAib24iLCBlLCBbdCwgbl0pIHx8ICF0KSByZXR1cm4gdGhpczsgdmFyIHIgPSB0aGlzLl9ldmVudHMgfHwgKHRoaXMuX2V2ZW50cyA9IHt9KTsgcmV0dXJuIChyW2VdIHx8IChyW2VdID0gW10pKS5wdXNoKHsgY2FsbGJhY2s6IHQsIGNvbnRleHQ6IG4gfSksIHRoaXMgfSB9LCB7IGtleTogIm9uY2UiLCB2YWx1ZTogZnVuY3Rpb24gKGUsIHQsIG4pIHsgaWYgKCFsKHRoaXMsICJvbmNlIiwgZSwgW3QsIG5dKSB8fCAhdCkgcmV0dXJuIHRoaXM7IHZhciByID0gMCwgdSA9IHRoaXMsIGkgPSBmdW5jdGlvbiAoKSB7IHIrKyB8fCAodS5vZmYoZSwgaSksIHQuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgfTsgcmV0dXJuIGkuX2NhbGxiYWNrID0gdCwgdGhpcy5vbihlLCBpLCBuKSB9IH0sIHsga2V5OiAib2ZmIiwgdmFsdWU6IGZ1bmN0aW9uIChlLCB0LCBuKSB7IGlmICghdGhpcy5fZXZlbnRzIHx8ICFsKHRoaXMsICJvZmYiLCBlLCBbdCwgbl0pKSByZXR1cm4gdGhpczsgaWYgKCFlICYmICF0ICYmICFuKSByZXR1cm4gZGVsZXRlIHRoaXMuX2V2ZW50cywgdGhpczsgZm9yICh2YXIgciA9IGUgPyBbZV0gOiBPYmplY3Qua2V5cyh0aGlzLl9ldmVudHMpLCB1ID0gMCwgaSA9IHIubGVuZ3RoOyB1IDwgaTsgdSsrKSB7IGUgPSByW3VdOyB2YXIgbyA9IHRoaXMuX2V2ZW50c1tlXTsgaWYgKG8pIHsgdmFyIGEgPSB0aGlzLl9ldmVudHNbZV0gPSBbXTsgaWYgKHQgfHwgbikgZm9yICh2YXIgcyA9IDAsIGMgPSBvLmxlbmd0aDsgcyA8IGM7IHMrKykgeyB2YXIgZiA9IG9bc107ICh0ICYmIHQgIT09IGYuY2FsbGJhY2sgJiYgdCAhPT0gZi5jYWxsYmFjay5fY2FsbGJhY2sgfHwgbiAmJiBuICE9PSBmLmNvbnRleHQpICYmIGEucHVzaChmKSB9IGEubGVuZ3RoIHx8IGRlbGV0ZSB0aGlzLl9ldmVudHNbZV0gfSB9IHJldHVybiB0aGlzIH0gfSwgeyBrZXk6ICJ0cmlnZ2VyIiwgdmFsdWU6IGZ1bmN0aW9uIChlKSB7IGZvciAodmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoLCBuID0gQXJyYXkodCA+IDEgPyB0IC0gMSA6IDApLCByID0gMTsgciA8IHQ7IHIrKyluW3IgLSAxXSA9IGFyZ3VtZW50c1tyXTsgaWYgKCF0aGlzLl9ldmVudHMgfHwgIWwodGhpcywgInRyaWdnZXIiLCBlLCBuKSkgcmV0dXJuIHRoaXM7IHZhciB1ID0gdGhpcy5fZXZlbnRzW2VdLCBpID0gdGhpcy5fZXZlbnRzLmFsbDsgcmV0dXJuIHUgJiYgcyh1LCBuLCB0aGlzKSwgaSAmJiBzKGksIGFyZ3VtZW50cywgdGhpcyksIHRoaXMgfSB9LCB7IGtleTogInRyaWdnZXJTYWZlIiwgdmFsdWU6IGZ1bmN0aW9uIChlKSB7IGZvciAodmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoLCBuID0gQXJyYXkodCA+IDEgPyB0IC0gMSA6IDApLCByID0gMTsgciA8IHQ7IHIrKyluW3IgLSAxXSA9IGFyZ3VtZW50c1tyXTsgaWYgKCF0aGlzLl9ldmVudHMgfHwgIWwodGhpcywgInRyaWdnZXIiLCBlLCBuKSkgcmV0dXJuIHRoaXM7IHZhciB1ID0gdGhpcy5fZXZlbnRzW2VdLCBpID0gdGhpcy5fZXZlbnRzLmFsbDsgcmV0dXJuIHUgJiYgcyh1LCBuLCB0aGlzLCBlKSwgaSAmJiBzKGksIGFyZ3VtZW50cywgdGhpcywgZSksIHRoaXMgfSB9XSksIGUgfSgpOyAoMCwgaS5fKShmLCAib24iLCB2b2lkIDApLCAoMCwgaS5fKShmLCAib25jZSIsIHZvaWQgMCksICgwLCBpLl8pKGYsICJvZmYiLCB2b2lkIDApLCAoMCwgaS5fKShmLCAidHJpZ2dlciIsIHZvaWQgMCk7IHZhciBkID0gZi5wcm90b3R5cGUub24sIGggPSBmLnByb3RvdHlwZS5vbmNlLCBwID0gZi5wcm90b3R5cGUub2ZmLCBEID0gZi5wcm90b3R5cGUudHJpZ2dlciwgdiA9IGYucHJvdG90eXBlLnRyaWdnZXJTYWZlOyBmLm9uID0gZCwgZi5vbmNlID0gaCwgZi5vZmYgPSBwLCBmLnRyaWdnZXIgPSBEIH0sIDQ5MTYoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IGw6ICgpID0+IHIgfSk7IHZhciByID0gd2luZG93LmF0b2I7IHdpbmRvdy5idG9hIH0sIDI2NjkoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7ICR3OiAoKSA9PiBFLCBGcjogKCkgPT4gQSwgSDg6ICgpID0+IHAsIEw0OiAoKSA9PiBmLCBOMTogKCkgPT4gbywgUDY6ICgpID0+IHksIFQzOiAoKSA9PiBzLCBVUDogKCkgPT4gbCwgVlM6ICgpID0+IGksIFpOOiAoKSA9PiBkLCBiaDogKCkgPT4gYSwgZDQ6ICgpID0+IEYsIGp2OiAoKSA9PiBDLCBsVDogKCkgPT4gRCwgbTA6ICgpID0+IG0sIG5yOiAoKSA9PiB2LCByQjogKCkgPT4gYywgdSQ6ICgpID0+IGgsIHVuOiAoKSA9PiBnIH0pOyB2YXIgciA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBudWxsICE9PSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKGUpIH0sIHUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAiTWFjSW50ZWwiID09PSBuYXZpZ2F0b3IucGxhdGZvcm0gJiYgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMSB9LCBpID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcigvZmlyZWZveFwvL2kpIH0sIG8gPSBmdW5jdGlvbiAoKSB7IHJldHVybiByKC9pUChob25lfG9kKS9pKSB9LCBhID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcigvaVBhZC9pKSB8fCB1KCkgfSwgcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHIoL01hY2ludG9zaC9pKSAmJiAhdSgpIH0sIGMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiByKC9GQkFWL2kpIH0sIGwgPSBmdW5jdGlvbiAoKSB7IHJldHVybiByKC9cc0VkZ2U/XC9cZCsvaSkgfSwgZiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHIoL21zaWUvaSkgfSwgZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHIoL1NNQVJULVRWLykgfSwgaCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGQoKSAmJiAhcigvU2Ftc3VuZ0Jyb3dzZXIvKSB9LCBwID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcigvXHMoPzooPzpIZWFkbGVzcyk/Q2hyb21lfENyaU9TKVwvL2kpICYmICFsKCkgJiYgIXIoL1VDQnJvd3Nlci9pKSB9LCBEID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gIXIoL1xzRWRnXC9cZCsvaSkgJiYgKGwoKSB8fCByKC90cmlkZW50XC8uK3J2OlxzKjExL2kpIHx8IGYoKSkgfSwgdiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHIoL3NhZmFyaS9pKSAmJiAhcigvKD86Q2hyb21lfENyaU9TfGNocm9taXVtfGFuZHJvaWR8cGhhbnRvbSkvaSkgJiYgIWQoKSB9LCBnID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gcigvaVAoaG9uZXxhZHxvZCkvaSkgfHwgdSgpIH0sIG0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAiYm9vbGVhbiIgPT0gdHlwZW9mIG0ubW9ja18gPyBtLm1vY2tfIDogcigvQW5kcm9pZC9pKSAmJiAhcigvV2luZG93cyBQaG9uZS9pKSB9LCB5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKCFyKC9jaHJvbWVcL1sxMjM0NTY3ODldL2kpIHx8ICEhcigvY2hyb21lXC8xOC9pKSB8fCAhIWkoKSkgJiYgbSgpIH07IG0ubW9ja18gPSBudWxsOyB2YXIgQSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGcoKSB8fCBtKCkgfHwgcigvV2luZG93cyBQaG9uZS9pKSB9LCBGID0gZnVuY3Rpb24gKCkgeyBpZiAoImJvb2xlYW4iID09IHR5cGVvZiBGLm1vY2tfKSByZXR1cm4gRi5tb2NrXzsgdHJ5IHsgcmV0dXJuIHdpbmRvdy5zZWxmICE9PSB3aW5kb3cudG9wIH0gY2F0Y2ggKGUpIHsgcmV0dXJuICEwIH0gfTsgRi5tb2NrXyA9IG51bGw7IHZhciBDID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gITEgfSwgRSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDAgfSB9LCAxNDE3KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBYdTogKCkgPT4gcywgWmg6ICgpID0+IGYsIGZVOiAoKSA9PiBsLCBqdzogKCkgPT4gYyB9KTsgdmFyIHIgPSBuKDQ5MzMpLCB1ID0gbigyOTcyKSwgaSA9IG4oODI1MyksIG8gPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIDAgPT09IHQuaW5kZXhPZihlKSB9IH0sIGEgPSBmdW5jdGlvbiAoZSkgeyBmb3IgKHZhciB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbMV0gPyBhcmd1bWVudHNbMV0gOiAiZW4iLCBuID0gKDAsIHIuWjApKCksIHUgPSBPYmplY3Qua2V5cyhlLnRpdGxlKSwgaSA9IHVbMF07ICFlLnRpdGxlW25dOykgeyB2YXIgYSA9IHUuZmluZChvKG4pKTsgaWYgKGEpIHsgbiA9IGE7IGJyZWFrIH0gdmFyIHMgPSBuLmxhc3RJbmRleE9mKCItIik7IGlmIChzIDw9IDApIHsgbiA9IG51bGw7IGJyZWFrIH0gbiA9IG4uc2xpY2UoMCwgcykgfSByZXR1cm4gbiA/IG4gOiB1LmluZGV4T2YodCkgPj0gMCA/IHQgOiBpIH0sIHMgPSBmdW5jdGlvbiAoZSwgdCkgeyB2YXIgbiA9IFtdOyBpZiAoIWUgfHwgIWUudGltZXN0YW1wcyB8fCAhZS50aW1lc3RhbXBzLmxlbmd0aCkgcmV0dXJuIG47IHZhciByID0gZS50aW1lc3RhbXBzLnNvcnQoZnVuY3Rpb24gKGUsIHQpIHsgcmV0dXJuIGUuYmVnaW4gLSB0LmJlZ2luIH0pOyByZXR1cm4gci5mb3JFYWNoKGZ1bmN0aW9uICh1LCBpKSB7IHZhciBvID0gYSh1LCBlLmRlZmF1bHRMYW5ndWFnZSksIHMgPSB1LnRpdGxlW29dLCBjID0gdS50aW1lLCBsID0gdS5pbWFnZSwgZiA9IHQ7IGkgKyAxIDwgci5sZW5ndGggJiYgKGYgPSByW2kgKyAxXS50aW1lKTsgdmFyIGQgPSB7IGJlZ2luOiBjLCBlbmQ6IGYsIHRleHQ6IHMsIGN1ZVR5cGU6ICJjaGFwdGVycyIgfTsgbCAmJiAoZC5pbWFnZSA9IGwpLCBuLnB1c2goZCkgfSksIG4gfSwgYyA9IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuID0gKDAsIHIuWjApKCksIGkgPSBlLnJlZHVjZShmdW5jdGlvbiAoZSwgdCkgeyBpZiAoIXQgfHwgIXQuY3VlVHlwZSB8fCAiY2hhcHRlcnMiID09PSB0LmN1ZVR5cGUpIHsgdmFyIHIgPSBuZXcgdS5HKHsgdGltZTogdC5iZWdpbiwgaW1hZ2U6IHQuaW1hZ2UgfSk7IHIuYWRkVGl0bGUobiwgdC50ZXh0KSwgZS5wdXNoKHIpIH0gcmV0dXJuIGUgfSwgW10pOyByZXR1cm4gdCA/ICh0LnRpbWVzdGFtcHMgPSBpLCB0KSA6IG5ldyB1LkoobiwgaSkgfSwgbCA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmICgibnVtYmVyIiAhPSB0eXBlb2YgZSB8fCBlIDwgMCB8fCAhdCB8fCAhdC5sZW5ndGgpIHJldHVybiBudWxsOyBmb3IgKHZhciBuID0gbnVsbCwgciA9IDA7IHIgPCB0Lmxlbmd0aDsgcisrKSB7IHZhciB1ID0gdFtyXTsgdS50aW1lID4gZSB8fCAoIW4gfHwgdS50aW1lID4gbi50aW1lKSAmJiAobiA9IHUpIH0gcmV0dXJuIG4gfSwgZiA9IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuID0gITA7IHJldHVybiBlLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgaWYgKGUpIHsgaWYgKCFlLmRlZmF1bHRMYW5ndWFnZSB8fCAhZS50aW1lc3RhbXBzKSB7IG4gPSAhMTsgcmV0dXJuIH0gZS50aW1lc3RhbXBzLnNvbWUoZnVuY3Rpb24gKGUpIHsgcmV0dXJuICFlLnRpdGxlIHx8IG51bGwgPT09IGUudGltZSB8fCB2b2lkIDAgPT09IGUudGltZSB9KSAmJiAobiA9ICExKSB9IH0pLCB0KG4gPyBudWxsIDogKDAsIGkuRUQpKEVycm9yKCksIGkubUgpKSB9IH0sIDczMTYoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IEFIOiAoKSA9PiBsLCBpRjogKCkgPT4gYywgbDY6ICgpID0+IGcsIHBjOiAoKSA9PiBhLCBwZDogKCkgPT4gZiB9KTsgdmFyIHIgPSBuKDE2NDIpLCB1ID0gbigxNjU5KSwgaSA9IG4oNDkyKSwgbyA9IG4ubihpKSwgYSA9IG8oKS5jbGVhciwgcyA9IGZ1bmN0aW9uIChlKSB7IGUgPSBlLnNwbGl0KCItIik7IGZvciAodmFyIHQgPSAxOyB0IDwgZS5sZW5ndGg7IHQrKyllW3RdID0gZVt0XS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGVbdF0uc2xpY2UoMSk7IHJldHVybiBlLmpvaW4oIiIpIH0sIGMgPSBmdW5jdGlvbiAoZSwgdCkgeyBpZiAobnVsbCAhPSBlKSB7IHZvaWQgMCA9PT0gZS5sZW5ndGggJiYgKGUgPSBbZV0pOyB2YXIgbiwgciwgaSwgbyA9IHt9OyBmb3IgKGkgaW4gdCkgeyBPYmplY3QuaGFzT3duKHQsIGkpICYmIChvW2ldID0gKG4gPSBpLCAiIiA9PT0gKHIgPSB0W2ldKSB8fCBudWxsID09IHIgPyAiIiA6ICJzdHJpbmciID09IHR5cGVvZiByICYmIGlzTmFOKHIpID8gL3BuZ3xnaWZ8anBlP2cvaS50ZXN0KHIpICYmIDAgPiByLmluZGV4T2YoInVybCIpID8gInVybCgiLmNvbmNhdChyLCAiKSIpIDogciA6IDAgPT09IHIgfHwgInotaW5kZXgiID09PSBuIHx8ICJvcGFjaXR5IiA9PT0gbiA/ICIiLmNvbmNhdChyKSA6IC9jb2xvci9pLnRlc3QobikgPyAiIyIuY29uY2F0KCgwLCB1LmVWKShyLnRvU3RyaW5nKDE2KS5yZXBsYWNlKC9eMHgvaSwgIiIpLCA2KSkgOiAiIi5jb25jYXQoTWF0aC5jZWlsKHIpLCAicHgiKSkpIH0gZm9yICh2YXIgYSA9IDA7IGEgPCBlLmxlbmd0aDsgYSsrKSB7IHZhciBjID0gZVthXSwgbCA9IHZvaWQgMDsgaWYgKG51bGwgIT0gYykgZm9yIChpIGluIG8pIE9iamVjdC5oYXNPd24obywgaSkgJiYgKGwgPSBzKGkpLCBjLnN0eWxlW2xdICE9PSBvW2ldICYmIChjLnN0eWxlW2xdID0gb1tpXSkpIH0gfSB9LCBsID0gZnVuY3Rpb24gKGUsIHQsIG4sIHUpIHsgbiA9IG4gfHwgImFsbC1wbGF5ZXJzIjsgdmFyIGkgPSAiIjsgaWYgKCh2b2lkIDAgPT09IHQgPyAidW5kZWZpbmVkIiA6ICgwLCByLl8pKHQpKSA9PT0gIm9iamVjdCIpIHsgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsgYyhhLCB0KTsgdmFyIHMgPSBhLnN0eWxlLmNzc1RleHQ7IE9iamVjdC5oYXNPd24odCwgImNvbnRlbnQiKSAmJiBzICYmIChzID0gIiIuY29uY2F0KHMsICcgY29udGVudDogIicpLmNvbmNhdCh0LmNvbnRlbnQsICciOycpKSwgdSAmJiBzICYmIChzID0gcy5yZXBsYWNlKC87L2csICIgIWltcG9ydGFudDsiKSksIGkgPSAieyIuY29uY2F0KHMsICJ9IikgfSBlbHNlICJzdHJpbmciID09IHR5cGVvZiB0ICYmIChpID0gdCk7ICIiID09PSBpIHx8ICJ7fSIgPT09IGkgPyBvKCkuY2xlYXIobiwgZSkgOiBvKCkuc3R5bGUoW1tlLCBlICsgaV1dLCBuKSB9LCBmID0gZnVuY3Rpb24gKGUsIHQpIHsgYyhlLCB7IHRyYW5zZm9ybTogdCB9KSB9LCBkID0geyBBOiB7IEw6ICJGMEY4RkYiLCBOOiAiRkFFQkQ3IiwgUTogeyAkOiAyLCBfOiAiMDBGRkZGIiwgTTogIjdGRkZENCIgfSwgWjogIkYwRkZGRiIgfSwgQjogeyBFOiAiRjVGNURDIiwgSTogIkZGRTRDNCIsIEw6IHsgQTogeyBDOiAiMDAwMDAwIiwgTjogIkZGRUJDRCIgfSwgVTogeyAkOiAxLCBfOiAiMDAwMEZGIiwgVjogIjhBMkJFMiIgfSB9LCBSOiAiQTUyQTJBIiwgVTogIkRFQjg4NyIgfSwgQzogeyBBOiAiNUY5RUEwIiwgSDogeyBBOiAiN0ZGRjAwIiwgTzogIkQyNjkxRSIgfSwgTzogeyAkOiAxLCBBOiAiRkY3RjUwIiwgTjogeyBGOiAiNjQ5NUVEIiwgUzogIkZGRjhEQyIgfSB9LCBSOiAiREMxNDNDIiwgWTogIjAwRkZGRiIgfSwgRDogeyBBOiB7ICQ6IDIsIEI6ICIwMDAwOEIiLCBDOiAiMDA4QjhCIiwgRzogeyBPOiAiQjg4NjBCIiwgUjogeyBBOiAiQTlBOUE5IiwgRTogIjAwNjQwMCIgfSB9LCBLOiAiQkRCNzZCIiwgTTogIjhCMDA4QiIsIE86IHsgTDogIjU1NkIyRiIsIFI6IHsgQTogIkZGOEMwMCIsIEM6ICI5OTMyQ0MiIH0gfSwgUjogIjhCMDAwMCIsIFM6IHsgQTogIkU5OTY3QSIsIEU6ICI4RkJDOEIiLCBMOiB7ICQ6IDMsIEI6ICI0ODNEOEIiLCBHOiAiMkY0RjRGIiB9IH0sIFQ6ICIwMENFRDEiLCBWOiAiOTQwMEQzIiB9LCBFOiB7ICQ6IDIsIFA6ICJGRjE0OTMiLCBTOiAiMDBCRkZGIiB9LCBJOiAiNjk2OTY5IiwgTzogIjFFOTBGRiIgfSwgRjogeyBJOiAiQjIyMjIyIiwgTDogIkZERjVFNiIsIE86ICIyMjhCMjIiLCBVOiAiRkYwMEZGIiB9LCBHOiB7IEE6ICJEQ0RDREMiLCBIOiAiRjhGOEZGIiwgTzogeyAkOiAyLCBfOiAiRkZENzAwIiwgRTogIkRBQTUyMCIgfSwgUjogeyBBOiAiODA4MDgwIiwgRTogeyAkOiAyLCBfOiAiMDA4MDAwIiwgWTogIkFERkYyRiIgfSB9IH0sIEg6IHsgJDogMSwgTjogIkYwRkZGMCIsIFQ6ICJGRjY5QjQiIH0sIEk6IHsgTjogeyAkOiAyLCBBOiAiQ0Q1QzVDIiwgRzogIjRCMDA4MiIgfSwgVjogIkZGRkZGMCIgfSwgSzogIkYwRTY4QyIsIEw6IHsgQTogeyBWOiB7ICQ6IDUsIF86ICJFNkU2RkEiLCBCOiAiRkZGMEY1IiB9LCBXOiAiN0NGQzAwIiB9LCBFOiAiRkZGQUNEIiwgSTogeyBHOiB7ICQ6IDIsIEI6ICJBREQ4RTYiLCBDOiB7IE86ICJGMDgwODAiLCBZOiAiRTBGRkZGIiB9LCBHOiB7IE86ICJGQUZBRDIiLCBSOiB7IEE6ICJEM0QzRDMiLCBFOiAiOTBFRTkwIiB9IH0sIFA6ICJGRkI2QzEiLCBTOiB7IEE6ICJGRkEwN0EiLCBFOiAiMjBCMkFBIiwgSzogIjg3Q0VGQSIsIEw6ICI3Nzg4OTkiLCBUOiAiQjBDNERFIiB9LCBZOiAiRkZGRkUwIiB9LCBNOiB7ICQ6IDEsIF86ICIwMEZGMDAiLCBHOiAiMzJDRDMyIiB9LCBOOiAiRkFGMEU2IiB9IH0sIE06IHsgQTogeyBHOiAiRkYwMEZGIiwgUjogIjgwMDAwMCIgfSwgRTogeyAkOiA0LCBBOiAiNjZDREFBIiwgQjogIjAwMDBDRCIsIE86ICJCQTU1RDMiLCBQOiAiOTM3MERCIiwgUzogeyBFOiAiM0NCMzcxIiwgTDogIjdCNjhFRSIsIFA6ICIwMEZBOUEiIH0sIFQ6ICI0OEQxQ0MiLCBWOiAiQzcxNTg1IiB9LCBJOiB7IEQ6ICIxOTE5NzAiLCBOOiAiRjVGRkZBIiwgUzogIkZGRTRFMSIgfSwgTzogIkZGRTRCNSIgfSwgTjogeyAkOiAyLCBBOiAiRkZERUFEIiwgWTogIjAwMDA4QiIgfSwgTzogeyBMOiB7IEQ6ICJGREY1RTYiLCBJOiB7ICQ6IDIsIF86ICI4MDgwMDAiLCBEOiAiNkI4RTIzIiB9IH0sIFI6IHsgQTogeyAkOiAzLCBfOiAiRkZBNTAwIiwgUjogIkZGNDUwMCIgfSwgQzogIkRBNzBENiIgfSB9LCBQOiB7IEE6IHsgTDogeyAkOiAxLCBHOiB7IE86ICJFRUU4QUEiLCBSOiAiOThGQjk4IiB9LCBUOiAiQUZFRUVFIiwgVjogIkRCNzA5MyIgfSwgUDogIkZGRUZENSIgfSwgRTogeyBBOiAiRkZEQUI5IiwgUjogIkNEODUzRiIgfSwgSTogIkZGQzBDQiIsIEw6ICJEREEwREQiLCBPOiAiQjBFMEU2IiwgVTogIjgwMDA4MCIgfSwgUjogeyBFOiB7IEI6ICI2NjMzOTkiLCBEOiAiRkYwMDAwIiB9LCBPOiB7IFM6ICJCQzhGOEYiLCBZOiAiNDE2OUUxIiB9IH0sIFM6IHsgQTogeyBEOiAiOEI0NTEzIiwgTDogIkZBODA3MiIsIE46ICJGNEE0NjAiIH0sIEU6IHsgJDogMSwgRzogIjJFOEI1NyIsIFM6ICJGRkY1RUUiIH0sIEk6IHsgRTogIkEwNTIyRCIsIEw6ICJDMEMwQzAiIH0sIEs6ICI4N0NFRUIiLCBMOiB7ICQ6IDMsIEI6ICI2QTVBQ0QiLCBHOiAiNzA4MDkwIiB9LCBOOiAiRkZGQUZBIiwgUDogIjAwRkY3RiIsIFQ6ICI0NjgyQjQiIH0sIFQ6IHsgQTogIkQyQjQ4QyIsIEU6ICIwMDgwODAiLCBIOiAiRDhCRkQ4IiwgTzogIkZGNjM0NyIsIFU6ICI0MEUwRDAiIH0sIFY6ICJFRTgyRUUiLCBXOiB7ICQ6IDEsIEU6ICJGNURFQjMiLCBJOiB7ICQ6IDIsIF86ICJGRkZGRkYiLCBTOiAiRjVGNUY1IiB9IH0sIFk6IHsgJDogNSwgXzogIkZGRkYwMCIsIEc6ICI5QUNEMzIiIH0gfSwgaCA9IGZ1bmN0aW9uIChlKSB7IGZvciAodmFyIHQgPSAwLCBuID0gZDsgbiAmJiB0IDwgZS5sZW5ndGggJiYgKG4gPSBuW2VbdF1dLCB0KyssIG4pOykgeyBpZiAoInN0cmluZyIgPT0gdHlwZW9mIG4pIHJldHVybiBuOyBpZiAobi4kICYmICh0ICs9IG4uJCksIHQgPT09IGUubGVuZ3RoICYmIG4uXykgcmV0dXJuIG4uXyB9IHJldHVybiBudWxsIH0sIHAgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gcGFyc2VJbnQoZSwgMTYpIH0sIEQgPSBmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gIiIuY29uY2F0KGUsICIoIikuY29uY2F0KHRbMF0sICIsICIpLmNvbmNhdCh0WzFdLCAiLCAiKS5jb25jYXQodFsyXSwgIiwgIikuY29uY2F0KHRbM10sICIpIikgfSwgdiA9IFt7IG5hbWU6ICJleHRlbmRlZCBoYXNoLWhleCIsIHRlc3Q6IC9eIz9bMC05YS1mXXs4fSQvaSwgZXh0cmFjdDogL14jPyhbMC05YS1mXXsyfSkoWzAtOWEtZl17Mn0pKFswLTlhLWZdezJ9KShbMC05YS1mXXsyfSkvaSwgbWFwOiBwLCBhbHBoYTogITAgfSwgeyBuYW1lOiAic3RhbmRhcmQgaGFzaC1oZXgiLCB0ZXN0OiAvXiM/WzAtOWEtZl17Nn0kL2ksIGV4dHJhY3Q6IC9eIz8oWzAtOWEtZl17Mn0pKFswLTlhLWZdezJ9KShbMC05YS1mXXsyfSkvaSwgbWFwOiBwIH0sIHsgbmFtZTogInNob3J0IGhhc2gtaGV4IiwgdGVzdDogL14jP1swLTlhLWZdezN9JC9pLCBleHRyYWN0OiAvXiM/KFswLTlhLWZdKShbMC05YS1mXSkoWzAtOWEtZl0pL2ksIG1hcDogZnVuY3Rpb24gKGUpIHsgcmV0dXJuIDE3ICogcGFyc2VJbnQoZSwgMTYpIH0gfV0sIGcgPSBmdW5jdGlvbiAoZSwgdCkgeyB2YXIgbiwgciA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzJdICYmIGFyZ3VtZW50c1syXTsgZSA9ICJzdHJpbmciID09IHR5cGVvZiBlID8gZS50cmltKCkgOiAiIzAwMDAwMCI7IHZhciB1ID0gInJnYmEiLCBpID0gWyIwIiwgIjAiLCAiMCIsICIxIl0sIG8gPSAodCA9ICJudW1iZXIiID09IHR5cGVvZiB0ID8gdCA6IDEwMCkgLyAxMDA7IGlmICgvXlx3K1woL2kudGVzdChlKSkgcmV0dXJuIHUgPSAvXihcdyspXCgvaS5leGVjKGUpWzFdLCBpID0gL15cdytcKChbXiksXSspLFxzKihbXiwpXSspLFxzKihbXiwpXSspLD9ccyooW14pLF0qKVwpL2kuZXhlYyhlKS5zbGljZSgxKSwgMyA9PT0gdS5sZW5ndGggJiYgKHUgKz0gImEiKSwgciAmJiBpWzNdLmxlbmd0aCA/IGlbM10gKj0gbyA6IGlbM10gPSBvLCBEKHUsIGkpOyBlID0gbnVsbCAhPSAobiA9IGgoZSA9IGUudG9VcHBlckNhc2UoKS5yZXBsYWNlKCJHUkVZIiwgIkdSQVkiKSkpID8gbiA6IGU7IGZvciAodmFyIGEgPSAwOyBhIDwgdi5sZW5ndGg7IGErKykgeyB2YXIgcyA9IHZbYV07IGlmIChzLnRlc3QudGVzdChlKSkgeyBpID0gcy5leHRyYWN0LmV4ZWMoZSkuc2xpY2UoMSkubWFwKHMubWFwKSwgciAmJiBzLmFscGhhID8gaVszXSA9IGlbM10gLyAyNTUgKiBvIDogaVszXSA9IG87IGJyZWFrIH0gfSByZXR1cm4gRCh1LCBpKSB9IH0sIDMyOTcoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IHQ6ICgpID0+IHIgfSk7IHZhciByID0gRGF0ZS5ub3cgfHwgZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCkgfSB9LCA1MjkxKGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBCcTogKCkgPT4gdywgQ1M6ICgpID0+IEIsIENtOiAoKSA9PiB4LCBGZTogKCkgPT4gUywgSWU6ICgpID0+IGssIE1ZOiAoKSA9PiBjLCBPOiAoKSA9PiBfLCBRVDogKCkgPT4gdiwgUWI6ICgpID0+IEksIFRpOiAoKSA9PiBqLCBWdjogKCkgPT4gZiwgXzM6ICgpID0+IFAsIF9EOiAoKSA9PiBnLCBlRjogKCkgPT4gTywgaTM6ICgpID0+IHAsIGlROiAoKSA9PiBGLCBuOiAoKSA9PiBoLCBuQjogKCkgPT4gYSwgbl86ICgpID0+IGQsIHAxOiAoKSA9PiBiLCBwUDogKCkgPT4gQSwgckw6ICgpID0+IEUsIHZ5OiAoKSA9PiBDIH0pOyB2YXIgciA9IG4oMTY1OSksIHUgPSBuKDk1NTUpLCBpID0gbig5MDU1KSwgbyA9IG4oMjE5NCksIGEgPSBmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gZS5jbGFzc0xpc3QuY29udGFpbnModCkgfSwgcyA9IGZ1bmN0aW9uIChlKSB7IHZhciB0LCBuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7IHJldHVybiBuLmlubmVySFRNTCA9IG51bGwgPT0gZSB8fCBudWxsID09ICh0ID0gZS50cmltKSA/IHZvaWQgMCA6IHQuY2FsbChlKSwgbiB9LCBjID0gZnVuY3Rpb24gKGUpIHsgZm9yICh2YXIgdCA9IGUucXVlcnlTZWxlY3RvckFsbCgic2NyaXB0LG9iamVjdCxpZnJhbWUsbWV0YSIpLCBuID0gdC5sZW5ndGg7IG4tLTspIHsgdmFyIHIgPSB0W25dOyByLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocikgfSByZXR1cm4gZSB9LCBsID0gL14oKCgoaHR0cHM/KTpcL1wvKXwobWFpbHRvOikpKCVbMC05QS1GYS1mXXsyfXxbLSgpXy4hfionOy8/OkAmPSskLEEtWmEtejAtOV0pKykoWykuISc7Lz86LF1bWzpibGFuazp8OmJsYW5rOl1dKT8kLywgZiA9IGZ1bmN0aW9uIChlKSB7IGZvciAodmFyIHQgPSBlLmF0dHJpYnV0ZXMsIG4gPSB0Lmxlbmd0aDsgbi0tOykgeyB2YXIgciA9IHRbbl0ubmFtZSwgdSA9IHRbbl0udmFsdWU7IC9eXHMqKGphdmFzY3JpcHQoOnwmY29sb247KSkvLnRlc3QodSkgJiYgKGUucmVtb3ZlQXR0cmlidXRlKHIpLCBvLkEubG9nZ2VyLndhcm4oImp3cGxheWVyL3V0aWxzL2RvbTogSW52YWxpZCBvciB1bnNhZmUgVVJMIikpLCAvXm9uLy50ZXN0KHIpICYmIGUucmVtb3ZlQXR0cmlidXRlKHIpIH0gcmV0dXJuIGUgfSwgZCA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gcyhlKTsgYyh0KTsgZm9yICh2YXIgbiA9IHQucXVlcnlTZWxlY3RvckFsbCgiKiIpLCByID0gbi5sZW5ndGg7IHItLTspZihuW3JdKTsgcmV0dXJuIHQgfSwgaCA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBkKGUpLmZpcnN0Q2hpbGQgfSwgcCA9IGZ1bmN0aW9uIChlKSB7IGZvciAoOyBlLmZpcnN0Q2hpbGQ7KWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKSB9LCBEID0gZnVuY3Rpb24gKGUsIHQpIHsgaWYgKHQpIGZvciAodmFyIG4gPSBkKHQpLmNoaWxkTm9kZXMsIHIgPSAwOyByIDwgbi5sZW5ndGg7IHIrKyllLmFwcGVuZENoaWxkKG5bcl0uY2xvbmVOb2RlKCEwKSkgfSwgdiA9IGZ1bmN0aW9uIChlLCB0KSB7IHAoZSksIEQoZSwgdCkgfSwgZyA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBlICsgKGUudG9TdHJpbmcoKS5pbmRleE9mKCIlIikgPiAwID8gIiIgOiAicHgiKSB9LCBtID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuICgwLCB1LktnKShlLmNsYXNzTmFtZSkgPyBlLmNsYXNzTmFtZS5zcGxpdCgiICIpIDogW10gfSwgeSA9IGZ1bmN0aW9uIChlLCB0KSB7IHQgPSAoMCwgci5CcSkodCksIGUuY2xhc3NOYW1lICE9PSB0ICYmIChlLmNsYXNzTmFtZSA9IHQpIH0sIEEgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5jbGFzc0xpc3QgPyBlLmNsYXNzTGlzdCA6IG0oZSkgfSwgRiA9IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuID0gbShlKTsgKEFycmF5LmlzQXJyYXkodCkgPyB0IDogdC5zcGxpdCgiICIpKS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7ICgwLCB1LmdSKShuLCBlKSB8fCBuLnB1c2goZSkgfSksIHkoZSwgbi5qb2luKCIgIikpIH0sIEMgPSBmdW5jdGlvbiAoZSwgdCkgeyB2YXIgbiA9IG0oZSksIHIgPSBBcnJheS5pc0FycmF5KHQpID8gdCA6IHQuc3BsaXQoIiAiKTsgeShlLCAoMCwgdS5pdikobiwgcikuam9pbigiICIpKSB9LCBFID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsgdmFyIHIgPSBlLmNsYXNzTmFtZSB8fCAiIjsgdC50ZXN0KHIpID8gciA9IHIucmVwbGFjZSh0LCBuKSA6IG4gJiYgKHIgKz0gIiAiLmNvbmNhdChuKSksIHkoZSwgcikgfSwgYiA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHZhciByID0gYShlLCB0KTsgKG4gPSAoMCwgdS5MbSkobikgPyBuIDogIXIpICE9PSByICYmIChuID8gRihlLCB0KSA6IEMoZSwgdCkpIH0sIHcgPSBmdW5jdGlvbiAoZSwgdCwgbikgeyBlLnNldEF0dHJpYnV0ZSh0LCBuKSB9LCBCID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaW5rIik7IHQucmVsID0gInN0eWxlc2hlZXQiLCB0LmhyZWYgPSBlLCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKHQpIH0sIGsgPSBmdW5jdGlvbiAoZSkgeyBlICYmIHAoZSkgfSwgXyA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0geyBsZWZ0OiAwLCByaWdodDogMCwgd2lkdGg6IDAsIGhlaWdodDogMCwgdG9wOiAwLCBib3R0b206IDAgfTsgaWYgKCFlIHx8ICFkb2N1bWVudC5ib2R5LmNvbnRhaW5zKGUpKSByZXR1cm4gdDsgdmFyIG4gPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCByID0gd2luZG93LnBhZ2VZT2Zmc2V0LCB1ID0gd2luZG93LnBhZ2VYT2Zmc2V0OyByZXR1cm4gKG4ud2lkdGggfHwgbi5oZWlnaHQgfHwgbi5sZWZ0IHx8IG4udG9wKSAmJiAodC5sZWZ0ID0gbi5sZWZ0ICsgdSwgdC5yaWdodCA9IG4ucmlnaHQgKyB1LCB0LnRvcCA9IG4udG9wICsgciwgdC5ib3R0b20gPSBuLmJvdHRvbSArIHIsIHQud2lkdGggPSBuLnJpZ2h0IC0gbi5sZWZ0LCB0LmhlaWdodCA9IG4uYm90dG9tIC0gbi50b3ApLCB0IH0sIGogPSBmdW5jdGlvbiAoZSwgdCkgeyBlLmluc2VydEJlZm9yZSh0LCBlLmZpcnN0Q2hpbGQpIH0sIFAgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5uZXh0RWxlbWVudFNpYmxpbmcgfSwgTyA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgfSwgUyA9IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbMl0gPyBhcmd1bWVudHNbMl0gOiB7fSwgciA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzNdID8gYXJndW1lbnRzWzNdIDogZG9jdW1lbnQ7IGlmIChsLnRlc3QoZSkpIHsgdmFyIHUgPSByLmNyZWF0ZUVsZW1lbnQoImEiKTsgdS5ocmVmID0gZSwgdS50YXJnZXQgPSB0LCB1ID0gZihPYmplY3QuYXNzaWduKHUsIG4pKSwgaS5Ccm93c2VyLmZpcmVmb3ggPyB1LmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoImNsaWNrIiwgeyBidWJibGVzOiAhMCwgY2FuY2VsYWJsZTogITAsIHZpZXc6IHdpbmRvdyB9KSkgOiB1LmNsaWNrKCkgfSB9LCB4ID0gZnVuY3Rpb24gKCkgeyB2YXIgZSA9IHdpbmRvdy5zY3JlZW4ub3JpZW50YXRpb247IHJldHVybiAhIWUgJiYgKCJsYW5kc2NhcGUtcHJpbWFyeSIgPT09IGUudHlwZSB8fCAibGFuZHNjYXBlLXNlY29uZGFyeSIgPT09IGUudHlwZSkgfHwgOTAgPT09IHdpbmRvdy5vcmllbnRhdGlvbiB8fCAtOTAgPT09IHdpbmRvdy5vcmllbnRhdGlvbiB9LCBUID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpOyByZXR1cm4gdC5pbm5lckhUTUwgPSBlLCB0LnZhbHVlIH0sIEkgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gVChlKS5yZXBsYWNlKC8mfDx8PnwifCcnL2dtLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gIiYjIi5jb25jYXQoZS5jaGFyQ29kZUF0KDApLCAiOyIpIH0pLnJlcGxhY2UoLyYjNjA7KFwvPykoYnxzdHJvbmd8aXxlbXxwfGJyfHVsfG9sfGxpfGguKSYjNjI7L2dtaSwgIjwkMSQyPiIpIH0gfSwgNTI5MyhlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgQTogKCkgPT4gZCB9KTsgdmFyIHIgPSAiZnJlZSIsIHUgPSAic3RhcnRlciIsIGkgPSAiYnVzaW5lc3MiLCBvID0gInByZW1pdW0iLCBhID0gImVudGVycHJpc2UiLCBzID0gImRldmVsb3BlciIsIGMgPSAicGxhdGludW0iLCBsID0gInVubGltaXRlZCIsIGYgPSAidHJpYWwiOyBmdW5jdGlvbiBkKGUpIHsgdmFyIHQgPSB7IHNldHVwOiBbciwgdSwgaSwgbywgYSwgcywgImFkcyIsIGwsIGYsIGNdLCBkcm06IFthLCBzLCAiYWRzIiwgbCwgZl0sIGFkczogWyJhZHMiLCBsLCBmLCBjLCBhLCBzLCBpXSwgandwc3J2OiBbciwgdSwgaSwgbywgYSwgcywgImFkcyIsIGYsIGMsICJpbnZhbGlkIl0sIGRpc2NvdmVyeTogWyJhZHMiLCBhLCBzLCBmLCBsXSB9OyByZXR1cm4gZnVuY3Rpb24gKG4pIHsgcmV0dXJuIHRbbl0gJiYgdFtuXS5pbmRleE9mKGUpID4gLTEgfSB9IH0sIDIxOTQoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IEE6ICgpID0+IHkgfSk7IHZhciByID0gbig1NDgzKSwgdSA9IG4oMjIzNSksIGkgPSBuKDQ3OTQpLCBvID0gbigxNjU5KSwgYSA9IG4oNzIwMyksIHMgPSBuKDkyMjApLCBjID0gZnVuY3Rpb24gKGUsIHQpIHsgdGhpcy5uYW1lID0gZSwgdGhpcy5tZXNzYWdlID0gdC5tZXNzYWdlIHx8IHQudG9TdHJpbmcoKSwgdGhpcy5lcnJvciA9IHQgfSwgbCA9IG4oOTU1NSksIGYgPSBuKDI2NjkpLCBkID0gbig1MjkxKSwgaCA9IG4oNzMxNiksIHAgPSBuKDQ5MyksIEQgPSBuKDM5MTUpLCB2ID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgY29uc29sZS5sb2cgPyBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpIDogZnVuY3Rpb24gKCkgeyB9LCBnID0gbig4NTYyKSwgbSA9IG5ldyAobig1NjM3KSkuQSgiaGVscGVycyIpOyBsZXQgeSA9IE9iamVjdC5hc3NpZ24oe30sIGksIHUsIHIsIHsgbG9nZ2VyOiBtLCBhZGRDbGFzczogZC5pUSwgaGFzQ2xhc3M6IGQubkIsIHJlbW92ZUNsYXNzOiBkLnZ5LCByZXBsYWNlQ2xhc3M6IGQuckwsIHRvZ2dsZUNsYXNzOiBkLnAxLCBjbGFzc0xpc3Q6IGQucFAsIHN0eWxlRGltZW5zaW9uOiBkLl9ELCBjcmVhdGVFbGVtZW50OiBkLm4sIGVtcHR5RWxlbWVudDogZC5pMywgYWRkU3R5bGVTaGVldDogZC5DUywgYm91bmRzOiBkLk8sIG9wZW5MaW5rOiBkLkZlLCByZXBsYWNlSW5uZXJIdG1sOiBkLlFULCBjc3M6IGguQUgsIGNsZWFyQ3NzOiBoLnBjLCBzdHlsZTogaC5pRiwgdHJhbnNmb3JtOiBoLnBkLCBnZXRSZ2JhOiBoLmw2LCBhamF4OiBwLlIsIGNyb3NzZG9tYWluOiBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IHdpbmRvdy5VUkw7IHRyeSB7IHZhciBuID0gbmV3IHQoZSwgbG9jYXRpb24ub3JpZ2luKTsgcmV0dXJuICIiLmNvbmNhdChsb2NhdGlvbi5wcm90b2NvbCwgIi8vIikuY29uY2F0KGxvY2F0aW9uLmhvc3QpICE9PSAiIi5jb25jYXQobi5wcm90b2NvbCwgIi8vIikuY29uY2F0KG4uaG9zdCkgfSBjYXRjaCAoZSkgeyBtLmRlYnVnKGUpIH0gcmV0dXJuICEwIH0sIHRyeUNhdGNoOiBmdW5jdGlvbiAoZSwgdCkgeyB2YXIgbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzJdID8gYXJndW1lbnRzWzJdIDogW107IGlmIChzLkEuZGVidWcpIHJldHVybiBlLmFwcGx5KHQgfHwgdGhpcywgbik7IHRyeSB7IHJldHVybiBlLmFwcGx5KHQgfHwgdGhpcywgbikgfSBjYXRjaCAodCkgeyByZXR1cm4gbmV3IGMoZS5uYW1lLCB0KSB9IH0sIEVycm9yOiBjLCBUaW1lcjogYS5BLCBsb2c6IHYsIGdlbklkOiBnLmEsIGJldHdlZW46IEQuVCwgZm9yZWFjaDogZnVuY3Rpb24gKGUsIHQpIHsgZm9yICh2YXIgbiBpbiBlKSBPYmplY3QuaGFzT3duKGUsIG4pICYmIHQobiwgZVtuXSkgfSwgZmxhc2hWZXJzaW9uOiBmLiR3LCBpc0lmcmFtZTogZi5kNCwgaW5kZXhPZjogbC5xaCwgdHJpbTogby5CcSwgcGFkOiBvLmVWLCBleHRlbnNpb246IG8uY2ssIGhtczogby5qWSwgc2Vjb25kczogby5ZQSwgcHJlZml4OiBvLlBsLCBzdWZmaXg6IG8uZWksIG5vb3A6IGZ1bmN0aW9uICgpIHsgfSB9KSB9LCAyMDc4KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBjOiAoKSA9PiByIH0pOyB2YXIgciA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiAhIShlID0gZSB8fCB3aW5kb3cuZXZlbnQpICYmICEhZSAmJiAvXig/Om1vdXNlfHBvaW50ZXJ8dG91Y2h8Z2VzdHVyZXxjbGlja3xrZXkpLy50ZXN0KGUudHlwZSkgfSB9LCA1NjM3KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBBOiAoKSA9PiBoIH0pOyB2YXIgciA9IG4oNDk0KSwgdSA9IG4oOTQwNyksIGkgPSBuKDQ2NyksIG8gPSBuKDQ3OCksIGEgPSBuKDE2NDIpLCBzID0gbigxMjE5KSwgYyA9IHsgZGVidWc6IDAsIGluZm86IDEwMCwgd2FybjogMjAwLCBlcnJvcjogNDAwIH0sIGwgPSBmdW5jdGlvbiAoZSkgeyBpZiAobnVsbCA9PT0gZSkgcmV0dXJuICJudWxsIjsgdmFyIHQgPSAiIjsgdHJ5IHsgdCArPSBzLnN0cmluZ2lmeShlLCBudWxsLCAiICAiKSB9IGNhdGNoIChlKSB7IHQgKz0gIntlcnJvciBzdHJpbmdpZnlpbmcgdmFsdWV9IiB9IHJldHVybiB0IH0sIGYgPSBmdW5jdGlvbiAoZSkgeyBzd2l0Y2ggKHZvaWQgMCA9PT0gZSA/ICJ1bmRlZmluZWQiIDogKDAsIGEuXykoZSkpIHsgY2FzZSAib2JqZWN0IjogcmV0dXJuIGwoZSk7IGNhc2UgInVuZGVmaW5lZCI6IHJldHVybiAidW5kZWZpbmVkIjsgZGVmYXVsdDogdmFyIHQsIG47IHJldHVybiBudWxsICE9ICh0ID0gbnVsbCA9PSAobiA9IGUudG9TdHJpbmcpID8gdm9pZCAwIDogbi5jYWxsKGUpKSA/IHQgOiAie2Vycm9yIHN0cmluZ2lmeWluZyB2YWx1ZX0iIH0gfSwgZCA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZSh0KSB7IHZhciBuID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbMV0gPyBhcmd1bWVudHNbMV0gOiBjOyAoMCwgci5fKSh0aGlzLCBlKSwgKDAsIGkuXykodGhpcywgIl9uYW1lc3BhY2UiLCB2b2lkIDApLCAoMCwgaS5fKSh0aGlzLCAiX2xldmVscyIsIHZvaWQgMCksIHRoaXMuX25hbWVzcGFjZSA9IHQsIHRoaXMuX2xldmVscyA9IG4gfSByZXR1cm4gKDAsIHUuXykoZSwgW3sga2V5OiAiY2hpbGQiLCB2YWx1ZTogZnVuY3Rpb24gKHQpIHsgcmV0dXJuIG5ldyBlKCIiLmNvbmNhdCh0aGlzLl9uYW1lc3BhY2UsICIvIikuY29uY2F0KHQpLCB0aGlzLl9sZXZlbHMpIH0gfSwgeyBrZXk6ICJfbG9nIiwgdmFsdWU6IGZ1bmN0aW9uICh0LCBuKSB7IGZvciAodmFyIHIsIHUgPSBhcmd1bWVudHMubGVuZ3RoLCBpID0gQXJyYXkodSA+IDIgPyB1IC0gMiA6IDApLCBhID0gMjsgYSA8IHU7IGErKylpW2EgLSAyXSA9IGFyZ3VtZW50c1thXTsgdHJ5IHsgdCA+PSBlLkxPR19MRVZFTCAmJiAociA9IGNvbnNvbGUpW25dLmFwcGx5KHIsIFsiWyIuY29uY2F0KHRoaXMuX25hbWVzcGFjZSwgIl06IildLmNvbmNhdCgoMCwgby5fKShpKSkpLCBlLkxPR19ISVNUT1JZLmxlbmd0aCA+PSBlLk1BWF9MT0dfSElTVE9SWSAmJiBlLkxPR19ISVNUT1JZLnNoaWZ0KCksIGUuTE9HX0hJU1RPUlkucHVzaChbbmV3IERhdGUsIG4udG9VcHBlckNhc2UoKSwgdGhpcy5fbmFtZXNwYWNlLCBpLm1hcChmKS5qb2luKCJcbiIpXSkgfSBjYXRjaCAoZSkgeyBjb25zb2xlLmVycm9yKGUpIH0gfSB9LCB7IGtleTogInRyYWNlIiwgdmFsdWU6IGZ1bmN0aW9uICgpIHsgZm9yICh2YXIgZSA9IGFyZ3VtZW50cy5sZW5ndGgsIHQgPSBBcnJheShlKSwgbiA9IDA7IG4gPCBlOyBuKyspdFtuXSA9IGFyZ3VtZW50c1tuXTsgdGhpcy5fbG9nLmFwcGx5KHRoaXMsIFt0aGlzLl9sZXZlbHMuZGVidWcsICJ0cmFjZSJdLmNvbmNhdCgoMCwgby5fKSh0KSkpIH0gfSwgeyBrZXk6ICJkZWJ1ZyIsIHZhbHVlOiBmdW5jdGlvbiAoKSB7IGZvciAodmFyIGUgPSBhcmd1bWVudHMubGVuZ3RoLCB0ID0gQXJyYXkoZSksIG4gPSAwOyBuIDwgZTsgbisrKXRbbl0gPSBhcmd1bWVudHNbbl07IHRoaXMuX2xvZy5hcHBseSh0aGlzLCBbdGhpcy5fbGV2ZWxzLmRlYnVnLCAiZGVidWciXS5jb25jYXQoKDAsIG8uXykodCkpKSB9IH0sIHsga2V5OiAibG9nIiwgdmFsdWU6IGZ1bmN0aW9uICgpIHsgZm9yICh2YXIgZSA9IGFyZ3VtZW50cy5sZW5ndGgsIHQgPSBBcnJheShlKSwgbiA9IDA7IG4gPCBlOyBuKyspdFtuXSA9IGFyZ3VtZW50c1tuXTsgdGhpcy5fbG9nLmFwcGx5KHRoaXMsIFt0aGlzLl9sZXZlbHMuaW5mbywgImxvZyJdLmNvbmNhdCgoMCwgby5fKSh0KSkpIH0gfSwgeyBrZXk6ICJpbmZvIiwgdmFsdWU6IGZ1bmN0aW9uICgpIHsgZm9yICh2YXIgZSA9IGFyZ3VtZW50cy5sZW5ndGgsIHQgPSBBcnJheShlKSwgbiA9IDA7IG4gPCBlOyBuKyspdFtuXSA9IGFyZ3VtZW50c1tuXTsgdGhpcy5fbG9nLmFwcGx5KHRoaXMsIFt0aGlzLl9sZXZlbHMuaW5mbywgImluZm8iXS5jb25jYXQoKDAsIG8uXykodCkpKSB9IH0sIHsga2V5OiAid2FybiIsIHZhbHVlOiBmdW5jdGlvbiAoKSB7IGZvciAodmFyIGUgPSBhcmd1bWVudHMubGVuZ3RoLCB0ID0gQXJyYXkoZSksIG4gPSAwOyBuIDwgZTsgbisrKXRbbl0gPSBhcmd1bWVudHNbbl07IHRoaXMuX2xvZy5hcHBseSh0aGlzLCBbdGhpcy5fbGV2ZWxzLndhcm4sICJ3YXJuIl0uY29uY2F0KCgwLCBvLl8pKHQpKSkgfSB9LCB7IGtleTogImVycm9yIiwgdmFsdWU6IGZ1bmN0aW9uICgpIHsgZm9yICh2YXIgZSA9IGFyZ3VtZW50cy5sZW5ndGgsIHQgPSBBcnJheShlKSwgbiA9IDA7IG4gPCBlOyBuKyspdFtuXSA9IGFyZ3VtZW50c1tuXTsgdGhpcy5fbG9nLmFwcGx5KHRoaXMsIFt0aGlzLl9sZXZlbHMuZXJyb3IsICJlcnJvciJdLmNvbmNhdCgoMCwgby5fKSh0KSkpIH0gfSwgeyBrZXk6ICJoaXN0b3J5IiwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiAoMCwgby5fKShlLkxPR19ISVNUT1JZKSB9IH1dKSwgZSB9KCk7ICgwLCBpLl8pKGQsICJMT0dfTEVWRUwiLCA0MDApLCAoMCwgaS5fKShkLCAiTUFYX0xPR19ISVNUT1JZIiwgMjAwKSwgKDAsIGkuXykoZCwgIkxPR19ISVNUT1JZIiwgW10pOyBsZXQgaCA9IGQgfSwgNDkzMyhlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgRUE6ICgpID0+IEIsIEozOiAoKSA9PiBGLCBQajogKCkgPT4gYiwgUHY6ICgpID0+IEEsIFFDOiAoKSA9PiB2LCBaMDogKCkgPT4gbSwgbHo6ICgpID0+IHAsIG1SOiAoKSA9PiBfLCBwOTogKCkgPT4gRCwgcFA6ICgpID0+IHcgfSk7IHZhciByID0gbig5NTU1KSwgdSA9IG4oMjY2OSksIGkgPSBuKDQ5MyksIG8gPSBuKDIyMzUpLCBhID0gbig5NzY1KSwgcyA9IG4oMjE5NCkuQS5sb2dnZXIsIGMgPSB7fSwgbCA9IHsgYWE6ICJBZmFyIiwgYWI6ICJBYmtoYXppYW4iLCBhZTogIkF2ZXN0YW4iLCBhZjogIkFmcmlrYWFucyIsIGFrOiAiQWthbiIsIGFtOiAiQW1oYXJpYyIsIGFyOiAiQXJhYmljIiwgYW46ICJBcmFnb25lc2UiLCBhczogIkFzc2FtZXNlIiwgYXY6ICJBdmFyaWMiLCBheTogIkF5bWFyYSIsIGF6OiAiQXplcmJhaWphbmkiLCBiYTogIkJhc2hraXIiLCBiZTogIkJlbGFydXNpYW4iLCBiZzogIkJ1bGdhcmlhbiIsIGJoOiAiQmloYXJpIGxhbmd1YWdlcyIsIGJpOiAiQmlzbGFtYSIsIGJtOiAiQmFtYmFyYSIsIGJuOiAiQmVuZ2FsaSIsIGJvOiAiVGliZXRhbiIsIGJyOiAiQnJldG9uIiwgYnM6ICJCb3NuaWFuIiwgY2E6ICJDYXRhbGFuIiwgY2U6ICJDaGVjaGVuIiwgY2g6ICJDaGFtb3JybyIsIGNvOiAiQ29yc2ljYW4iLCBjcjogIkNyZWUiLCBjczogIkN6ZWNoIiwgY3U6ICJDaHVyY2ggU2xhdmljIiwgY3Y6ICJDaHV2YXNoIiwgY3k6ICJXZWxzaCIsIGRhOiAiRGFuaXNoIiwgZGU6ICJHZXJtYW4iLCBkdjogIkRpdmVoaSIsIGR6OiAiRHpvbmdraGEiLCBlZTogIkV3ZSIsIGVsOiAiR3JlZWsiLCBlbjogIkVuZ2xpc2giLCBlbzogIkVzcGVyYW50byIsIGVzOiAiU3BhbmlzaCIsIGV0OiAiRXN0b25pYW4iLCBldTogIkJhc3F1ZSIsIGZhOiAiUGVyc2lhbiIsIGZmOiAiRnVsYWgiLCBmaTogIkZpbm5pc2giLCBmajogIkZpamlhbiIsIGZvOiAiRmFyb2VzZSIsIGZyOiAiRnJlbmNoIiwgZnk6ICJXZXN0ZXJuIEZyaXNpYW4iLCBnYTogIklyaXNoIiwgZ2Q6ICJHYWVsaWMiLCBnbDogIkdhbGljaWFuIiwgZ246ICJHdWFyYW5pIiwgZ3U6ICJHdWphcmF0aSIsIGd2OiAiTWFueCIsIGhhOiAiSGF1c2EiLCBoZTogIkhlYnJldyIsIGhpOiAiSGluZGkiLCBobzogIkhpcmkgTW90dSIsIGhyOiAiQ3JvYXRpYW4iLCBodDogIkhhaXRpYW4iLCBodTogIkh1bmdhcmlhbiIsIGh5OiAiQXJtZW5pYW4iLCBoejogIkhlcmVybyIsIGlhOiAiSW50ZXJsaW5ndWEiLCBpZDogIkluZG9uZXNpYW4iLCBpZTogIkludGVybGluZ3VlIiwgaWc6ICJJZ2JvIiwgaWk6ICJTaWNodWFuIFlpIiwgaWs6ICJJbnVwaWFxIiwgaW86ICJJZG8iLCBpczogIkljZWxhbmRpYyIsIGl0OiAiSXRhbGlhbiIsIGl1OiAiSW51a3RpdHV0IiwgamE6ICJKYXBhbmVzZSIsIGp2OiAiSmF2YW5lc2UiLCBrYTogIkdlb3JnaWFuIiwga2c6ICJLb25nbyIsIGtpOiAiS2lrdXl1Iiwga2o6ICJLdWFueWFtYSIsIGtrOiAiS2F6YWtoIiwga2w6ICJLYWxhYWxsaXN1dCIsIGttOiAiQ2VudHJhbCBLaG1lciIsIGtuOiAiS2FubmFkYSIsIGtvOiAiS29yZWFuIiwga3I6ICJLYW51cmkiLCBrczogIkthc2htaXJpIiwga3U6ICJLdXJkaXNoIiwga3Y6ICJLb21pIiwga3c6ICJDb3JuaXNoIiwga3k6ICJLaXJnaGl6IiwgbGE6ICJMYXRpbiIsIGxiOiAiTHV4ZW1ib3VyZ2lzaCIsIGxnOiAiR2FuZGEiLCBsaTogIkxpbWJ1cmdhbiIsIGxvOiAiTGFvIiwgbG46ICJMaW5nYWxhIiwgbHQ6ICJMaXRodWFuaWFuIiwgbHU6ICJMdWJhLUthdGFuZ2EiLCBsdjogIkxhdHZpYW4iLCBtZzogIk1hbGFnYXN5IiwgbWg6ICJNYXJzaGFsbGVzZSIsIG1pOiAiTWFvcmkiLCBtazogIk1hY2Vkb25pYW4iLCBtbDogIk1hbGF5YWxhbSIsIG1uOiAiTW9uZ29saWFuIiwgbXI6ICJNYXJhdGhpIiwgbXM6ICJNYWxheSIsIG10OiAiTWFsdGVzZSIsIG15OiAiQnVybWVzZSIsIG5hOiAiTmF1cnUiLCBuYjogIkJva21ceGU1bCIsIG5kOiAiTmRlYmVsZSIsIG5lOiAiTmVwYWxpIiwgbmc6ICJOZG9uZ2EiLCBubDogIkR1dGNoIiwgbm46ICJOb3J3ZWdpYW4gTnlub3JzayIsIG5vOiAiTm9yd2VnaWFuIiwgbnI6ICJOZGViZWxlIiwgbnY6ICJOYXZham8iLCBueTogIkNoaWNoZXdhIiwgb2M6ICJPY2NpdGFuIiwgb2o6ICJPamlid2EiLCBvbTogIk9yb21vIiwgb3I6ICJPcml5YSIsIG9zOiAiT3NzZXRpYW4iLCBwYTogIlBhbmphYmkiLCBwaTogIlBhbGkiLCBwbDogIlBvbGlzaCIsIHB0OiAiUG9ydHVndWVzZSIsIHBzOiAiUHVzaHRvIiwgcXU6ICJRdWVjaHVhIiwgcm06ICJSb21hbnNoIiwgcm46ICJSdW5kaSIsIHJvOiAiUm9tYW5pYW4iLCBydTogIlJ1c3NpYW4iLCBydzogIktpbnlhcndhbmRhIiwgc2E6ICJTYW5za3JpdCIsIHNjOiAiU2FyZGluaWFuIiwgc2Q6ICJTaW5kaGkiLCBzZTogIk5vcnRoZXJuIFNhbWkiLCBzZzogIlNhbmdvIiwgc2k6ICJTaW5oYWxhIiwgc2s6ICJTbG92YWsiLCBzbDogIlNsb3ZlbmlhbiIsIHNtOiAiU2Ftb2FuIiwgc246ICJTaG9uYSIsIHNvOiAiU29tYWxpIiwgc3E6ICJBbGJhbmlhbiIsIHNyOiAiU2VyYmlhbiIsIHNzOiAiU3dhdGkiLCBzdDogIlNvdGhvIiwgc3U6ICJTdW5kYW5lc2UiLCBzdzogIlN3YWhpbGkiLCBzdjogIlN3ZWRpc2giLCB0YTogIlRhbWlsIiwgdGU6ICJUZWx1Z3UiLCB0ZzogIlRhamlrIiwgdGg6ICJUaGFpIiwgdGk6ICJUaWdyaW55YSIsIHRrOiAiVHVya21lbiIsIHRsOiAiVGFnYWxvZyIsIHRuOiAiVHN3YW5hIiwgdG86ICJUb25nYSIsIHRyOiAiVHVya2lzaCIsIHRzOiAiVHNvbmdhIiwgdHQ6ICJUYXRhciIsIHR3OiAiVHdpIiwgdHk6ICJUYWhpdGlhbiIsIHVnOiAiVWlnaHVyIiwgdWs6ICJVa3JhaW5pYW4iLCB1cjogIlVyZHUiLCB1ejogIlV6YmVrIiwgdmU6ICJWZW5kYSIsIHZpOiAiVmlldG5hbWVzZSIsIHZvOiAiVm9sYXBceGZjayIsIHdhOiAiV2FsbG9vbiIsIHdvOiAiV29sb2YiLCB4aDogIlhob3NhIiwgeWk6ICJZaWRkaXNoIiwgeW86ICJZb3J1YmEiLCB6YTogIlpodWFuZyIsIHpoOiAiQ2hpbmVzZSIsICJ6aC10dyI6ICJUcmFkaXRpb25hbCBDaGluZXNlIiwgenU6ICJadWx1IiB9LCBmID0gKDAsIHIuQjgpKGwpLCBkID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCItIiwgIl8iKSB9LCBoID0gZnVuY3Rpb24gKGUpIHsgaWYgKGxbZSA9IGUudG9Mb3dlckNhc2UoKV0pIHJldHVybiBlOyB2YXIgdCA9IGQoZSkubGFzdEluZGV4T2YoIl8iKTsgcmV0dXJuIC0xID09PSB0ID8gZSA6IGgoZS5zdWJzdHJpbmcoMCwgdCkpIH0sIHAgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZSA/IE9iamVjdC5rZXlzKGUpLnJlZHVjZShmdW5jdGlvbiAodCwgbikgeyByZXR1cm4gdFtkKG4pXSA9IGVbbl0sIHQgfSwge30pIDoge30gfSwgRCA9IGZ1bmN0aW9uIChlKSB7IGlmIChlKSByZXR1cm4gMyA9PT0gZS5sZW5ndGggPyBlIDogbFtoKGUpXSB8fCBlIH0sIHYgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZltlXSB8fCAiIiB9LCBnID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBlLnF1ZXJ5U2VsZWN0b3IoImh0bWwiKTsgcmV0dXJuIHQgPyB0LmdldEF0dHJpYnV0ZSgibGFuZyIpIDogbnVsbCB9LCBtID0gZnVuY3Rpb24gKCkgeyBpZiAoInN0cmluZyIgPT0gdHlwZW9mIG0ubW9ja18pIHJldHVybiBtLm1vY2tfOyB2YXIgZSA9IGcoZG9jdW1lbnQpOyBpZiAoIWUgJiYgKDAsIHUuZDQpKCkpIHRyeSB7IGUgPSBnKHdpbmRvdy50b3AuZG9jdW1lbnQpIH0gY2F0Y2ggKGUpIHsgcy5jaGlsZCgiandwbGF5ZXIvdXRpbHMvbGFuZ3VhZ2UiKS5kZWJ1ZyhlKSB9IHJldHVybiBlIHx8IG5hdmlnYXRvci5sYW5ndWFnZSB8fCAiZW4iIH07IG0ubW9ja18gPSBudWxsOyB2YXIgeSA9IFsiYXIiLCAiZGEiLCAiZGUiLCAiZWwiLCAiZXMiLCAiZmkiLCAiZnIiLCAiaGUiLCAiaWQiLCAiaXQiLCAiamEiLCAia28iLCAibmIiLCAibmwiLCAibm4iLCAibm8iLCAib2MiLCAicHQiLCAicm8iLCAicnUiLCAic2wiLCAic3YiLCAidGgiLCAidHIiLCAidmkiLCAiemgtdHciLCAiemgiXSwgQSA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiA4MjA3ID09PSBlLmNoYXJDb2RlQXQoMCkgfHwgL15bXHUwNTkxLVx1MDdGRlx1RkIxRC1cdUZERkRcdUZFNzAtXHVGRUZDXS8udGVzdChlKSB9LCBGID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuICJib29sZWFuIiA9PSB0eXBlb2YgRi5tb2NrXyA/IEYubW9ja18gOiB5LmluZGV4T2YoaChlKSkgPj0gMCB9OyBGLm1vY2tfID0gbnVsbDsgdmFyIEMgPSBmdW5jdGlvbiAoZSwgdCwgbikgeyB2YXIgciA9IGVbbl0gfHwgdFtuXTsgciAmJiAoZVtuXSA9IHIpIH0sIEUgPSBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGUuYWR2ZXJ0aXNpbmcsIG4gPSBlLnJlbGF0ZWQsIHIgPSBlLnNoYXJpbmcsIHUgPSBlLmFib3V0dGV4dCwgaSA9IE9iamVjdC5hc3NpZ24oe30sIGUubG9jYWxpemF0aW9uKTsgdCAmJiAoaS5hZHZlcnRpc2luZyA9IGkuYWR2ZXJ0aXNpbmcgfHwge30sIEMoaS5hZHZlcnRpc2luZywgdCwgImFkbWVzc2FnZSIpLCBDKGkuYWR2ZXJ0aXNpbmcsIHQsICJjdWV0ZXh0IiksIEMoaS5hZHZlcnRpc2luZywgdCwgImxvYWRpbmdBZCIpLCBDKGkuYWR2ZXJ0aXNpbmcsIHQsICJwb2RtZXNzYWdlIiksIEMoaS5hZHZlcnRpc2luZywgdCwgInNraXBtZXNzYWdlIiksIEMoaS5hZHZlcnRpc2luZywgdCwgInNraXB0ZXh0IikpLCAic3RyaW5nIiA9PSB0eXBlb2YgaS5yZWxhdGVkID8gaS5yZWxhdGVkID0geyBoZWFkaW5nOiBpLnJlbGF0ZWQgfSA6IGkucmVsYXRlZCA9IGkucmVsYXRlZCB8fCB7fSwgbiAmJiBDKGkucmVsYXRlZCwgbiwgImF1dG9wbGF5bWVzc2FnZSIpLCByICYmIChpLnNoYXJpbmcgPSBpLnNoYXJpbmcgfHwge30sIEMoaS5zaGFyaW5nLCByLCAiaGVhZGluZyIpLCBDKGkuc2hhcmluZywgciwgImNvcGllZCIpKSwgdSAmJiBDKGksIGUsICJhYm91dHRleHQiKTsgdmFyIG8gPSBpLmNsb3NlIHx8IGkubmV4dFVwQ2xvc2U7IHJldHVybiBvICYmIChpLmNsb3NlID0gbyksIGkgfSwgYiA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBFKGUpLCB0W2gobildLCB0W2QobildKSB9LCB3ID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuICJib29sZWFuIiA9PSB0eXBlb2Ygdy5tb2NrXyA/IHcubW9ja18gOiAoMCwgby5pc0RlZXBLZXlDb21wbGlhbnQpKGEuQSwgZSwgZnVuY3Rpb24gKGUsIHQpIHsgcmV0dXJuICJzdHJpbmciID09IHR5cGVvZiB0W2VdIH0pIH07IHcubW9ja18gPSBudWxsOyB2YXIgQiA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmICgiZnVuY3Rpb24iID09IHR5cGVvZiBCLm1vY2tfKSByZXR1cm4gQi5tb2NrXygpOyB2YXIgbiA9IGNbdF07IGlmICghbikgeyB2YXIgciwgdSA9ICIiLmNvbmNhdChlLCAidHJhbnNsYXRpb25zLyIpLmNvbmNhdCgociA9IGgodCksIC9ebltibl0kLy50ZXN0KHIpID8gIm5vIiA6IHIpLCAiLmpzb24iKTsgY1t0XSA9IG4gPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZSwgbikgeyAoMCwgaS5SKSh7IHVybDogdSwgb25jb21wbGV0ZTogZSwgb25lcnJvcjogZnVuY3Rpb24gKGUsIHIsIHUsIGkpIHsgY1t0XSA9IG51bGwsIG4oaSkgfSwgcmVzcG9uc2VUeXBlOiAianNvbiIgfSkgfSkgfSByZXR1cm4gbiB9OyBCLm1vY2tfID0gbnVsbDsgdmFyIGsgPSBmdW5jdGlvbiAoZSwgdCwgbiwgcikgeyBlW3RdID0gT2JqZWN0LmFzc2lnbih7fSwgYS5BW3RdLCBuW3RdLCByW3RdKSB9LCBfID0gZnVuY3Rpb24gKGUsIHQpIHsgdmFyIG4gPSBPYmplY3QuYXNzaWduKHt9LCBhLkEsIGUsIHQpOyByZXR1cm4gayhuLCAiZXJyb3JzIiwgZSwgdCksIGsobiwgInJlbGF0ZWQiLCBlLCB0KSwgayhuLCAic2hhcmluZyIsIGUsIHQpLCBrKG4sICJhZHZlcnRpc2luZyIsIGUsIHQpLCBrKG4sICJzaG9ydGN1dHMiLCBlLCB0KSwgayhuLCAiY2FwdGlvbnNTdHlsZXMiLCBlLCB0KSwgbiB9IH0sIDM5MTUoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IFQ6ICgpID0+IHIgfSk7IHZhciByID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKGUsIG4pLCB0KSB9IH0sIDQ3OTQoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4ucih0KSwgbi5kKHQsIHsgZ2V0QWJzb2x1dGVQYXRoOiAoKSA9PiBvLCBpc0Fic29sdXRlUGF0aDogKCkgPT4gaSwgcGFyc2VEaW1lbnNpb246ICgpID0+IGMsIHBhcnNlWE1MOiAoKSA9PiBhLCBzZXJpYWxpemU6ICgpID0+IHMsIHRpbWVGb3JtYXQ6ICgpID0+IGwsIHRpbWVGb3JtYXRBcmlhOiAoKSA9PiBmIH0pOyB2YXIgciA9IG4oOTU1NSksIHUgPSBuKDg1ODYpLCBpID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIC9eKD86KD86aHR0cHM/fGZpbGUpOik/XC9cLy8udGVzdChlKSB9LCBvID0gZnVuY3Rpb24gKGUsIHQpIHsgcmV0dXJuICgwLCB1LkxIKShlLCB0KSB9LCBhID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBudWxsOyB0cnkgeyAodCA9IG5ldyB3aW5kb3cuRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGUsICJ0ZXh0L3htbCIpKS5xdWVyeVNlbGVjdG9yKCJwYXJzZXJlcnJvciIpICYmICh0ID0gbnVsbCkgfSBjYXRjaCAoZSkgeyB9IHJldHVybiB0IH0sIHMgPSBmdW5jdGlvbiAoZSkgeyBpZiAodm9pZCAwID09PSBlKSByZXR1cm4gbnVsbDsgaWYgKCJzdHJpbmciID09IHR5cGVvZiBlICYmIGUubGVuZ3RoIDwgNikgeyB2YXIgdCA9IGUudG9Mb3dlckNhc2UoKTsgaWYgKCJ0cnVlIiA9PT0gdCkgcmV0dXJuICEwOyBpZiAoImZhbHNlIiA9PT0gdCkgcmV0dXJuICExOyBpZiAoISgwLCByLnlyKShOdW1iZXIoZSkpICYmICEoMCwgci55cikocGFyc2VGbG9hdChlKSkpIHJldHVybiBOdW1iZXIoZSkgfSByZXR1cm4gZSB9LCBjID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuICgwLCByLmdmKShlKSA/IGUgOiAiIiA9PT0gZSA/IDAgOiBlLmxhc3RJbmRleE9mKCIlIikgPiAtMSA/IGUgOiBwYXJzZUludChlLnJlcGxhY2UoInB4IiwgIiIpLCAxMCkgfSwgbCA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmICgoMCwgci55cikoZSkgJiYgKGUgPSBwYXJzZUludChlLnRvU3RyaW5nKCksIDEwKSksICgwLCByLnlyKShlKSB8fCAhaXNGaW5pdGUoZSkgfHwgZSA8PSAwICYmICF0KSByZXR1cm4gIjAwOjAwIjsgdmFyIG4gPSBlIDwgMCA/ICItIiA6ICIiLCB1ID0gTWF0aC5mbG9vcigoZSA9IE1hdGguYWJzKGUpKSAvIDM2MDApLCBpID0gTWF0aC5mbG9vcigoZSAtIDM2MDAgKiB1KSAvIDYwKSwgbyA9IE1hdGguZmxvb3IoZSAlIDYwKTsgcmV0dXJuICIiLmNvbmNhdChuICsgKHUgPyAiIi5jb25jYXQodSwgIjoiKSA6ICIiKSArIChpIDwgMTAgPyAiMCIgOiAiIikgKyBpLCAiOiIpLmNvbmNhdChvIDwgMTAgPyAiMCIgOiAiIikuY29uY2F0KG8pIH0sIGYgPSBmdW5jdGlvbiAoZSkgeyBpZiAoKDAsIHIueXIpKGUpICYmIChlID0gcGFyc2VJbnQoZS50b1N0cmluZygpLCAxMCkpLCAoMCwgci55cikoZSkgfHwgIWlzRmluaXRlKGUpIHx8IGUgPD0gMCkgcmV0dXJuICIwIHNlY29uZHMiOyB2YXIgdCA9IE1hdGguZmxvb3IoZSAvIDM2MDApLCBuID0gTWF0aC5mbG9vcigoZSAtIDM2MDAgKiB0KSAvIDYwKSwgdSA9IE1hdGguZmxvb3IoZSAlIDYwKTsgcmV0dXJuICh0ID8gdCArICh0ID49IDEgPyAiIGhvdXIiLmNvbmNhdCh0ID4gMSAmJiAicyIgfHwgIiIsICIsICIpIDogIiIpIDogIiIpICsgKG4gPyBuICsgKG4gPj0gMSA/ICIgbWludXRlIi5jb25jYXQobiA+IDEgJiYgInMiIHx8ICIiLCAiLCAiKSA6ICIiKSA6ICIiKSArIHUgKyAodSA+PSAxID8gIiBzZWNvbmQiLmNvbmNhdCh1ID4gMSAmJiAicyIgfHwgIiIpIDogIiIpIH0gfSwgNTQ4MyhlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5yKHQpLCBuLmQodCwgeyBnZXRTY3JpcHRQYXRoOiAoKSA9PiBpLCBsb2FkRnJvbTogKCkgPT4gcywgcmVwbzogKCkgPT4gbywgdmVyc2lvbkNoZWNrOiAoKSA9PiBhIH0pOyB2YXIgciA9IG4oNDQwMyksIHUgPSBuKDIyMzUpOyBkb2N1bWVudC5jdXJyZW50U2NyaXB0OyB2YXIgaSA9IGZ1bmN0aW9uIChlKSB7IGZvciAodmFyIHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IiksIG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykgeyB2YXIgciA9IHRbbl0uc3JjOyBpZiAocikgeyB2YXIgdSA9IHIubGFzdEluZGV4T2YoIi8iLmNvbmNhdChlKSk7IGlmICh1ID49IDApIHJldHVybiByLnN1YnN0cigwLCB1ICsgMSkgfSB9IHJldHVybiAiIiB9LCBvID0gZnVuY3Rpb24gKCkgeyB2YXIgZSA9ICIvL3NzbC5wLmp3cGNkbi5jb20vcGxheWVyL3YvOC40MS4xIiwgdCA9IGUgJiYgKDAsIHUuaXNGaWxlUHJvdG9jb2wpKCkgPyAiaHR0cHM6IiA6ICIiOyByZXR1cm4gIiIuY29uY2F0KHQpLmNvbmNhdChlKSB9LCBhID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSAiMCIuY29uY2F0KGUpLnNwbGl0KC9cVy8pLCBuID0gci5yLnNwbGl0KC9cVy8pLCB1ID0gcGFyc2VGbG9hdCh0WzBdKSwgaSA9IHBhcnNlRmxvYXQoblswXSk7IHJldHVybiAhKHUgPiBpKSAmJiAhKHUgPT09IGkgJiYgcGFyc2VGbG9hdCgiMCIuY29uY2F0KHRbMV0pKSA+IHBhcnNlRmxvYXQoblsxXSkpIH0sIHMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBvKCkgfSB9LCA4NTYyKGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBJOiAoKSA9PiB1LCBhOiAoKSA9PiBvIH0pOyB2YXIgciA9IG4oMjE5NCksIHUgPSAxMiwgaSA9IGZ1bmN0aW9uICgpIHsgdHJ5IHsgdmFyIGUgPSB3aW5kb3cuY3J5cHRvIHx8IHdpbmRvdy5tc0NyeXB0bzsgaWYgKG51bGwgPT0gZSA/IHZvaWQgMCA6IGUuZ2V0UmFuZG9tVmFsdWVzKSByZXR1cm4gZS5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQzMkFycmF5KDEpKVswXS50b1N0cmluZygzNikgfSBjYXRjaCAoZSkgeyByLkEubG9nZ2VyLmRlYnVnKCJqd3BsYXllci91dGlscy9yYW5kb20taWQtZ2VuZXJhdG9yOiAiLCBlKSB9IHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA5KSB9LCBvID0gZnVuY3Rpb24gKGUpIHsgZm9yICh2YXIgdCA9ICIiOyB0Lmxlbmd0aCA8IGU7KXQgKz0gaSgpOyByZXR1cm4gdC5zbGljZSgwLCBlKSB9IH0sIDYxNDcoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IHU6ICgpID0+IHUsIHg6ICgpID0+IHIgfSk7IHZhciByID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gc2V0VGltZW91dChlLCAxNykgfSwgdSA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fCBjbGVhclRpbWVvdXQgfSwgMTUzNShlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgQXk6ICgpID0+IGMgfSk7IHZhciByID0gbig1MDAxKSwgdSA9IG4oMTg2MCksIGkgPSB7fSwgbyA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGluayIpOyByZXR1cm4gdC50eXBlID0gInRleHQvY3NzIiwgdC5yZWwgPSAic3R5bGVzaGVldCIsIHQuaHJlZiA9IGUsIHQgfSwgYSA9IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7IHJldHVybiBuLnR5cGUgPSAidGV4dC9qYXZhc2NyaXB0Iiwgbi5jaGFyc2V0ID0gInV0Zi04Iiwgbi5hc3luYyA9ICEwLCBuLnRpbWVvdXQgPSB0IHx8IDQ1ZTMsIG4uc3JjID0gZSwgbiB9LCBzID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsgdmFyIHIgPSB0aGlzLCBzID0gMCwgYyA9IGZ1bmN0aW9uIChlKSB7IHMgPSAyLCByLnRyaWdnZXIodS5mZiwgZSkub2ZmKCkgfSwgbCA9IGZ1bmN0aW9uIChlKSB7IHMgPSAzLCByLnRyaWdnZXIodS5vRiwgZSkub2ZmKCkgfTsgdGhpcy5nZXRTdGF0dXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzIH0sIHRoaXMubG9hZCA9IGZ1bmN0aW9uICgpIHsgdmFyIHIgPSBpW2VdOyByZXR1cm4gMCAhPT0gcyB8fCAociAmJiByLnRoZW4obCkuY2F0Y2goYyksIHMgPSAxLCByID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHIsIHUpIHsgdmFyIGksIHMgPSAodCA/IG8gOiBhKShlLCBuKSwgZiA9IGZ1bmN0aW9uICgpIHsgcy5vbmVycm9yID0gcy5vbmxvYWQgPSBudWxsLCBjbGVhclRpbWVvdXQoaSkgfSwgZCA9IGZ1bmN0aW9uIChlKSB7IGYoKSwgYyhlKSwgdShlKSB9OyBpID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGQoRXJyb3IoIk5ldHdvcmsgdGltZW91dCAiLmNvbmNhdChlKSkpIH0sIDQ1ZTMpLCBzLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7IGQoRXJyb3IoIkZhaWxlZCB0byBsb2FkICIuY29uY2F0KGUpKSkgfSwgcy5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgeyBmKCksIGwoZSksIHIoZSkgfTsgdmFyIGggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsgaC5pbnNlcnRCZWZvcmUocywgaC5maXJzdENoaWxkKSB9KSwgaVtlXSA9IHIpLCByIH0gfTsgT2JqZWN0LmFzc2lnbihzLnByb3RvdHlwZSwgci5BeSk7IGxldCBjID0gcyB9LCAxNjU5KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBCcTogKCkgPT4gaSwgSUU6ICgpID0+IGEsIEs0OiAoKSA9PiBmLCBQbDogKCkgPT4gZCwgWUE6ICgpID0+IGwsIGNrOiAoKSA9PiBzLCBlVjogKCkgPT4gbywgZWk6ICgpID0+IGgsIGZwOiAoKSA9PiBwLCBqWTogKCkgPT4gYyB9KTsgdmFyIHIgPSBuKDk1NTUpLCB1ID0gd2luZG93LnBhcnNlRmxvYXQsIGkgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5yZXBsYWNlKC9eXHMrfFxzKyQvZywgIiIpIH0sIG8gPSBmdW5jdGlvbiAoZSwgdCwgbikgeyBmb3IgKGUgPSAiIi5jb25jYXQoZSksIG4gPSBuIHx8ICIwIjsgZS5sZW5ndGggPCB0OyllID0gbiArIGU7IHJldHVybiBlIH0sIGEgPSBmdW5jdGlvbiAoZSwgdCkgeyBmb3IgKHZhciBuID0gZS5hdHRyaWJ1dGVzLCByID0gMDsgciA8IG4ubGVuZ3RoOyByKyspaWYgKG5bcl0ubmFtZSAmJiBuW3JdLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gdC50b0xvd2VyQ2FzZSgpKSByZXR1cm4gbltyXS52YWx1ZS50b1N0cmluZygpOyByZXR1cm4gIiIgfSwgcyA9IGZ1bmN0aW9uIChlKSB7IGlmICghZSB8fCAicnRtcCIgPT09IGUuc3Vic3RyKDAsIDQpKSByZXR1cm4gIiI7IHZhciB0ID0gL1soLF1mb3JtYXQ9KG0zdTh8bXBkKS0vaS5leGVjKGUpOyBpZiAodCkgcmV0dXJuIHRbMV07IHZhciBuID0gZS5yZXBsYWNlKC9eLis/XC4oXHcrKSg/Ols7XS4qKT8oPzpbPyNdLiopPyQvLCAiJDEiKTsgcmV0dXJuIG4gIT09IGUgPyBuLnRvTG93ZXJDYXNlKCkgOiAoZSA9IGUuc3BsaXQoIj8iKVswXS5zcGxpdCgiIyIpWzBdKS5sYXN0SW5kZXhPZigiLiIpID4gLTEgPyBlLnN1YnN0cihlLmxhc3RJbmRleE9mKCIuIikgKyAxLCBlLmxlbmd0aCkudG9Mb3dlckNhc2UoKSA6ICIiIH0sIGMgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gIiIuY29uY2F0KG8oKGUgLyAzNjAwIHwgMCkudG9TdHJpbmcoKSwgMiksICI6IikuY29uY2F0KG8oKChlIC8gNjAgfCAwKSAlIDYwKS50b1N0cmluZygpLCAyKSwgIjoiKS5jb25jYXQobygoZSAlIDYwKS50b0ZpeGVkKDMpLCA2KSkgfSwgbCA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmICghZSkgcmV0dXJuIDA7IGlmICgoMCwgci5nZikoZSkpIHJldHVybiBlOyB2YXIgbiA9IGUucmVwbGFjZSgiLCIsICIuIiksIGkgPSBuLnNsaWNlKC0xKSwgbyA9IG4uc3BsaXQoIjoiKSwgYSA9IG8ubGVuZ3RoLCBzID0gMDsgaWYgKCJzIiA9PT0gaSkgcyA9IHUobik7IGVsc2UgaWYgKCJtIiA9PT0gaSkgcyA9IDYwICogdShuKTsgZWxzZSBpZiAoImgiID09PSBpKSBzID0gMzYwMCAqIHUobik7IGVsc2UgaWYgKGEgPiAxKSB7IHZhciBjID0gYSAtIDE7IDQgPT09IGEgJiYgKHQgJiYgKHMgPSB1KG9bY10pIC8gdCksIGMgLT0gMSksIHMgKz0gdShvW2NdKSwgcyArPSA2MCAqIHUob1tjIC0gMV0pLCBhID49IDMgJiYgKHMgKz0gMzYwMCAqIHUob1tjIC0gMl0pKSB9IGVsc2UgcyA9IHUobik7IHJldHVybiAoMCwgci5nZikocykgPyBzIDogMCB9LCBmID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsgaWYgKCgwLCByLktnKShlKSAmJiAiJSIgPT09IGUuc2xpY2UoLTEpKSB7IHZhciBpID0gdShlKTsgcmV0dXJuIHQgJiYgKDAsIHIuZ2YpKHQpICYmICgwLCByLmdmKShpKSA/IHQgKiBpIC8gMTAwIDogbnVsbCB9IHJldHVybiBsKGUsIG4pIH0sIGQgPSBmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gZS5tYXAoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIHQgKyBlIH0pIH0sIGggPSBmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gZS5tYXAoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUgKyB0IH0pIH0sIHAgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gISFlICYmICgwLCByLktnKShlKSAmJiAiJSIgPT09IGUuc2xpY2UoLTEpIH0gfSwgMjg4NShlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgQXk6ICgpID0+ICQsIG5POiAoKSA9PiB4LCB2ajogKCkgPT4gaiB9KTsgdmFyIHIsIHUsIGkgPSBuKDQ4ODApLCBvID0gbig0OTQpLCBhID0gbig5NDA3KSwgcyA9IG4oNDY0KSwgYyA9IG4oMzIzOSksIGwgPSBuKDg4NCksIGYgPSBuKDE2NDIpLCBkID0gbig5MDU1KSwgaCA9IG4oMTg2MCksIHAgPSBuKDUwMDEpLCBEID0gbigzMjk3KSwgdiA9IG4oNTI5MSksIGcgPSAib250b3VjaHN0YXJ0IiBpbiB3aW5kb3csIG0gPSAiUG9pbnRlckV2ZW50IiBpbiB3aW5kb3cgJiYgIWQuT1MuYW5kcm9pZCwgeSA9ICFtICYmICEoZyAmJiBkLk9TLm1vYmlsZSksIEEgPSAid2luZG93IiwgRiA9ICJpbml0IiwgQyA9ICJzZWxlY3QiLCBFID0gImtleWRvd24iLCBiID0gZC5GZWF0dXJlcy5wYXNzaXZlRXZlbnRzLCB3ID0gISFiICYmIHsgcGFzc2l2ZTogITAgfSwgQiA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHZhciByLCB1ID0gdC50YXJnZXQsIGkgPSB0LnRvdWNoZXMsIG8gPSB0LmNoYW5nZWRUb3VjaGVzLCBhID0gdC5wb2ludGVyVHlwZTsgcmV0dXJuIGkgfHwgbyA/IChyID0gKG51bGwgPT0gaSA/IHZvaWQgMCA6IGkubGVuZ3RoKSA/IGlbMF0gOiBvWzBdLCBhID0gYSB8fCAidG91Y2giKSA6IChyID0gdCwgYSA9IGEgfHwgIm1vdXNlIiksIHsgdHlwZTogZSwgcG9pbnRlclR5cGU6IGEsIHBhZ2VYOiByLnBhZ2VYLCBwYWdlWTogci5wYWdlWSwgc291cmNlRXZlbnQ6IHQsIGN1cnJlbnRUYXJnZXQ6IG4sIHRhcmdldDogdSB9IH0sIGsgPSBmdW5jdGlvbiAoZSwgdCwgbikgeyB2YXIgciA9IEIodCwgbiwgZS5lbCk7IGUudHJpZ2dlcih0LCByKSB9LCBfID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsgdmFyIHIgPSBlLmVsLCB1ID0gbi50YXJnZXQ7IGUudHJpZ2dlcih0LCB7IHR5cGU6IHQsIHNvdXJjZUV2ZW50OiBuLCBjdXJyZW50VGFyZ2V0OiByLCB0YXJnZXQ6IHUgfSkgfSwgaiA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gZS5vd25lckRvY3VtZW50IHx8IGU7IHJldHVybiB0LmRlZmF1bHRWaWV3IHx8IHQucGFyZW50V2luZG93IHx8IHdpbmRvdyB9LCBQID0gZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHsgdmFyIHUgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1s0XSA/IGFyZ3VtZW50c1s0XSA6IHcsIGkgPSBlLmhhbmRsZXJzW3RdLCBvID0gZS5vcHRpb25zW3RdOyBpZiAoaSB8fCAoaSA9IGUuaGFuZGxlcnNbdF0gPSB7fSwgbyA9IGUub3B0aW9uc1t0XSA9IHt9KSwgaVtuXSkgdGhyb3cgRXJyb3IoIiIuY29uY2F0KHQsICIgIikuY29uY2F0KG4sICIgYWxyZWFkeSByZWdpc3RlcmVkIikpOyBpW25dID0gciwgb1tuXSA9IHU7IHZhciBhID0gZS5lbCwgcyA9IHQgPT09IEEgPyBqKGEpIDogYTsgcyAmJiBzLmFkZEV2ZW50TGlzdGVuZXIobiwgciwgdSkgfSwgTyA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gZS5lbDsgbnVsbCAhPT0gZS5wb2ludGVySWQgJiYgKHQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKSwgZS5wb2ludGVySWQgPSBudWxsKSB9LCBTID0gZnVuY3Rpb24gKGUsIHQpIHsgdmFyIG4gPSBlLmVsLCByID0gZS5oYW5kbGVycywgdSA9IGUub3B0aW9ucywgaSA9IHQgPT09IEEgPyBqKG4pIDogbiwgbyA9IHJbdF0sIGEgPSB1W3RdOyBvICYmIChPYmplY3Qua2V5cyhvKS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gYVtlXTsgImJvb2xlYW4iID09IHR5cGVvZiB0ID8gaS5yZW1vdmVFdmVudExpc3RlbmVyKGUsIG9bZV0sIHQpIDogaS5yZW1vdmVFdmVudExpc3RlbmVyKGUsIG9bZV0pIH0pLCByW3RdID0gbnVsbCwgdVt0XSA9IG51bGwpIH0sIHggPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gISFlLmN0cmxLZXkgJiYgImNsaWNrIiA9PT0gZS50eXBlIHx8ICgid2hpY2giIGluIGUgPyAzID09PSBlLndoaWNoIDogImJ1dHRvbiIgaW4gZSAmJiAyID09PSBlLmJ1dHRvbikgfSwgVCA9IGZ1bmN0aW9uIChlLCB0KSB7IGUuZW5hYmxlRG91YmxlQ2xpY2sgJiYgKCgwLCBELnQpKCkgLSBlLmxhc3RDbGljayA8IDMwMCA/IChrKGUsIGguTEssIHQpLCBlLmxhc3RDbGljayA9IDApIDogZS5sYXN0Q2xpY2sgPSAoMCwgRC50KSgpKSB9LCBJID0gZnVuY3Rpb24gKGUsIHQpIHsgaWYgKHUgfHwgKHUgPSBuZXcgJChkb2N1bWVudCkub24oImludGVyYWN0aW9uIikpLCAhZS5oYW5kbGVyc1tGXSAmJiAhZS5oYW5kbGVyc1tDXSkgeyB2YXIgbiA9IGUuZWw7IFAoZSwgdCwgImJsdXIiLCBmdW5jdGlvbiAoKSB7ICgwLCB2LnZ5KShuLCAianctdGFiLWZvY3VzIiksIGUuY2xpY2tpbmcgPSAhMSB9KSwgUChlLCB0LCAiZm9jdXMiLCBmdW5jdGlvbiAoKSB7IHUuZXZlbnQgJiYgdS5ldmVudC50eXBlID09PSBFICYmICgwLCB2LmlRKShuLCAianctdGFiLWZvY3VzIikgfSkgfSB9LCBOID0gZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHsgbSA/IFAoZSwgdCwgInBvaW50ZXJkb3duIiwgbiwgcikgOiAoeSAmJiBQKGUsIHQsICJtb3VzZWRvd24iLCBuLCByKSwgUChlLCB0LCAidG91Y2hzdGFydCIsIG4sIHIpKSB9LCBMID0gZnVuY3Rpb24gKGUpIHsgaWYgKCFlLmhhbmRsZXJzW0NdKSB7IHZhciB0ID0gZS5lbDsgSShlLCBDKSwgTihlLCBDLCBmdW5jdGlvbiAobikgeyB2YXIgciA9IG4udGFyZ2V0OyB4KG4pIHx8IGUuZGlyZWN0U2VsZWN0ICYmIHIgIT09IHQgfHwgKG4uaXNQcmltYXJ5ICYmICJCVVRUT04iID09PSByLnRhZ05hbWUgJiYgci5mb2N1cygpLCBlLmxhc3RTdGFydCA9ICgwLCBELnQpKCksIGUuY2xpY2tpbmcgPSAhMCkgfSksIFAoZSwgQywgImNsaWNrIiwgZnVuY3Rpb24gKG4pIHsgaWYgKCF4KG4pICYmICghZS5kaXJlY3RTZWxlY3QgfHwgbi50YXJnZXQgPT09IHQpKSB7IGlmICgoMCwgRC50KSgpIC0gZS5sYXN0U3RhcnQgPiA1MDAgJiYgITAgPT09IGUuY2xpY2tpbmcpIHsgZS5jbGlja2luZyA9ICExOyByZXR1cm4gfSBUKGUsIG4pLCBrKGUsIGguUnQsIG4pLCBlLmNsaWNraW5nID0gITEgfSB9KSB9IH0sIE0gPSBmdW5jdGlvbiAoZSkgeyBlLnByZXZlbnREZWZhdWx0ICYmIGUucHJldmVudERlZmF1bHQoKSB9LCBSID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIDAgPT09IGUudHlwZS5pbmRleE9mKCJ0b3VjaCIpID8gKGUub3JpZ2luYWxFdmVudCB8fCBlKS5jaGFuZ2VkVG91Y2hlc1swXSA6IGUgfSwgViA9IGZ1bmN0aW9uIChlKSB7IGlmICghZS5oYW5kbGVyc1tGXSkgeyB2YXIgdCA9IGUuZWwsIG4gPSBlLnBhc3NpdmUsIHUgPSAhIWIgJiYgeyBwYXNzaXZlOiBuIH0sIGkgPSBmdW5jdGlvbiAodCkgeyBpZiAoZS5kcmFnZ2VkKSBrKGUsIGguaiwgdCk7IGVsc2UgeyB2YXIgciA9IFIodCksIHUgPSByLnBhZ2VYLCBpID0gci5wYWdlWSwgbyA9IHUgLSBlLnN0YXJ0WCwgYSA9IGkgLSBlLnN0YXJ0WTsgbyAqIG8gKyBhICogYSA+IDM2ICYmIChrKGUsIGguUWYsIHQpLCBlLmRyYWdnZWQgPSAhMCwgayhlLCBoLmosIHQpKSB9IG4gfHwgInRvdWNobW92ZSIgIT09IHQudHlwZSB8fCBNKHQpIH0sIG8gPSBmdW5jdGlvbiAodCkgeyBjbGVhclRpbWVvdXQociksIGUuZWwgJiYgKE8oZSksIFMoZSwgQSksIGUuZHJhZ2dlZCAmJiAoZS5kcmFnZ2VkID0gITEsIGsoZSwgaC5SeSwgdCkpKSB9OyBJKGUsIEYpLCBOKGUsIEYsIGZ1bmN0aW9uIChyKSB7IGlmICgoMCwgdi52eSkodCwgImp3LXRhYi1mb2N1cyIpLCAheChyKSkgeyB2YXIgYSA9IHIudGFyZ2V0LCBzID0gci50eXBlOyBpZiAoIWUuZGlyZWN0U2VsZWN0IHx8IGEgPT09IHQpIHsgdmFyIGMgPSBSKHIpLCBsID0gYy5wYWdlWCwgZiA9IGMucGFnZVk7IGlmIChlLmRyYWdnZWQgPSAhMSwgZS5zdGFydFggPSBsLCBlLnN0YXJ0WSA9IGYsIFMoZSwgQSksICJwb2ludGVyZG93biIgPT09IHMgJiYgci5pc1ByaW1hcnkpIHsgaWYgKCFuKSB7IHZhciBkID0gci5wb2ludGVySWQ7IGUucG9pbnRlcklkID0gZCwgdC5zZXRQb2ludGVyQ2FwdHVyZShkKSB9IFAoZSwgQSwgInBvaW50ZXJtb3ZlIiwgaSwgdSksIFAoZSwgQSwgInBvaW50ZXJjYW5jZWwiLCBvKSwgUChlLCBBLCAicG9pbnRlcnVwIiwgbykgfSBlbHNlICJtb3VzZWRvd24iID09PSBzID8gKFAoZSwgQSwgIm1vdXNlbW92ZSIsIGksIHUpLCBQKGUsIEEsICJtb3VzZXVwIiwgbykpIDogInRvdWNoc3RhcnQiID09PSBzICYmIChQKGUsIEEsICJ0b3VjaG1vdmUiLCBpLCB1KSwgUChlLCBBLCAidG91Y2hjYW5jZWwiLCBvKSwgUChlLCBBLCAidG91Y2hlbmQiLCBvKSkgfSB9IH0sIHUpIH0gfSwgVSA9IHsgZHJhZzogZnVuY3Rpb24gKGUpIHsgVihlKSB9LCBkcmFnU3RhcnQ6IGZ1bmN0aW9uIChlKSB7IFYoZSkgfSwgZHJhZ0VuZDogZnVuY3Rpb24gKGUpIHsgVihlKSB9LCBjbGljazogZnVuY3Rpb24gKGUpIHsgTChlKSB9LCBkb3VibGVDbGljazogZnVuY3Rpb24gKGUpIHsgZS5lbmFibGVEb3VibGVDbGljayA9ICEwLCBMKGUpIH0sIGxvbmdQcmVzczogZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSAibG9uZ1ByZXNzIjsgaWYgKGQuT1MuaU9TKSB7IHZhciBuID0gZnVuY3Rpb24gKCkgeyBjbGVhclRpbWVvdXQocikgfTsgUChlLCB0LCAidG91Y2hzdGFydCIsIGZ1bmN0aW9uICh1KSB7IG4oKSwgciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBrKGUsIHQsIHUpIH0sIDUwMCkgfSksIFAoZSwgdCwgInRvdWNobW92ZSIsIG4pLCBQKGUsIHQsICJ0b3VjaGNhbmNlbCIsIG4pLCBQKGUsIHQsICJ0b3VjaGVuZCIsIG4pIH0gZWxzZSBlLmVsLm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAobikgeyByZXR1cm4gayhlLCB0LCBuKSwgITEgfSB9LCBmb2N1czogZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSAiZm9jdXMiOyBQKGUsIHQsIHQsIGZ1bmN0aW9uIChuKSB7IF8oZSwgdCwgbikgfSkgfSwgYmx1cjogZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSAiYmx1ciI7IFAoZSwgdCwgdCwgZnVuY3Rpb24gKG4pIHsgXyhlLCB0LCBuKSB9KSB9LCBvdmVyOiBmdW5jdGlvbiAoZSkgeyAobSB8fCB5KSAmJiBQKGUsIGguUE0sIG0gPyAicG9pbnRlcm92ZXIiIDogIm1vdXNlb3ZlciIsIGZ1bmN0aW9uICh0KSB7ICJ0b3VjaCIgIT09IHQucG9pbnRlclR5cGUgJiYgayhlLCBoLlBNLCB0KSB9KSB9LCBvdXQ6IGZ1bmN0aW9uIChlKSB7IGlmIChtKSB7IHZhciB0ID0gZS5lbDsgUChlLCBoLlBvLCAicG9pbnRlcm91dCIsIGZ1bmN0aW9uIChuKSB7IGlmICgidG91Y2giICE9PSBuLnBvaW50ZXJUeXBlICYmICJjbGllbnRYIiBpbiBuKSB7IHZhciByID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChuLmNsaWVudFgsIG4uY2xpZW50WSk7IHQuY29udGFpbnMocikgfHwgayhlLCBoLlBvLCBuKSB9IH0pIH0gZWxzZSB5ICYmIFAoZSwgaC5QbywgIm1vdXNlb3V0IiwgZnVuY3Rpb24gKHQpIHsgayhlLCBoLlBvLCB0KSB9KSB9LCBtb3ZlOiBmdW5jdGlvbiAoZSkgeyAobSB8fCB5KSAmJiBQKGUsIGguaTIsIG0gPyAicG9pbnRlcm1vdmUiIDogIm1vdXNlbW92ZSIsIGZ1bmN0aW9uICh0KSB7ICJ0b3VjaCIgIT09IHQucG9pbnRlclR5cGUgJiYgayhlLCBoLmkyLCB0KSB9KSB9LCBlbnRlcjogZnVuY3Rpb24gKGUpIHsgUChlLCBoLkZtLCBFLCBmdW5jdGlvbiAodCkgeyAoIkVudGVyIiA9PT0gdC5rZXkgfHwgMTMgPT09IHQua2V5Q29kZSkgJiYgKHQuc3RvcFByb3BhZ2F0aW9uKCksIF8oZSwgaC5GbSwgdCkpIH0pIH0sIGtleWRvd246IGZ1bmN0aW9uIChlKSB7IFAoZSwgRSwgRSwgZnVuY3Rpb24gKHQpIHsgXyhlLCBFLCB0KSB9LCAhMSkgfSwgZ2VzdHVyZTogZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSAiZ2VzdHVyZSIsIG4gPSBmdW5jdGlvbiAobikgeyByZXR1cm4gayhlLCB0LCBuKSB9OyBQKGUsIHQsICJjbGljayIsIG4pLCBQKGUsIHQsIEUsIG4pIH0sIGludGVyYWN0aW9uOiBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9ICJpbnRlcmFjdGlvbiIsIG4gPSBmdW5jdGlvbiAodCkgeyBlLmV2ZW50ID0gdCB9OyBQKGUsIHQsICJtb3VzZWRvd24iLCBuLCAhMCksIFAoZSwgdCwgRSwgbiwgITApIH0sIHRhcDogZnVuY3Rpb24gKCkgeyB9LCBkb3VibGVUYXA6IGZ1bmN0aW9uICgpIHsgfSB9LCB6ID0gL1xzKy8sIEggPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZSAmJiAhKHoudGVzdChlKSB8fCAodm9pZCAwID09PSBlID8gInVuZGVmaW5lZCIgOiAoMCwgZi5fKShlKSkgPT09ICJvYmplY3QiKSB9LCAkID0gZnVuY3Rpb24gKGUpIHsgZnVuY3Rpb24gdChlLCBuKSB7ICgwLCBvLl8pKHRoaXMsIHQpLCByID0gKDAsIGkuXykodGhpcywgdCk7IHZhciByLCB1ID0gIShuID0gbiB8fCB7fSkucHJldmVudFNjcm9sbGluZzsgcmV0dXJuIHIuZGlyZWN0U2VsZWN0ID0gISFuLmRpcmVjdFNlbGVjdCwgci5kcmFnZ2VkID0gITEsIHIuZW5hYmxlRG91YmxlQ2xpY2sgPSAhMSwgci5lbCA9IGUsIHIuaGFuZGxlcnMgPSB7fSwgci5vcHRpb25zID0ge30sIHIubGFzdENsaWNrID0gMCwgci5sYXN0U3RhcnQgPSAwLCByLnBhc3NpdmUgPSB1LCByLnBvaW50ZXJJZCA9IG51bGwsIHIuc3RhcnRYID0gMCwgci5zdGFydFkgPSAwLCByLmV2ZW50ID0gbnVsbCwgci5jbGlja2luZyA9ICExLCByIH0gcmV0dXJuICgwLCBsLl8pKHQsIGUpLCAoMCwgYS5fKSh0LCBbeyBrZXk6ICJvbiIsIHZhbHVlOiBmdW5jdGlvbiAoZSwgbiwgcikgeyByZXR1cm4gSChlKSAmJiAhdGhpcy5oYW5kbGVyc1tlXSAmJiBVW2VdKHRoaXMpLCAoMCwgcy5fKSgoMCwgYy5fKSh0LnByb3RvdHlwZSksICJvbiIsIHRoaXMpLmNhbGwodGhpcywgZSwgbiwgcikgfSB9LCB7IGtleTogIm9mZiIsIHZhbHVlOiBmdW5jdGlvbiAoZSwgbiwgcikgeyB2YXIgdSA9IHRoaXM7IHJldHVybiBIKGUpID8gUyh0aGlzLCBlKSA6IGUgfHwgT2JqZWN0LmtleXModGhpcy5oYW5kbGVycykuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyBTKHUsIGUpIH0pLCAoMCwgcy5fKSgoMCwgYy5fKSh0LnByb3RvdHlwZSksICJvZmYiLCB0aGlzKS5jYWxsKHRoaXMsIGUsIG4sIHIpIH0gfSwgeyBrZXk6ICJkZXN0cm95IiwgdmFsdWU6IGZ1bmN0aW9uICgpIHsgdGhpcy5lbCAmJiAodGhpcy5vZmYoKSwgbSAmJiBPKHRoaXMpLCB0aGlzLmVsID0gbnVsbCkgfSB9XSksIHQgfShwLkF5KSB9LCA5NTU1KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyAkejogKCkgPT4gZWUsIEF5OiAoKSA9PiBlQywgQjg6ICgpID0+IGV2LCBEXzogKCkgPT4gVSwgRWo6ICgpID0+IFEsIEV0OiAoKSA9PiB4LCBHdjogKCkgPT4gQiwgSTY6ICgpID0+IEgsIEtnOiAoKSA9PiBULCBMbTogKCkgPT4gRywgTUk6ICgpID0+IFcsIE1aOiAoKSA9PiBYLCBOVDogKCkgPT4gZWcsIFRTOiAoKSA9PiBWLCBUajogKCkgPT4gTCwgVG46ICgpID0+IFMsIFVwOiAoKSA9PiBleSwgWCQ6ICgpID0+IGVtLCBYQjogKCkgPT4gZXMsIF9NOiAoKSA9PiBlYSwgX186ICgpID0+IF8sIGIwOiAoKSA9PiBLLCBiejogKCkgPT4geiwgY0s6ICgpID0+IGVvLCBkWTogKCkgPT4gZUEsIGdSOiAoKSA9PiBlaSwgZ2Y6ICgpID0+IGVGLCBpdjogKCkgPT4gZWMsIG5GOiAoKSA9PiBlRCwgcGI6ICgpID0+ICQsIHFZOiAoKSA9PiBlbiwgcWg6ICgpID0+IGV1LCB5cjogKCkgPT4gTiB9KTsgdmFyIHIgPSBuKDM3NTApLCB1ID0gbig0NzgpLCBpID0gbigzMjk3KSwgbyA9IHt9LCBhID0gQXJyYXkucHJvdG90eXBlLCBzID0gT2JqZWN0LnByb3RvdHlwZSwgYyA9IEZ1bmN0aW9uLnByb3RvdHlwZSwgbCA9IGEuc2xpY2UsIGYgPSBhLmNvbmNhdCwgZCA9IHMudG9TdHJpbmcsIGggPSBzLmhhc093blByb3BlcnR5LCBwID0gYS5tYXAsIEQgPSBhLnJlZHVjZSwgdiA9IGEuZm9yRWFjaCwgZyA9IGEuZmlsdGVyLCBtID0gYS5ldmVyeSwgeSA9IGEuc29tZSwgQSA9IGEuaW5kZXhPZiwgRiA9IEFycmF5LmlzQXJyYXksIEMgPSBPYmplY3Qua2V5cywgRSA9IGMuYmluZCwgYiA9IHdpbmRvdy5pc0Zpbml0ZSwgdyA9IGZ1bmN0aW9uIChlLCB0KSB7IHJldHVybiBoLmNhbGwoZSwgdCkgfSwgQiA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBlID09PSBPYmplY3QoZSkgfSwgayA9IGZ1bmN0aW9uIChlKSB7IGlmICghQihlKSkgcmV0dXJuIFtdOyBpZiAoQykgcmV0dXJuIEMoZSk7IHZhciB0ID0gW107IGZvciAodmFyIG4gaW4gZSkgdyhlLCBuKSAmJiB0LnB1c2gobik7IHJldHVybiB0IH0sIF8gPSBmdW5jdGlvbiAoZSwgdCwgbikgeyBpZiAobnVsbCA9PSBlKSByZXR1cm4gZTsgaWYgKHYgJiYgZS5mb3JFYWNoID09PSB2KSBlLmZvckVhY2godCwgbik7IGVsc2UgaWYgKGUubGVuZ3RoID09PSBOdW1iZXIoZS5sZW5ndGgpKSB7IGZvciAociA9IDAsIHUgPSBlLmxlbmd0aDsgciA8IHU7IHIrKylpZiAodC5jYWxsKG4sIGVbcl0sIHIsIGUpID09PSBvKSByZXR1cm4gfSBlbHNlIHsgdmFyIHIsIHUsIGkgPSBrKGUpOyBmb3IgKHIgPSAwLCB1ID0gaS5sZW5ndGg7IHIgPCB1OyByKyspaWYgKHQuY2FsbChuLCBlW2lbcl1dLCBpW3JdLCBlKSA9PT0gbykgcmV0dXJuIH0gcmV0dXJuIGUgfSwgaiA9IFtdOyBfKFsiRnVuY3Rpb24iLCAiU3RyaW5nIiwgIk51bWJlciIsICJEYXRlIiwgIlJlZ0V4cCJdLCBmdW5jdGlvbiAoZSkgeyBqW2VdID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIGQuY2FsbCh0KSA9PSAiW29iamVjdCAiLmNvbmNhdChlLCAiXSIpIH0gfSk7IHZhciBQID0gai5EYXRlLCBPID0gai5SZWdFeHAsIFMgPSBqLkZ1bmN0aW9uLCB4ID0gai5OdW1iZXIsIFQgPSBqLlN0cmluZywgSSA9IEYgfHwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuICJbb2JqZWN0IEFycmF5XSIgPT0gZC5jYWxsKGUpIH0sIE4gPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4geChlKSAmJiBlICE9IE51bWJlcihlKSB9LCBMID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsgdmFyIHIgPSBbXTsgcmV0dXJuIG51bGwgPT0gZSA/IHIgOiBwICYmIGUubWFwID09PSBwID8gZS5tYXAodCwgbikgOiAoXyhlLCBmdW5jdGlvbiAoZSwgdSwgaSkgeyByLnB1c2godC5jYWxsKG4sIGUsIHUsIGkpKSB9KSwgcikgfSwgTSA9IGZ1bmN0aW9uICgpIHsgfSwgUiA9IGZ1bmN0aW9uIChlLCB0KSB7IGZvciAodmFyIG4gPSBhcmd1bWVudHMubGVuZ3RoLCB1ID0gQXJyYXkobiA+IDIgPyBuIC0gMiA6IDApLCBpID0gMjsgaSA8IG47IGkrKyl1W2kgLSAyXSA9IGFyZ3VtZW50c1tpXTsgaWYgKEUgJiYgZS5iaW5kID09PSBFKSByZXR1cm4gRS5hcHBseShlLCBbdF0uY29uY2F0KHUpKTsgaWYgKCFTKGUpKSB0aHJvdyBUeXBlRXJyb3IoKTsgdmFyIG8gPSBmdW5jdGlvbiAoKSB7IGZvciAodmFyIG4gPSBhcmd1bWVudHMubGVuZ3RoLCBpID0gQXJyYXkobiksIGEgPSAwOyBhIDwgbjsgYSsrKWlbYV0gPSBhcmd1bWVudHNbYV07IGlmICghKDAsIHIuXykodGhpcywgbykpIHJldHVybiBlLmFwcGx5KHQsIHUuY29uY2F0KGkpKTsgTS5wcm90b3R5cGUgPSBlLnByb3RvdHlwZTsgdmFyIHMgPSBuZXcgTTsgTS5wcm90b3R5cGUgPSBudWxsOyB2YXIgYyA9IGUuYXBwbHkocywgdS5jb25jYXQoaSkpOyByZXR1cm4gT2JqZWN0KGMpID09PSBjID8gYyA6IHMgfTsgcmV0dXJuIG8gfSwgViA9IGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7IHZhciB1ID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7IGlmIChudWxsID09IGUgJiYgKGUgPSBbXSksIEQgJiYgZS5yZWR1Y2UgPT09IEQpIHJldHVybiByICYmICh0ID0gUih0LCByKSksIHUgPyBlLnJlZHVjZSh0LCBuKSA6IGUucmVkdWNlKHQpOyBpZiAoXyhlLCBmdW5jdGlvbiAoZSwgaSwgbykgeyB1ID8gbiA9IHQuY2FsbChyLCBuLCBlLCBpLCBvKSA6IChuID0gZSwgdSA9ICEwKSB9KSwgIXUpIHRocm93IFR5cGVFcnJvcigiUmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpOyByZXR1cm4gbiB9LCBVID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUgfSwgeiA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHQgfHwgKHQgPSBVKTsgdmFyIHIgPSAhMTsgcmV0dXJuIG51bGwgPT0gZSA/IHIgOiB5ICYmIGUuc29tZSA9PT0geSA/IGUuc29tZSh0LCBuKSA6IChfKGUsIGZ1bmN0aW9uIChlLCB1LCBpKSB7IGlmIChyIHx8IChyID0gdC5jYWxsKG4sIGUsIHUsIGkpKSkgcmV0dXJuIG8gfSksICEhcikgfSwgSCA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHZhciByOyByZXR1cm4geihlLCBmdW5jdGlvbiAoZSwgdSwgaSkgeyBpZiAodC5jYWxsKG4sIGUsIHUsIGkpKSByZXR1cm4gciA9IGUsICEwIH0pLCByIH0sICQgPSBmdW5jdGlvbiAoZSwgdCwgbikgeyB2YXIgciA9IFtdOyByZXR1cm4gbnVsbCA9PSBlID8gciA6IGcgJiYgZS5maWx0ZXIgPT09IGcgPyBlLmZpbHRlcih0LCBuKSA6IChfKGUsIGZ1bmN0aW9uIChlLCB1LCBpKSB7IHQuY2FsbChuLCBlLCB1LCBpKSAmJiByLnB1c2goZSkgfSksIHIpIH0sIHEgPSBmdW5jdGlvbiAoZSwgdCwgbikgeyB0IHx8ICh0ID0gVSk7IHZhciByID0gITA7IHJldHVybiBudWxsID09IGUgPyByIDogbSAmJiBlLmV2ZXJ5ID09PSBtID8gZS5ldmVyeSh0LCBuKSA6IChfKGUsIGZ1bmN0aW9uIChlLCB1LCBpKSB7IGlmICghKHIgPSByICYmIHQuY2FsbChuLCBlLCB1LCBpKSkpIHJldHVybiBvIH0pLCAhIXIpIH0sIFEgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gbnVsbCA9PSBlID8gMCA6IGUubGVuZ3RoID09PSBOdW1iZXIoZS5sZW5ndGgpID8gZS5sZW5ndGggOiBrKGUpLmxlbmd0aCB9LCBZID0gZnVuY3Rpb24gKGUsIHQpIHsgdmFyIG47IHJldHVybiBmdW5jdGlvbiAoKSB7IGZvciAodmFyIHIgPSBhcmd1bWVudHMubGVuZ3RoLCB1ID0gQXJyYXkociksIGkgPSAwOyBpIDwgcjsgaSsrKXVbaV0gPSBhcmd1bWVudHNbaV07IHJldHVybiAtLWUgPiAwICYmIChuID0gdC5hcHBseSh0aGlzLCB1KSksIGUgPD0gMSAmJiAodCA9IG51bGwpLCBuIH0gfTsgai5GdW5jdGlvbiA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiAiZnVuY3Rpb24iID09IHR5cGVvZiBlIH07IHZhciBXID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGIoZSkgJiYgIU4ocGFyc2VGbG9hdChlKSkgfSwgRyA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiAhMCA9PT0gZSB8fCAhMSA9PT0gZSB8fCAiW29iamVjdCBCb29sZWFuXSIgPT0gZC5jYWxsKGUpIH0sIEsgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gdm9pZCAwID09PSBlIH0sIFggPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHRbZV0gfSB9LCBKID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG51bGwgPT0gZSA/IFUgOiBTKGUpID8gZSA6IFgoZSkgfSwgWiA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBmdW5jdGlvbiAodCwgbiwgcikgeyB2YXIgdSA9IHt9OyByZXR1cm4gbiA9IEoobiksIF8odCwgZnVuY3Rpb24gKGksIG8pIHsgZSh1LCBuLmNhbGwociwgaSwgbywgdCksIGkpIH0pLCB1IH0gfSwgZWUgPSBaKGZ1bmN0aW9uIChlLCB0LCBuKSB7IHcoZSwgdCkgPyBlW3RdLnB1c2gobikgOiBlW3RdID0gW25dIH0pLCBldCA9IFooZnVuY3Rpb24gKGUsIHQsIG4pIHsgZVt0XSA9IG4gfSksIGVuID0gZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHsgZm9yICh2YXIgdSA9IChuID0gSihuKSkuY2FsbChyLCB0KSwgaSA9IDAsIG8gPSBlLmxlbmd0aDsgaSA8IG87KSB7IHZhciBhID0gaSArIG8gPj4+IDE7IG4uY2FsbChyLCBlW2FdKSA8IHUgPyBpID0gYSArIDEgOiBvID0gYSB9IHJldHVybiBpIH0sIGVyID0gZnVuY3Rpb24gKGUpIHsgZm9yICh2YXIgdCA9IGsoZSksIG4gPSBrLmxlbmd0aCwgciA9IEFycmF5KG4pLCB1ID0gMDsgdSA8IG47IHUrKylyW3VdID0gZVt0W3VdXTsgcmV0dXJuIHIgfSwgZXUgPSBmdW5jdGlvbiAoZSwgdCwgbikgeyBpZiAobnVsbCA9PSBlKSByZXR1cm4gLTE7IHZhciByID0gMCwgdSA9IGUubGVuZ3RoOyBpZiAobikgaWYgKCJudW1iZXIiICE9IHR5cGVvZiBuKSByZXR1cm4gciA9IGVuKGUsIHQpLCBlW3JdID09PSB0ID8gciA6IC0xOyBlbHNlIHIgPSBuIDwgMCA/IE1hdGgubWF4KDAsIHUgKyBuKSA6IG47IGlmIChBICYmIGUuaW5kZXhPZiA9PT0gQSkgcmV0dXJuIGUuaW5kZXhPZih0LCBuKTsgZm9yICg7IHIgPCB1OyByKyspaWYgKGVbcl0gPT09IHQpIHJldHVybiByOyByZXR1cm4gLTEgfSwgZWkgPSBmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gbnVsbCAhPSBlICYmIChlLmxlbmd0aCAhPT0gTnVtYmVyKGUubGVuZ3RoKSAmJiAoZSA9IGVyKGUpKSwgZXUoZSwgdCkgPj0gMCkgfSwgZW8gPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZnVuY3Rpb24gKHQpIHsgaWYgKHQgPT09IGUpIHJldHVybiAhMDsgZm9yICh2YXIgbiBpbiBlKSBpZiAoZVtuXSAhPT0gdFtuXSkgcmV0dXJuICExOyByZXR1cm4gITAgfSB9LCBlYSA9IGZ1bmN0aW9uIChlLCB0KSB7IHJldHVybiAkKGUsIGVvKHQpKSB9LCBlcyA9IGZ1bmN0aW9uIChlLCB0KSB7IHJldHVybiBIKGUsIGVvKHQpKSB9LCBlYyA9IGZ1bmN0aW9uIChlKSB7IGZvciAodmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoLCBuID0gQXJyYXkodCA+IDEgPyB0IC0gMSA6IDApLCByID0gMTsgciA8IHQ7IHIrKyluW3IgLSAxXSA9IGFyZ3VtZW50c1tyXTsgdmFyIHUgPSBmLmFwcGx5KGEsIG4pOyByZXR1cm4gJChlLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gIWVpKHUsIGUpIH0pIH0sIGVsID0gZnVuY3Rpb24gKGUpIHsgZm9yICh2YXIgdCA9IGFyZ3VtZW50cy5sZW5ndGgsIG4gPSBBcnJheSh0ID4gMSA/IHQgLSAxIDogMCksIHIgPSAxOyByIDwgdDsgcisrKW5bciAtIDFdID0gYXJndW1lbnRzW3JdOyByZXR1cm4gZnVuY3Rpb24gKCkgeyBmb3IgKHZhciB0ID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IEFycmF5KHQpLCB1ID0gMDsgdSA8IHQ7IHUrKylyW3VdID0gYXJndW1lbnRzW3VdOyBmb3IgKHZhciBpID0gMCwgbyA9IG4uc2xpY2UoKSwgYSA9IDAsIHMgPSBvLmxlbmd0aDsgYSA8IHM7IGErKyl3KG9bYV0sICJwYXJ0aWFsIikgJiYgKG9bYV0gPSByW2krK10pOyBmb3IgKDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7KW8ucHVzaChyW2krK10pOyByZXR1cm4gZS5hcHBseSh0aGlzLCBvKSB9IH0sIGVmID0gZWwoWSwgMiksIGVkID0gZnVuY3Rpb24gKGUsIHQpIHsgZm9yICh2YXIgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBBcnJheShuID4gMiA/IG4gLSAyIDogMCksIHUgPSAyOyB1IDwgbjsgdSsrKXJbdSAtIDJdID0gYXJndW1lbnRzW3VdOyByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBlLmFwcGx5KG51bGwsIHIpIH0sIHQpIH0sIGVoID0gZWwoZWQsIHsgcGFydGlhbDogZWwgfSwgMSksIGVwID0gaS50LCBlRCA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHZhciByLCB1LCBpLCBvID0gbnVsbCwgYSA9IDA7IG4gfHwgKG4gPSB7fSk7IHZhciBzID0gZnVuY3Rpb24gKCkgeyBhID0gITEgPT09IG4ubGVhZGluZyA/IDAgOiBlcCgpLCBvID0gbnVsbCwgaSA9IGUuYXBwbHkociwgdSksIHIgPSB1ID0gbnVsbCB9OyByZXR1cm4gZnVuY3Rpb24gKCkgeyBmb3IgKHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgbCA9IEFycmF5KGMpLCBmID0gMDsgZiA8IGM7IGYrKylsW2ZdID0gYXJndW1lbnRzW2ZdOyB2YXIgZCA9IGVwKCk7IGEgfHwgITEgIT09IG4ubGVhZGluZyB8fCAoYSA9IGQpOyB2YXIgaCA9IHQgLSAoZCAtIGEpOyByZXR1cm4gciA9IHRoaXMsIHUgPSBsLCBoIDw9IDAgPyAoY2xlYXJUaW1lb3V0KG8pLCBvID0gbnVsbCwgYSA9IGQsIGkgPSBlLmFwcGx5KHIsIHUpLCByID0gdSA9IG51bGwpIDogbyB8fCAhMSA9PT0gbi50cmFpbGluZyB8fCAobyA9IHNldFRpbWVvdXQocywgaCkpLCBpIH0gfSwgZXYgPSBmdW5jdGlvbiAoZSkgeyBmb3IgKHZhciB0ID0ge30sIG4gPSBrKGUpLCByID0gMCwgdSA9IG4ubGVuZ3RoOyByIDwgdTsgcisrKXRbZVtuW3JdXV0gPSBuW3JdOyByZXR1cm4gdCB9LCBlZyA9IGZ1bmN0aW9uIChlKSB7IGZvciAodmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoLCBuID0gQXJyYXkodCA+IDEgPyB0IC0gMSA6IDApLCByID0gMTsgciA8IHQ7IHIrKyluW3IgLSAxXSA9IGFyZ3VtZW50c1tyXTsgcmV0dXJuIF8obiwgZnVuY3Rpb24gKHQpIHsgaWYgKHQpIGZvciAodmFyIG4gaW4gdCkgdm9pZCAwID09PSBlW25dICYmIChlW25dID0gdFtuXSkgfSksIGUgfSwgZW0gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIChlKSB7IGZvciAodmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoLCBuID0gQXJyYXkodCA+IDEgPyB0IC0gMSA6IDApLCByID0gMTsgciA8IHQ7IHIrKyluW3IgLSAxXSA9IGFyZ3VtZW50c1tyXTsgcmV0dXJuIF8obiwgZnVuY3Rpb24gKHQpIHsgaWYgKHQpIGZvciAodmFyIG4gaW4gdCkgT2JqZWN0Lmhhc093bih0LCBuKSAmJiAoZVtuXSA9IHRbbl0pIH0pLCBlIH0sIGV5ID0gZnVuY3Rpb24gKGUpIHsgZm9yICh2YXIgdCwgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBBcnJheShuID4gMSA/IG4gLSAxIDogMCksIGkgPSAxOyBpIDwgbjsgaSsrKXJbaSAtIDFdID0gYXJndW1lbnRzW2ldOyB2YXIgbyA9IHt9OyByZXR1cm4gXyhyID0gKHQgPSBbXSkuY29uY2F0LmFwcGx5KHQsICgwLCB1Ll8pKHIpKSwgZnVuY3Rpb24gKHQpIHsgdCBpbiBlICYmIChvW3RdID0gZVt0XSkgfSksIG8gfSwgZUEgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gZSB9IH0sIGVGID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIHgoZSkgJiYgIU4oZSkgfTsgbGV0IGVDID0geyBhZnRlcjogZnVuY3Rpb24gKGUsIHQpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgZm9yICh2YXIgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBBcnJheShuKSwgdSA9IDA7IHUgPCBuOyB1Kyspclt1XSA9IGFyZ3VtZW50c1t1XTsgaWYgKC0tZSA8IDEpIHJldHVybiB0LmFwcGx5KHRoaXMsIHIpIH0gfSwgYWxsOiBxLCBhbnk6IHosIGJlZm9yZTogWSwgYmluZDogUiwgY2xvbmU6IGZ1bmN0aW9uIChlKSB7IHJldHVybiBCKGUpID8gSShlKSA/IGUuc2xpY2UoKSA6IGVtKHt9LCBlKSA6IGUgfSwgY29sbGVjdDogTCwgY29tcGFjdDogZnVuY3Rpb24gKGUpIHsgcmV0dXJuICQoZSwgVSkgfSwgY29uc3RhbnQ6IGVBLCBjb250YWluczogZWksIGRlYm91bmNlOiBmdW5jdGlvbiAoZSkgeyB2YXIgdCwgbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzFdID8gYXJndW1lbnRzWzFdIDogMTAwOyByZXR1cm4gZnVuY3Rpb24gKCkgeyBmb3IgKHZhciByID0gdGhpcywgdSA9IGFyZ3VtZW50cy5sZW5ndGgsIGkgPSBBcnJheSh1KSwgbyA9IDA7IG8gPCB1OyBvKyspaVtvXSA9IGFyZ3VtZW50c1tvXTsgY2xlYXJUaW1lb3V0KHQpLCB0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGUuYXBwbHkociwgaSkgfSwgbikgfSB9LCBkZWZhdWx0czogZWcsIGRlZmVyOiBlaCwgZGVsYXk6IGVkLCBkZXRlY3Q6IEgsIGRpZmZlcmVuY2U6IGVjLCBlYWNoOiBfLCBldmVyeTogcSwgZXh0ZW5kOiBlbSwgZmlsdGVyOiAkLCBmaW5kOiBILCBmaW5kV2hlcmU6IGVzLCBmb2xkbDogViwgZm9yRWFjaDogXywgZ3JvdXBCeTogZWUsIGhhczogdywgaWRlbnRpdHk6IFUsIGluY2x1ZGU6IGVpLCBpbmRleEJ5OiBldCwgaW5kZXhPZjogZXUsIGluamVjdDogViwgaW52ZXJ0OiBldiwgaXNBcnJheTogSSwgaXNCb29sZWFuOiBHLCBpc0RhdGU6IFAsIGlzRmluaXRlOiBXLCBpc0Z1bmN0aW9uOiBTLCBpc05hTjogTiwgaXNOdWxsOiBmdW5jdGlvbiAoZSkgeyByZXR1cm4gbnVsbCA9PT0gZSB9LCBpc051bWJlcjogeCwgaXNPYmplY3Q6IEIsIGlzUmVnRXhwOiBPLCBpc1N0cmluZzogVCwgaXNVbmRlZmluZWQ6IEssIGlzVmFsaWROdW1iZXI6IGVGLCBrZXlzOiBrLCBsYXN0OiBmdW5jdGlvbiAoZSwgdCwgbikgeyBpZiAobnVsbCAhPSBlKSByZXR1cm4gbnVsbCA9PSB0IHx8IG4gPyBlW2UubGVuZ3RoIC0gMV0gOiBsLmNhbGwoZSwgTWF0aC5tYXgoZS5sZW5ndGggLSB0LCAwKSkgfSwgbWFwOiBMLCBtYXRjaGVzOiBlbywgbWF4OiBmdW5jdGlvbiAoZSwgdCwgbikgeyBpZiAoIXQgJiYgSShlKSAmJiBlWzBdID09PSBOdW1iZXIoZVswXSkgJiYgZS5sZW5ndGggPCA2NTUzNSkgeyB2YXIgcjsgcmV0dXJuIChyID0gTWF0aCkubWF4LmFwcGx5KHIsICgwLCB1Ll8pKGUpKSB9IHZhciBpID0gLTEgLyAwLCBvID0gLTEgLyAwOyByZXR1cm4gXyhlLCBmdW5jdGlvbiAoZSwgciwgdSkgeyB2YXIgYSA9IHQgPyB0LmNhbGwobiwgZSwgciwgdSkgOiBlOyBhID4gbyAmJiAoaSA9IGUsIG8gPSBhKSB9KSwgaSB9LCBtZW1vaXplOiBmdW5jdGlvbiAoZSwgdCkgeyB2YXIgbiA9IHt9OyByZXR1cm4gdCB8fCAodCA9IFUpLCBmdW5jdGlvbiAoKSB7IGZvciAodmFyIHIgPSBhcmd1bWVudHMubGVuZ3RoLCB1ID0gQXJyYXkociksIGkgPSAwOyBpIDwgcjsgaSsrKXVbaV0gPSBhcmd1bWVudHNbaV07IHZhciBvID0gdC5hcHBseSh0aGlzLCB1KTsgcmV0dXJuIHcobiwgbykgPyBuW29dIDogbltvXSA9IGUuYXBwbHkodGhpcywgdSkgfSB9LCBub3c6IGVwLCBvbWl0OiBmdW5jdGlvbiAoZSkgeyBmb3IgKHZhciB0ID0gYXJndW1lbnRzLmxlbmd0aCwgbiA9IEFycmF5KHQgPiAxID8gdCAtIDEgOiAwKSwgciA9IDE7IHIgPCB0OyByKyspbltyIC0gMV0gPSBhcmd1bWVudHNbcl07IHZhciB1ID0ge307IGZvciAodmFyIGkgaW4gZSkgZWkobiwgaSkgfHwgKHVbaV0gPSBlW2ldKTsgcmV0dXJuIHUgfSwgb25jZTogZWYsIHBhcnRpYWw6IGVsLCBwaWNrOiBleSwgcGx1Y2s6IGZ1bmN0aW9uIChlLCB0KSB7IHJldHVybiBMKGUsIFgodCkpIH0sIHByb3BlcnR5OiBYLCBwcm9wZXJ0eU9mOiBmdW5jdGlvbiAoZSkgeyByZXR1cm4gbnVsbCA9PSBlID8gZnVuY3Rpb24gKCkgeyB9IDogZnVuY3Rpb24gKHQpIHsgcmV0dXJuIGVbdF0gfSB9LCByZWR1Y2U6IFYsIHJlamVjdDogZnVuY3Rpb24gKGUsIHQsIG4pIHsgcmV0dXJuICQoZSwgZnVuY3Rpb24gKGUsIHIsIHUpIHsgcmV0dXJuICF0LmNhbGwobiwgZSwgciwgdSkgfSwgbikgfSwgcmVzdWx0OiBmdW5jdGlvbiAoZSwgdCkgeyBpZiAobnVsbCAhPSBlKSB7IHZhciBuID0gZVt0XTsgcmV0dXJuIFMobikgPyBuLmNhbGwoZSkgOiBuIH0gfSwgc2VsZWN0OiAkLCBzaXplOiBRLCBzb21lOiB6LCBzb3J0ZWRJbmRleDogZW4sIHRocm90dGxlOiBlRCwgd2hlcmU6IGVhLCB3aXRob3V0OiBmdW5jdGlvbiAoZSkgeyBmb3IgKHZhciB0ID0gYXJndW1lbnRzLmxlbmd0aCwgbiA9IEFycmF5KHQgPiAxID8gdCAtIDEgOiAwKSwgciA9IDE7IHIgPCB0OyByKyspbltyIC0gMV0gPSBhcmd1bWVudHNbcl07IHJldHVybiBlYyhlLCBuKSB9IH0gfSwgODU4NihlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgTEg6ICgpID0+IGwsIFNNOiAoKSA9PiBzLCBhRTogKCkgPT4gbywganA6ICgpID0+IGEsIHZBOiAoKSA9PiBpIH0pOyB2YXIgciA9IC9eW146Lz8jXSs6P1wvXC9bXi8/I10rLywgdSA9IGZ1bmN0aW9uIChlKSB7IGlmIChlKSByZXR1cm4gbmV3IFVSTChlLCB3aW5kb3cubG9jYXRpb24pIH0sIGkgPSBmdW5jdGlvbiAoZSkgeyBpZiAoIWUpIHJldHVybiB7fTsgdmFyIHQgPSB1KGUpLCBuID0ge30sIHIgPSAhMCwgaSA9ICExLCBvID0gdm9pZCAwOyB0cnkgeyBmb3IgKHZhciBhLCBzID0gdC5zZWFyY2hQYXJhbXMua2V5cygpW1N5bWJvbC5pdGVyYXRvcl0oKTsgIShyID0gKGEgPSBzLm5leHQoKSkuZG9uZSk7IHIgPSAhMCkgeyB2YXIgYyA9IGEudmFsdWU7IGlmICghbltjXSkgeyB2YXIgbCA9IHQuc2VhcmNoUGFyYW1zLmdldEFsbChjKTsgbltjXSA9IDEgPT09IGwubGVuZ3RoID8gbFswXSA6IGwgfSB9IH0gY2F0Y2ggKGUpIHsgaSA9ICEwLCBvID0gZSB9IGZpbmFsbHkgeyB0cnkgeyByIHx8IG51bGwgPT0gcy5yZXR1cm4gfHwgcy5yZXR1cm4oKSB9IGZpbmFsbHkgeyBpZiAoaSkgdGhyb3cgbyB9IH0gcmV0dXJuIG4gfSwgbyA9IGZ1bmN0aW9uIChlKSB7IGlmICghZSkgcmV0dXJuIC0xOyB2YXIgdCA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoZSkuZ2V0KCJqd19zdGFydCIpIHx8IC0xOyByZXR1cm4gaXNOYU4odCkgfHwgdCA8IC0xID8gLTEgOiBOdW1iZXIodCkgfSwgYSA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbMV0gPyBhcmd1bWVudHNbMV0gOiAie3NlZWtfdG9fc2Vjb25kX251bWJlcn0iOyBpZiAoZSkgeyB2YXIgbiA9IG5ldyBVUkwoZSk7IG4uc2VhcmNoUGFyYW1zLnNldCgiandfc3RhcnQiLCAiIik7IHZhciByID0gbi50b1N0cmluZygpOyByZXR1cm4gci5yZXBsYWNlKC9qd19zdGFydD0/L2ksICJqd19zdGFydD0iLmNvbmNhdCh0KSkgfSB9LCBzID0gZnVuY3Rpb24gKGUsIHQpIHsgaWYgKGUpIHJldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKGUpLmhhcyh0KSB9LCBjID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuICEhZSAmJiBudWxsICE9PSBlLm1hdGNoKHIpIH0sIGwgPSBmdW5jdGlvbiAoZSwgdCkgeyBpZiAodCB8fCAodCA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYpLCAhZSB8fCAhYyh0KSkgcmV0dXJuICIiOyBpZiAoYyhlKSkgcmV0dXJuIGU7IHRyeSB7IHJldHVybiBuZXcgVVJMKGUsIHQpLnRvU3RyaW5nKCkgfSBjYXRjaCAoZSkgeyByZXR1cm4gIiIgfSB9IH0sIDIyMzUoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4ucih0KSwgbi5kKHQsIHsgZXhpc3RzOiAoKSA9PiBhLCBpc0RlZXBLZXlDb21wbGlhbnQ6ICgpID0+IGgsIGlzRmlsZVByb3RvY29sOiAoKSA9PiBjLCBpc0hUVFBTOiAoKSA9PiBzLCBpc1J0bXA6ICgpID0+IGwsIGlzWW91VHViZTogKCkgPT4gZiwgdHlwZU9mOiAoKSA9PiBkIH0pOyB2YXIgciwgdSwgaSA9IG4oMTY0MiksIG8gPSAobnVsbCA9PSAodSA9IHdpbmRvdykgfHwgbnVsbCA9PSAociA9IHUubG9jYXRpb24pID8gdm9pZCAwIDogci5wcm90b2NvbCkgfHwgIiIsIGEgPSBmdW5jdGlvbiAoZSkgeyBzd2l0Y2ggKHZvaWQgMCA9PT0gZSA/ICJ1bmRlZmluZWQiIDogKDAsIGkuXykoZSkpIHsgY2FzZSAic3RyaW5nIjogcmV0dXJuIGUubGVuZ3RoID4gMDsgY2FzZSAib2JqZWN0IjogcmV0dXJuIG51bGwgIT09IGU7IGNhc2UgInVuZGVmaW5lZCI6IHJldHVybiAhMTsgZGVmYXVsdDogcmV0dXJuICEwIH0gfSwgcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICJodHRwczoiID09PSBvIH0sIGMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAiZmlsZToiID09PSBvIH0sIGwgPSBmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gMCA9PT0gZS5pbmRleE9mKCJydG1wOiIpIHx8ICJydG1wIiA9PT0gdCB9LCBmID0gZnVuY3Rpb24gKGUsIHQpIHsgcmV0dXJuICJ5b3V0dWJlIiA9PT0gdCB8fCAvXihodHRwfFwvXC8pLiooeW91dHViZVwuY29tfHlvdXR1XC5iZSlcLy4rLy50ZXN0KGUpIH0sIGQgPSBmdW5jdGlvbiAoZSkgeyBpZiAobnVsbCA9PT0gZSkgcmV0dXJuICJudWxsIjsgdmFyIHQgPSB2b2lkIDAgPT09IGUgPyAidW5kZWZpbmVkIiA6ICgwLCBpLl8pKGUpOyByZXR1cm4gIm9iamVjdCIgPT09IHQgJiYgQXJyYXkuaXNBcnJheShlKSA/ICJhcnJheSIgOiB0IH0sIGggPSBmdW5jdGlvbiAoZSwgdCwgbikgeyB2YXIgciA9IE9iamVjdC5rZXlzKGUpOyByZXR1cm4gT2JqZWN0LmtleXModCkubGVuZ3RoID49IHIubGVuZ3RoICYmIHIuZXZlcnkoZnVuY3Rpb24gKHIpIHsgdmFyIHUgPSBlW3JdLCBvID0gdFtyXTsgcmV0dXJuIHUgJiYgKHZvaWQgMCA9PT0gdSA/ICJ1bmRlZmluZWQiIDogKDAsIGkuXykodSkpID09PSAib2JqZWN0IiA/ICEhbyAmJiAodm9pZCAwID09PSBvID8gInVuZGVmaW5lZCIgOiAoMCwgaS5fKShvKSkgPT09ICJvYmplY3QiICYmIGgodSwgbywgbikgOiBuKHIsIGUpIH0pIH0gfSwgMzA3OChlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgQTogKCkgPT4gciB9KTsgbGV0IHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ2aWRlbyIpIH0sIDQ0MDMoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IHI6ICgpID0+IHIgfSk7IHZhciByID0gIjguNDEuMStjb21tZXJjaWFsX3Y4LTQxLTF4LjM3LkBqd3BsYXllci9zZXJ2aWNlLWxvYWRlckAyLjAuMi5hZHMtZGFpQG1vbm8uYWRzLWZyZWV3aGVlbEBtb25vLmFkcy1nb29naW1hQG1vbm8uYWRzLXZhc3RAbW9uby5obHMuanNAMS42LjUuandwbGF5ZXJAbW9uby5qd3BsYXllci1hZHMtaGVhZGVyLWJpZGRpbmdANy4xMC4xLmp3cGxheWVyLWFuYWx5dGljc0A0LjAuOS5wbHVnaW4tZ2Fwcm9AbW9ubyIgfSwgODk5OShlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgQTogKCkgPT4gaSB9KTsgdmFyIHIgPSBuKDUyOTEpLCB1ID0gbig3MzE2KTsgZnVuY3Rpb24gaShlLCB0KSB7IHZhciBuLCBpLCBvLCBhLCBzID0gdC5tZXNzYWdlLCBjID0gdC5jb2RlLCBsID0gKG4gPSBlLmdldCgiaWQiKSwgaSA9IGUuZ2V0KCJsb2NhbGl6YXRpb24iKS5lcnJvcnMuZXJyb3JDb2RlLCBhID0gKG8gPSBjLnRvU3RyaW5nKCkpID8gIigiLmNvbmNhdChpLCAiOiAiKS5jb25jYXQobywgIikiKS5yZXBsYWNlKC9ccysvZywgIiZuYnNwOyIpIDogIiIsICc8ZGl2IGlkPSInLmNvbmNhdChuLCAnIiBjbGFzcz0ianctZXJyb3IganctcmVzZXQiPicpICsgJzxkaXYgY2xhc3M9Imp3LWVycm9yLW1zZyBqdy1pbmZvLW92ZXJsYXkganctcmVzZXQiPjxzdHlsZT4nICsgJ1tpZD0iJy5jb25jYXQobiwgJyJdLmp3LWVycm9ye2JhY2tncm91bmQ6IzAwMDtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246cmVsYXRpdmV9JykgKyAnW2lkPSInLmNvbmNhdChuLCAnIl0gLmp3LWVycm9yLW1zZ3t0b3A6NTAlO2xlZnQ6NTAlO3Bvc2l0aW9uOmFic29sdXRlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKX0nKSArICdbaWQ9IicuY29uY2F0KG4sICciXSAuanctZXJyb3ItdGV4dHt0ZXh0LWFsaWduOnN0YXJ0O2NvbG9yOiNGRkY7Zm9udDoxNHB4LzEuMzUgQXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWZ9JykgKyAnPC9zdHlsZT48ZGl2IGNsYXNzPSJqdy1pY29uIGp3LXJlc2V0Ij48L2Rpdj48ZGl2IGNsYXNzPSJqdy1pbmZvLWNvbnRhaW5lciBqdy1yZXNldCI+JyArICc8ZGl2IGNsYXNzPSJqdy1lcnJvci10ZXh0IGp3LXJlc2V0LXRleHQiIGRpcj0iYXV0byIgZGF0YS1ub3NuaXBwZXQ+Jy5jb25jYXQocyB8fCAiIiwgJzxzcGFuIGNsYXNzPSJqdy1icmVhayBqdy1yZXNldCI+PC9zcGFuPicpLmNvbmNhdChhLCAiPC9kaXY+IikgKyAiPC9kaXY+PC9kaXY+PC9kaXY+IiksIGYgPSBlLmdldCgid2lkdGgiKSwgZCA9IGUuZ2V0KCJoZWlnaHQiKSwgaCA9ICgwLCByLm4pKGwpOyByZXR1cm4gKDAsIHUuaUYpKGgsIHsgd2lkdGg6IGYudG9TdHJpbmcoKS5pbmRleE9mKCIlIikgPiAwID8gZiA6ICIiLmNvbmNhdChmLCAicHgiKSwgaGVpZ2h0OiBkLnRvU3RyaW5nKCkuaW5kZXhPZigiJSIpID4gMCA/IGQgOiAiIi5jb25jYXQoZCwgInB4IikgfSksIGggfSB9LCA2NjIyKGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBBOiAoKSA9PiBmIH0pOyB2YXIgciA9IG4oNDk0KSwgdSA9IG4oOTQwNyksIGkgPSBuKDYxNDcpLCBvID0gbig1MjkxKSwgYSA9IG4oNzMxNiksIHMgPSBbXSwgYyA9IC0xLCBsID0gZnVuY3Rpb24gKCkgeyAoMCwgaS51KShjKSwgYyA9ICgwLCBpLngpKGZ1bmN0aW9uICgpIHsgcy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IGUudmlldy51cGRhdGVCb3VuZHMoKTsgdmFyIHQgPSBlLnZpZXcubW9kZWwuZ2V0KCJjb250YWluZXJXaWR0aCIpOyBlLnJlc2l6ZWQgPSBlLndpZHRoICE9PSB0LCBlLndpZHRoID0gdCB9KSwgcy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IGUuY29udHJhY3RFbGVtZW50LnNjcm9sbExlZnQgPSAyICogZS53aWR0aCB9KSwgcy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7ICgwLCBhLmlGKShlLmV4cGFuZENoaWxkLCB7IHdpZHRoOiBlLndpZHRoICsgMSB9KSwgZS5yZXNpemVkICYmIGUudmlldy5tb2RlbC5nZXQoInZpc2liaWxpdHkiKSAmJiBlLnZpZXcudXBkYXRlU3R5bGVzKCkgfSksIHMuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyBlLmV4cGFuZEVsZW1lbnQuc2Nyb2xsTGVmdCA9IGUud2lkdGggKyAxIH0pLCBzLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgZS5yZXNpemVkICYmIGUudmlldy5jaGVja1Jlc2l6ZWQoKSB9KSB9KSB9LCBmID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBlKHQsIG4sIHUpIHsgKDAsIHIuXykodGhpcywgZSk7IHZhciBpID0geyBkaXNwbGF5OiAiYmxvY2siLCBwb3NpdGlvbjogImFic29sdXRlIiwgdG9wOiAwLCBsZWZ0OiAwIH0sIGMgPSB7IHdpZHRoOiAiMTAwJSIsIGhlaWdodDogIjEwMCUiIH0sIGYgPSAoMCwgby5uKSgnPGRpdiBzdHlsZT0ib3BhY2l0eTowO3Zpc2liaWxpdHk6aGlkZGVuO292ZXJmbG93OmhpZGRlbjsiPjxkaXY+PGRpdiBzdHlsZT0iaGVpZ2h0OjFweDsiPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9Imp3LWNvbnRyYWN0LXRyaWdnZXIiPjwvZGl2PjwvZGl2PicpLCBkID0gZi5maXJzdENoaWxkLCBoID0gZC5maXJzdENoaWxkLCBwID0gZC5uZXh0U2libGluZzsgKDAsIGEuaUYpKFtkLCBwXSwgT2JqZWN0LmFzc2lnbih7IG92ZXJmbG93OiAiYXV0byIgfSwgaSwgYykpLCAoMCwgYS5pRikoZiwgT2JqZWN0LmFzc2lnbih7fSwgaSwgYykpLCB0aGlzLmV4cGFuZEVsZW1lbnQgPSBkLCB0aGlzLmV4cGFuZENoaWxkID0gaCwgdGhpcy5jb250cmFjdEVsZW1lbnQgPSBwLCB0aGlzLmhpZGRlbkVsZW1lbnQgPSBmLCB0aGlzLmVsZW1lbnQgPSB0LCB0aGlzLnZpZXcgPSBuLCB0aGlzLm1vZGVsID0gdSwgdGhpcy53aWR0aCA9IDAsIHRoaXMucmVzaXplZCA9ICExLCB0LmZpcnN0Q2hpbGQgPyB0Lmluc2VydEJlZm9yZShmLCB0LmZpcnN0Q2hpbGQpIDogdC5hcHBlbmRDaGlsZChmKSwgdC5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBsLCAhMCksIHMucHVzaCh0aGlzKSwgbCgpIH0gcmV0dXJuICgwLCB1Ll8pKGUsIFt7IGtleTogImRlc3Ryb3kiLCB2YWx1ZTogZnVuY3Rpb24gKCkgeyBpZiAodGhpcy52aWV3KSB7IHZhciBlID0gcy5pbmRleE9mKHRoaXMpOyAtMSAhPT0gZSAmJiBzLnNwbGljZShlLCAxKSwgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIGwsICEwKSwgdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuaGlkZGVuRWxlbWVudCksIHRoaXMudmlldyA9IHRoaXMubW9kZWwgPSBudWxsIH0gfSB9XSksIGUgfSgpIH0sIDgwODkoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IEE6ICgpID0+IG0gfSk7IHZhciByLCB1ID0gbigyMzI5KSwgaSA9IFtdLCBvID0gW10sIGEgPSBbXSwgcyA9IHt9LCBjID0gITEsIGwgPSAhMSwgZiA9IGZ1bmN0aW9uIChlLCB0KSB7IGZvciAodmFyIG4gPSB0Lmxlbmd0aDsgbi0tOykgeyB2YXIgciA9IHRbbl07IGlmIChlLnRhcmdldCA9PT0gci5nZXRDb250YWluZXIoKSkgeyByLnNldEludGVyc2VjdGlvbihlKTsgYnJlYWsgfSB9IH0sIGQgPSBmdW5jdGlvbiAoKSB7IHZhciBlID0gd2luZG93LkludGVyc2VjdGlvbk9ic2VydmVyOyByIHx8IChyID0gbmV3IGUoZnVuY3Rpb24gKGUpIHsgaWYgKG51bGwgPT0gZSA/IHZvaWQgMCA6IGUubGVuZ3RoKSBmb3IgKHZhciB0ID0gZS5sZW5ndGg7IHQtLTspIHsgdmFyIG4gPSBlW3RdOyBmKG4sIGkpLCBmKG4sIG8pIH0gfSwgeyB0aHJlc2hvbGQ6IFswLCAuMSwgLjIsIC4zLCAuNCwgLjUsIC42LCAuNywgLjgsIC45LCAxXSB9KSkgfSwgaCA9IGZ1bmN0aW9uICgpIHsgaS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IGUubW9kZWwuc2V0KCJhY3RpdmVUYWIiLCAoMCwgdS5BKSgpKSB9KSB9LCBwID0gZnVuY3Rpb24gKGUsIHQpIHsgdmFyIG4gPSB0LmluZGV4T2YoZSk7IC0xICE9PSBuICYmIHQuc3BsaWNlKG4sIDEpIH0sIEQgPSBmdW5jdGlvbiAoZSkgeyBhLmZvckVhY2goZnVuY3Rpb24gKHQpIHsgdChlKSB9KSB9LCB2ID0gZnVuY3Rpb24gKCkgeyBsIHx8IChsID0gITAsIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInZpc2liaWxpdHljaGFuZ2UiLCBoKSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigid2Via2l0dmlzaWJpbGl0eWNoYW5nZSIsIGgpKSB9LCBnID0gZnVuY3Rpb24gKCkgeyBsICYmICEoaS5sZW5ndGggPiAwKSAmJiAobCA9ICExLCBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ2aXNpYmlsaXR5Y2hhbmdlIiwgaCksIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmtpdHZpc2liaWxpdHljaGFuZ2UiLCBoKSkgfTsgbGV0IG0gPSB7IGFkZDogZnVuY3Rpb24gKGUpIHsgaS5wdXNoKGUpLCB2KCkgfSwgcmVtb3ZlOiBmdW5jdGlvbiAoZSkgeyBwKGUsIGkpLCBnKCksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBEKSB9LCBhZGRTY3JvbGxIYW5kbGVyOiBmdW5jdGlvbiAoZSkgeyBjIHx8IChjID0gITAsIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCBEKSksIGEucHVzaChlKSB9LCByZW1vdmVTY3JvbGxIYW5kbGVyOiBmdW5jdGlvbiAoZSkgeyBwKGUsIGEpIH0sIGFkZFdpZGdldDogZnVuY3Rpb24gKGUpIHsgby5wdXNoKGUpIH0sIHJlbW92ZVdpZGdldDogZnVuY3Rpb24gKGUpIHsgcChlLCBvKSB9LCBzaXplOiBmdW5jdGlvbiAoKSB7IHJldHVybiBpLmxlbmd0aCB9LCBvYnNlcnZlOiBmdW5jdGlvbiAoZSkgeyBkKCksIHNbZS5pZF0gfHwgKHNbZS5pZF0gPSAhMCwgci5vYnNlcnZlKGUpKSB9LCB1bm9ic2VydmU6IGZ1bmN0aW9uIChlKSB7IHIgJiYgc1tlLmlkXSAmJiAoZGVsZXRlIHNbZS5pZF0sIHIudW5vYnNlcnZlKGUpKSB9IH0gfSwgNzIzMChlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgZlk6ICgpID0+IGMsIHVUOiAoKSA9PiBzIH0pOyB2YXIgciA9ICJfX0pXUF9fX19lUEJQS19fX18iLCB1ID0ge307IHdpbmRvd1tyXSA/IHUgPSB3aW5kb3dbcl0gOiB3aW5kb3dbcl0gPSB1OyB2YXIgaSA9IHt9LCBvID0ge30sIGEgPSBmdW5jdGlvbiAoZSwgdCkgeyB2YXIgbiA9IHVbdF07IHJldHVybiBuIHx8ICh1W3RdID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKG4sIHIpIHsgdmFyIHUgPSBuZXcgZS5rZXkodCk7IGlmICgidW5saW1pdGVkIiA9PT0gdS5lZGl0aW9uKCkpIHJldHVybiByKCk7IHZhciBpID0gWyIvLyIsICJlbnRpdGxlbWVudHMuandwbGF5ZXIuY29tIiwgIi8iLCB1LnRva2VuKCksICIuanNvbiJdOyAiZmlsZToiID09PSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgJiYgaS51bnNoaWZ0KCJodHRwczoiKSwgZS5hamF4KGkuam9pbigiIiksIGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gbnVsbCA9PSBlID8gdm9pZCAwIDogZS5yZXNwb25zZTsgdCA/IG4odCkgOiByKCkgfSwgZnVuY3Rpb24gKCkgeyByKCkgfSwgeyB0aW1lb3V0OiAxZTQsIHJlc3BvbnNlVHlwZTogImpzb24iIH0pIH0pKSB9LCBzID0gZnVuY3Rpb24gKGUsIHQpIHsgdmFyIG4gPSBpW3RdOyByZXR1cm4gbiB8fCAoaVt0XSA9IGEoZSwgdCkuY2F0Y2goZnVuY3Rpb24gKCkgeyB0aHJvdyBFcnJvcigiSWRlbnRpdHkgU2NyaXB0IERpc2FsbG93ZWQgRHVlIHRvIEVudGl0bGVtZW50IFJlcXVlc3QgRXJyb3IiKSB9KS50aGVuKGZ1bmN0aW9uIChlKSB7IGlmICghMCAhPT0gZS5jYW5Vc2VJZGVudGl0eVNjcmlwdCkgdGhyb3cgRXJyb3IoIklkZW50aXR5IFNjcmlwdCBEaXNhbGxvd2VkIER1ZSB0byBNaXNzaW5nIEVudGl0bGVtZW50Iik7IHJldHVybiB7IG1lc3NhZ2U6ICJJZGVudGl0eSBTY3JpcHQgQWxsb3dlZCIgfSB9KSkgfSwgYyA9IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuID0gb1t0XTsgcmV0dXJuIG4gfHwgKG9bdF0gPSBhKGUsIHQpLmNhdGNoKGZ1bmN0aW9uICgpIHsgdGhyb3cgRXJyb3IoIk92ZXJyaWRlIEFkIENvbmZpZyBEaXNhbGxvd2VkIER1ZSB0byBFbnRpdGxlbWVudCBSZXF1ZXN0IEVycm9yIikgfSkudGhlbihmdW5jdGlvbiAoZSkgeyBpZiAoITAgIT09IGUub3ZlcnJpZGVBZENvbmZpZykgdGhyb3cgRXJyb3IoIk92ZXJyaWRlIEFkIENvbmZpZyBEaXNhbGxvd2VkIER1ZSB0byBNaXNzaW5nIEVudGl0bGVtZW50Iik7IHJldHVybiB7IG1lc3NhZ2U6ICJPdmVycmlkZSBBZCBDb25maWcgQWxsb3dlZCIgfSB9KSkgfSB9LCAzNzg3KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBkZWZhdWx0OiAoKSA9PiBlQSB9KTsgdmFyIHIsIHUsIGksIG8sIGEsIHMsIGMsIGwsIGYsIGQsIGggPSBuKDE4OTMpLCBwID0gbig1NDU2KSwgRCA9IG4oNDc4KSwgdiA9IG4oMTY0Mik7IHIgPSBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IGU7IHRyeSB7IGZvciAoOyB0LmRvY3VtZW50ICE9PSB0LnBhcmVudC5kb2N1bWVudDspdCA9IHQucGFyZW50IH0gY2F0Y2ggKGUpIHsgfSByZXR1cm4gdCB9LCB1ID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGF0b2IoZSkgfSwgaSA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gZS5tZXNzYWdlLCBuID0gZS5wYXlsb2FkLCBpID0gbmV3IFhNTEh0dHBSZXF1ZXN0OyBpLm9wZW4oIlBPU1QiLCB1KCJhSFIwY0hNNkx5OXdiQzVqYjI1dVlYUnBlQzVqYjIwPSIpLCAhMCksIGkuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwgImFwcGxpY2F0aW9uL2pzb24iKTsgdmFyIG8gPSBuYXZpZ2F0b3IudXNlckFnZW50LCBhID0gcih3aW5kb3cpLmxvY2F0aW9uLmhyZWYsIHMgPSAoYS5pbmNsdWRlcygiOi8vIikgPyBhLnNwbGl0KCI6Ly8iKVsxXSA6IGEpLnNwbGl0KCIvIilbMF0sIGMgPSB1KCJhbmM9IiksIGwgPSAoMCwgcC5fKSgoMCwgaC5fKSh7fSwgdm9pZCAwID09PSBuID8ge30gOiBuKSwgeyBwYWdlRG9tYWluOiBzLCBzb3VyY2U6IGMgfSk7IGkuc2VuZChKU09OLnN0cmluZ2lmeSh7IG1lc3NhZ2U6IHQsIHVhOiBvLCBwYWdlVXJsOiBhLCBsZXZlbDogdSgiU1c1bWJ3PT0iKSwgZXhjZXB0aW9uOiBsLCBzZXJ2aWNlOiB1KCJZMkZqYUdVdGMyTnlZWEJsY2c9PSIpIH0pKSB9LCBvID0gZnVuY3Rpb24gKGUpIHsgdHJ5IHsgcmV0dXJuIEFycmF5LmZyb20oZS5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJzY3JpcHQiKSkuc29tZShmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5zcmMuaW5jbHVkZXModSgiWTI5dWJtRjBhWGd1WTI5dEwzQXZjR3gxWjJsdWN5OXdjbVZpYVdRPSIpKSB9KSB9IGNhdGNoIChlKSB7IHJldHVybiAhMSB9IH0sIGEgPSBmdW5jdGlvbiAoKSB7IHZhciBlID0gW10sIHQgPSByKHdpbmRvdyk7IGUucHVzaCh0KTsgdmFyIG4gPSBmdW5jdGlvbiAodCwgcikgeyBpZiAoIShyID4gMykpIHsgdHJ5IHsgcyA9IEFycmF5LmZyb20odC5mcmFtZXMpLmZpbHRlcihmdW5jdGlvbiAoZSkgeyByZXR1cm4gIW8oZSkgfSkgfSBjYXRjaCAoZSkgeyByZXR1cm4gfSB2YXIgdSA9ICEwLCBpID0gITEsIGEgPSB2b2lkIDA7IHRyeSB7IGZvciAodmFyIHMsIGMsIGwgPSBzW1N5bWJvbC5pdGVyYXRvcl0oKTsgISh1ID0gKGMgPSBsLm5leHQoKSkuZG9uZSk7IHUgPSAhMCkgeyB2YXIgZiA9IGMudmFsdWU7IGUucHVzaChmKSwgbihmLCByICsgMSkgfSB9IGNhdGNoIChlKSB7IGkgPSAhMCwgYSA9IGUgfSBmaW5hbGx5IHsgdHJ5IHsgdSB8fCBudWxsID09IGwucmV0dXJuIHx8IGwucmV0dXJuKCkgfSBmaW5hbGx5IHsgaWYgKGkpIHRocm93IGEgfSB9IH0gfTsgcmV0dXJuIG4odCwgMSksIGUgfSwgcyA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gW107IHRyeSB7IGUuX3BianNHbG9iYWxzLmZvckVhY2goZnVuY3Rpb24gKG4pIHsgdmFyIHIgPSBlW25dOyByICYmICh2b2lkIDAgPT09IHIgPyAidW5kZWZpbmVkIiA6ICgwLCB2Ll8pKHIpKSA9PT0gIm9iamVjdCIgJiYgdC5wdXNoKHIpIH0pIH0gY2F0Y2ggKGUpIHsgfSByZXR1cm4gdCB9LCBjID0gZnVuY3Rpb24gKGUpIHsgaWYgKCEoTWF0aC5yYW5kb20oKSA+IC4wMDUpKSB7IHZhciB0ID0gKDAsIGguXykoe30sIGUuZ2V0Q29uZmlnKCkpLmNhY2hlOyAodm9pZCAwID09PSB0ID8gInVuZGVmaW5lZCIgOiAoMCwgdi5fKSh0KSkgPT09ICJvYmplY3QiICYmIG51bGwgIT09IHQgPyBpKHsgbWVzc2FnZTogdSgiVUhKbFltbGtYME5oWTJobFgxTmpjbUZ3WlhKZlEyRmphR1ZmUm05MWJtUT0iKSwgcGF5bG9hZDogeyBiaWRDYWNoZTogdCB9IH0pIDogaSh7IG1lc3NhZ2U6IHUoIlVISmxZbWxrWDBOaFkyaGxYMU5qY21Gd1pYSmZRMkZqYUdWZlRtOTBYMFp2ZFc1ayIpLCBwYXlsb2FkOiB7fSB9KSB9IH0sIGwgPSBbXSwgZiA9IDAsIGQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IHZhciBlID0gYSgpLmZsYXRNYXAoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIHMoZSkgfSkuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiAhbC5pbmNsdWRlcyhlKSB9KTsgZS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiBjKGUpIH0pLCBsLnB1c2guYXBwbHkobCwgKDAsIEQuXykoZSkpLCArK2YgPj0gMjAgJiYgY2xlYXJJbnRlcnZhbChkKSB9LCAxZTMpOyB2YXIgZyA9IG4oOCksIG0gPSBuLm4oZyk7IHdpbmRvdy5Qcm9taXNlIHx8ICh3aW5kb3cuUHJvbWlzZSA9IG0oKSk7IHZhciB5ID0gbig1NDgzKSwgQSA9IG4oOTYwOCksIEYgPSBuKDkwNjMpLCBDID0gbig4ODg4KTsgbGV0IEUgPSB7IGF2YWlsYWJsZVByb3ZpZGVyczogRi5NLCByZWdpc3RlclByb3ZpZGVyOiBDLkEgfTsgdmFyIGIgPSBuKDMyNzcpOyBFLnJlZ2lzdGVyUGx1Z2luID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsgImp3cHNydiIgIT09IGUgJiYgKDAsIGIuRjMpKGUsIHQsIG4pIH07IHZhciB3ID0gbig0NDAzKSwgQiA9IG4oOTIyMCksIGsgPSBuKDkwNTUpLCBfID0gbig0ODcxKSwgaiA9IG4oMTg2MCksIFAgPSBuKDcyMDMpLCBPID0gbig1MDAxKSwgUyA9IG4oOTYyMSksIHggPSBbWyJ2YXN0eG1sIiwgImFkdGFnIiwgInNjaGVkdWxlcyJdXSwgVCA9IHsgZ29vZ2ltYTogeCwgdmFzdDogeCwgY254OiB4LCBqd3g6IHggfSwgSSA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHZhciByID0gKDAsIGguXykoe30sIGUpLCB1ID0gKDAsIGguXykoe30sIHQpLCBpID0gT2JqZWN0LmtleXModSkuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBudWxsID09PSBlIH0pOyByZXR1cm4gaS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiBkZWxldGUgcltlXSB9KSwgaS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiBkZWxldGUgdVtlXSB9KSwgbi5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IGUuc29tZShmdW5jdGlvbiAoZSkgeyByZXR1cm4gdVtlXSB9KSAmJiBlLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGRlbGV0ZSByW2VdIH0pIH0pLCAoMCwgaC5fKSh7fSwgciwgdSkgfSwgTiA9IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuID0gZS5nZXRQbHVnaW4odCksIHIgPSBPYmplY3Qua2V5cyhUKTsgaWYgKC0xID09PSByLmluZGV4T2YodCkpIHRocm93IEVycm9yKCJkZXN0cm95RHluYW1pY1BsdWdpbiBtdXN0IGJlIGNhbGxlZCB3aXRoIHBsdWdpbnMgd2l0aCBvbmUgb2YgdGhlIGZvbGxvd2luZyBwbHVnaW5zOiAiLmNvbmNhdChyLnRvU3RyaW5nKCkpKTsgaWYgKG4pIHsgaWYgKG4ucmVzaXplICYmIGUub2ZmKCJyZXNpemUiLCBuLnJlc2l6ZUhhbmRsZXIpLCBkZWxldGUgZS5wbHVnaW5zW3RdLCBuLmRlc3Ryb3kpIHRyeSB7IG4uZGVzdHJveSgpIH0gY2F0Y2ggKHQpIHsgZS51dGlscy5sb2dnZXIuZGVidWcoImp3cGxheWVyL3BsdWdpbnMvZHluYW1pYy1wbHVnaW5zOiAiLCB0KSB9IHZhciB1ID0gbi5kaXY7IChudWxsID09IHUgPyB2b2lkIDAgOiB1LnBhcmVudEVsZW1lbnQpICYmIHUucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh1KSwgZS50cmlnZ2VyKCJwbHVnaW5EZXN0cm95ZWQiLCB7IHR5cGU6ICJwbHVnaW5EZXN0cm95ZWQiLCBuYW1lOiB0IH0pIH0gfSwgTCA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmICh0W2VdKSByZXR1cm4gdFtlXTsgdmFyIG4gPSAoMCwgUy5HdikoZSk7IGlmICh0W25dKSByZXR1cm4gdFtuXTsgdmFyIHIgPSAoMCwgUy5kQikoZSk7IHJldHVybiB0W3JdID8gdFtyXSA6IHt9IH0sIE0gPSBmdW5jdGlvbiAoZSwgdCwgbiwgcikgeyB2YXIgdSA9ICgwLCBTLmRCKSh0KSwgaSA9IE9iamVjdC5rZXlzKFQpLCBvID0gTCh0LCByKTsgaWYgKC0xID09PSBpLmluZGV4T2YodSkpIHRocm93IEVycm9yKCJzZXR1cER5bmFtaWNQbHVnaW4gbXVzdCBiZSBjYWxsZWQgd2l0aCBwbHVnaW5zIHdpdGggb25lIG9mIHRoZSBmb2xsb3dpbmcgcGx1Z2luczogIi5jb25jYXQoaS50b1N0cmluZygpKSk7IE4oZSwgdSk7IHZhciBhID0gSShvLCBuLCBUW3VdKTsgcmV0dXJuICgwLCBiLmZMKSh0LCBhLCBlKSB9LCBSID0gbigyMTk0KSwgViA9IG4oOTU1NSksIFUgPSBuKDU2MzcpLCB6ID0gMCwgSCA9IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuID0gbmV3IF8uQXkodCk7IHJldHVybiBuLm9uKGoueUUsIGZ1bmN0aW9uICh0KSB7IGUuX3FvZS50aWNrKCJyZWFkeSIpLCB0LnNldHVwVGltZSA9IGUuX3FvZS5iZXR3ZWVuKCJzZXR1cCIsICJyZWFkeSIpIH0pLCBuLm9uKCJhbGwiLCBmdW5jdGlvbiAodCwgbikgeyBlLnRyaWdnZXIodCwgbikgfSksIG4gfSwgJCA9IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuID0gZS5wbHVnaW5zLCByID0gT2JqZWN0LmtleXMobikubWFwKGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gbltlXTsgcmV0dXJuIGRlbGV0ZSBuW2VdLCB0IH0pLCB1ID0gZS51dGlscy5sb2dnZXIuY2hpbGQoImp3cGxheWVyL2FwaS9hcGkiKTsgdC5nZXQoInNldHVwQ29uZmlnIikgJiYgZS50cmlnZ2VyKCJyZW1vdmUiKSwgZS5vZmYoKSwgdC5wbGF5ZXJEZXN0cm95KCksIHIuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyBpZiAoZS5yZXNldCkgdHJ5IHsgZS5yZXNldCgpIH0gY2F0Y2ggKGUpIHsgdS5kZWJ1ZyhlKSB9IGVsc2UgaWYgKGUuZGVzdHJveSkgdHJ5IHsgZS5kZXN0cm95KCkgfSBjYXRjaCAoZSkgeyB1LmRlYnVnKGUpIH0gfSksIHQuZ2V0Q29udGFpbmVyKCkucmVtb3ZlQXR0cmlidXRlKCJkYXRhLWp3cGxheWVyLWlkIikgfSwgcSA9IGZ1bmN0aW9uIChlKSB7IGZvciAodmFyIHQgPSBBLkEubGVuZ3RoOyB0LS07KWlmIChBLkFbdF0udW5pcXVlSWQgPT09IGUudW5pcXVlSWQpIHsgQS5BLnNwbGljZSh0LCAxKTsgYnJlYWsgfSB9OyBmdW5jdGlvbiBRKGUpIHsgdmFyIHQgPSArK3osIG4gPSBlLmlkIHx8ICJwbGF5ZXItIi5jb25jYXQodCksIHIgPSBuZXcgUC5BLCB1ID0ge30sIGkgPSBuZXcgVS5BKCJKV1BsYXllclsiLmNvbmNhdChuLCAiXSIpKSwgbyA9IEgodGhpcywgZSk7IHIudGljaygiaW5pdCIpLCBlLnNldEF0dHJpYnV0ZSgiZGF0YS1qd3BsYXllci1pZCIsIG4pLCBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLCB7IGlkOiB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG4gfSB9LCB1bmlxdWVJZDogeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0IH0gfSwgcGx1Z2luczogeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1IH0gfSwgX3FvZTogeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByIH0gfSwgdmVyc2lvbjogeyBlbnVtZXJhYmxlOiAhMCwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB3LnIgfSB9LCBFdmVudHM6IHsgZW51bWVyYWJsZTogITAsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gTy5BeSB9IH0sIHV0aWxzOiB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIFIuQSwgeyBsb2dnZXI6IGkgfSkgfSB9LCBfOiB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFYuQXkgfSB9IH0pLCBPYmplY3QuYXNzaWduKHRoaXMsIHsgX2V2ZW50czoge30sIHNldHVwOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gci5jbGVhcigicmVhZHkiKSwgci50aWNrKCJzZXR1cCIpLCBvICYmICQodGhpcywgbyksIChvID0gSCh0aGlzLCBlKSkuaW5pdCh0LCB0aGlzKSwgdGhpcy5vbih0LmV2ZW50cywgbnVsbCwgdGhpcykgfSwgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmdldFBpcCgpICYmIHRoaXMuc2V0UGlwKCExKSwgcSh0aGlzKSwgbyAmJiAkKHRoaXMsIG8pLCBPYmplY3Qua2V5cyh1KS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IGRlbGV0ZSB1W2VdIH0pLCB0aGlzIH0sIHFvZTogZnVuY3Rpb24gKCkgeyB2YXIgZSA9IG8uZ2V0SXRlbVFvZSgpOyByZXR1cm4geyBzZXR1cFRpbWU6IHRoaXMuX3FvZS5iZXR3ZWVuKCJzZXR1cCIsICJyZWFkeSIpLCBmaXJzdEZyYW1lOiBlLmdldEZpcnN0RnJhbWUgPyBlLmdldEZpcnN0RnJhbWUoKSA6IG51bGwsIHBsYXllcjogdGhpcy5fcW9lLmR1bXAoKSwgaXRlbTogZS5kdW1wKCkgfSB9LCBhZGRDdWVzOiBmdW5jdGlvbiAoZSkgeyByZXR1cm4gQXJyYXkuaXNBcnJheShlKSAmJiBvLmFkZEN1ZXMoZSksIHRoaXMgfSwgZ2V0QXVkaW9UcmFja3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uZ2V0QXVkaW9UcmFja3MoKSB9LCBnZXRCdWZmZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uZ2V0KCJidWZmZXIiKSB9LCBnZXRDYXB0aW9uczogZnVuY3Rpb24gKCkgeyByZXR1cm4gby5nZXQoImNhcHRpb25zIikgfSwgZ2V0Q2FwdGlvbnNMaXN0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBvLmdldENhcHRpb25zTGlzdCgpIH0sIGdldENvbmZpZzogZnVuY3Rpb24gKCkgeyByZXR1cm4gby5nZXRDb25maWcoKSB9LCBnZXRDb250YWluZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uZ2V0Q29udGFpbmVyKCkgfSwgZ2V0Q29udHJvbHM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uZ2V0KCJjb250cm9scyIpIH0sIGdldEN1ZXM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uZ2V0Q3VlcygpIH0sIGdldEN1cnJlbnRBdWRpb1RyYWNrOiBmdW5jdGlvbiAoKSB7IHJldHVybiBvLmdldEN1cnJlbnRBdWRpb1RyYWNrKCkgfSwgZ2V0Q3VycmVudENhcHRpb25zOiBmdW5jdGlvbiAoKSB7IHJldHVybiBvLmdldEN1cnJlbnRDYXB0aW9ucygpIH0sIGdldEN1cnJlbnRRdWFsaXR5OiBmdW5jdGlvbiAoKSB7IHJldHVybiBvLmdldEN1cnJlbnRRdWFsaXR5KCkgfSwgZ2V0Q3VycmVudFRpbWU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uZ2V0KCJjdXJyZW50VGltZSIpIH0sIGdldEFic29sdXRlUG9zaXRpb246IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uZ2V0QWJzb2x1dGVQb3NpdGlvbigpIH0sIGdldER1cmF0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiBvLmdldCgiZHVyYXRpb24iKSB9LCBnZXRFbnZpcm9ubWVudDogZnVuY3Rpb24gKCkgeyByZXR1cm4gayB9LCBnZXRGdWxsc2NyZWVuOiBmdW5jdGlvbiAoKSB7IHJldHVybiBvLmdldCgiZnVsbHNjcmVlbiIpIH0sIGdldEhlaWdodDogZnVuY3Rpb24gKCkgeyByZXR1cm4gby5nZXRIZWlnaHQoKSB9LCBnZXRJdGVtTWV0YTogZnVuY3Rpb24gKCkgeyByZXR1cm4gby5nZXQoIml0ZW1NZXRhIikgfHwge30gfSwgZ2V0TXV0ZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gby5nZXRNdXRlKCkgfSwgZ2V0Q29udGFpbmVyUGVyY2VudFZpZXdhYmxlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBvLmdldCgiaW50ZXJzZWN0aW9uUmF0aW8iKSB9LCBnZXRQZXJjZW50Vmlld2FibGU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uZ2V0KCJ2aXNpYmlsaXR5IikgfSwgZ2V0UGlwOiBmdW5jdGlvbiAoKSB7IHJldHVybiBvLmdldCgicGlwIikgfSwgZ2V0UGxheWJhY2tSYXRlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBvLmdldCgicGxheWJhY2tSYXRlIikgfSwgZ2V0UGxheWxpc3Q6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uZ2V0KCJwbGF5bGlzdCIpIH0sIGdldFBsYXlsaXN0SW5kZXg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uZ2V0KCJpdGVtIikgfSwgZ2V0UGxheWxpc3RJdGVtOiBmdW5jdGlvbiAoZSkgeyBpZiAoIVIuQS5leGlzdHMoZSkpIHJldHVybiBvLmdldCgicGxheWxpc3RJdGVtIik7IHZhciB0ID0gdGhpcy5nZXRQbGF5bGlzdCgpOyByZXR1cm4gdCA/IHRbZV0gOiBudWxsIH0sIGdldFBvc2l0aW9uOiBmdW5jdGlvbiAoKSB7IHJldHVybiBvLmdldCgicG9zaXRpb24iKSB9LCBnZXRQcm92aWRlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gby5nZXRQcm92aWRlcigpIH0sIGdldFF1YWxpdHlMZXZlbHM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uZ2V0UXVhbGl0eUxldmVscygpIH0sIGdldFNhZmVSZWdpb246IGZ1bmN0aW9uICgpIHsgdmFyIGUgPSAhKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB8fCB2b2lkIDAgPT09IGFyZ3VtZW50c1swXSB8fCBhcmd1bWVudHNbMF07IHJldHVybiBvLmdldFNhZmVSZWdpb24oZSkgfSwgZ2V0U3RhdGU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uZ2V0U3RhdGUoKSB9LCBnZXRTdHJldGNoaW5nOiBmdW5jdGlvbiAoKSB7IHJldHVybiBvLmdldCgic3RyZXRjaGluZyIpIH0sIGdldENvbnRhaW5lclZpZXdhYmxlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBvLmdldCgiY29udGFpbmVyVmlld2FibGUiKSB9LCBnZXRWaWV3YWJsZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gby5nZXQoInZpZXdhYmxlIikgfSwgZ2V0VmlzdWFsUXVhbGl0eTogZnVuY3Rpb24gKCkgeyByZXR1cm4gby5nZXRWaXN1YWxRdWFsaXR5KCkgfSwgZ2V0Vm9sdW1lOiBmdW5jdGlvbiAoKSB7IHJldHVybiBvLmdldCgidm9sdW1lIikgfSwgZ2V0V2lkdGg6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uZ2V0V2lkdGgoKSB9LCBpc1JlYWR5OiBmdW5jdGlvbiAoKSB7IHJldHVybiBvLmlzUmVhZHkoKSB9LCBzZXRDYXB0aW9uczogZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG8uc2V0Q2FwdGlvbnMoZSksIHRoaXMgfSwgc2V0Q29uZmlnOiBmdW5jdGlvbiAoZSkgeyByZXR1cm4gby5zZXRDb25maWcoZSksIHRoaXMgfSwgc2V0Q29udHJvbHM6IGZ1bmN0aW9uIChlKSB7IHJldHVybiBvLnNldENvbnRyb2xzKGUpLCB0aGlzIH0sIHNldEN1cnJlbnRBdWRpb1RyYWNrOiBmdW5jdGlvbiAoZSkgeyBvLnNldEN1cnJlbnRBdWRpb1RyYWNrKGUpIH0sIHNldEN1cnJlbnRDYXB0aW9uczogZnVuY3Rpb24gKGUpIHsgby5zZXRDdXJyZW50Q2FwdGlvbnMoZSkgfSwgc2V0Q3VycmVudFF1YWxpdHk6IGZ1bmN0aW9uIChlKSB7IG8uc2V0Q3VycmVudFF1YWxpdHkoZSkgfSwgc2V0RnVsbHNjcmVlbjogZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG8uc2V0RnVsbHNjcmVlbihlKSwgdGhpcyB9LCBzZXRBbGxvd0Z1bGxzY3JlZW46IGZ1bmN0aW9uIChlKSB7IHJldHVybiBvLnNldEFsbG93RnVsbHNjcmVlbihlKSwgdGhpcyB9LCBzZXRNdXRlOiBmdW5jdGlvbiAoZSkgeyByZXR1cm4gby5zZXRNdXRlKGUpLCB0aGlzIH0sIHNldFBpcDogZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG8uc2V0UGlwKGUpLCB0aGlzIH0sIHNldFBsYXliYWNrUmF0ZTogZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG8uc2V0UGxheWJhY2tSYXRlKGUpLCB0aGlzIH0sIHNldFBsYXlsaXN0SXRlbTogZnVuY3Rpb24gKGUsIHQpIHsgcmV0dXJuIG8uc2V0UGxheWxpc3RJdGVtKGUsIHQpLCB0aGlzIH0sIHNldEN1ZXM6IGZ1bmN0aW9uIChlKSB7IHJldHVybiBBcnJheS5pc0FycmF5KGUpICYmIG8uc2V0Q3VlcyhlKSwgdGhpcyB9LCBzZXRWb2x1bWU6IGZ1bmN0aW9uIChlKSB7IHJldHVybiBvLnNldFZvbHVtZShlKSwgdGhpcyB9LCBsb2FkOiBmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gby5sb2FkKGUsIHQpLCB0aGlzIH0sIHByZWxvYWQ6IGZ1bmN0aW9uIChlKSB7IHJldHVybiBvLnByZWxvYWQoZSksIHRoaXMgfSwgcGxheTogZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG8ucGxheShlKSwgdGhpcyB9LCBwYXVzZTogZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG8ucGF1c2UoZSksIHRoaXMgfSwgcGxheVRvZ2dsZTogZnVuY3Rpb24gKGUpIHsgc3dpdGNoICh0aGlzLmdldFN0YXRlKCkpIHsgY2FzZSBqLnY4OiBjYXNlIGouek06IHJldHVybiB0aGlzLnBhdXNlKGUpOyBkZWZhdWx0OiByZXR1cm4gdGhpcy5wbGF5KGUpIH0gfSwgc2VlazogZnVuY3Rpb24gKGUsIHQpIHsgcmV0dXJuIG8uc2VlayhlLCB0KSwgdGhpcyB9LCBwbGF5bGlzdEl0ZW06IGZ1bmN0aW9uIChlLCB0KSB7IHJldHVybiBvLnBsYXlsaXN0SXRlbShlLCB0KSwgdGhpcyB9LCBwbGF5bGlzdE5leHQ6IGZ1bmN0aW9uIChlKSB7IHJldHVybiBvLnBsYXlsaXN0TmV4dChlKSwgdGhpcyB9LCBwbGF5bGlzdFByZXY6IGZ1bmN0aW9uIChlKSB7IHJldHVybiBvLnBsYXlsaXN0UHJldihlKSwgdGhpcyB9LCBuZXh0OiBmdW5jdGlvbiAoZSkgeyByZXR1cm4gby5uZXh0KGUpLCB0aGlzIH0sIHJlcXVlc3RQaXA6IGZ1bmN0aW9uIChlKSB7IHJldHVybiBvLnJlcXVlc3RQaXAoZSksIHRoaXMgfSwgY2FzdFRvZ2dsZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gby5jYXN0VG9nZ2xlKCksIHRoaXMgfSwgc3RvcENhc3Rpbmc6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uc3RvcENhc3RpbmcoKSwgdGhpcyB9LCByZXF1ZXN0Q2FzdDogZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG8ucmVxdWVzdENhc3QoZSksIHRoaXMgfSwgY3JlYXRlSW5zdHJlYW06IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uY3JlYXRlSW5zdHJlYW0oKSB9LCBzdG9wOiBmdW5jdGlvbiAoKSB7IHJldHVybiBvLnN0b3AoKSwgdGhpcyB9LCByZXNpemU6IGZ1bmN0aW9uIChlLCB0KSB7IHJldHVybiBvLnJlc2l6ZShlLCB0KSwgdGhpcyB9LCBhZGRCdXR0b246IGZ1bmN0aW9uIChlLCB0LCBuLCByLCB1KSB7IHJldHVybiBvLmFkZEJ1dHRvbihlLCB0LCBuLCByLCB1KSwgdGhpcyB9LCByZW1vdmVCdXR0b246IGZ1bmN0aW9uIChlKSB7IHJldHVybiBvLnJlbW92ZUJ1dHRvbihlKSwgdGhpcyB9LCBnZXRNZWRpYUVsZW1lbnQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uZ2V0TWVkaWFFbGVtZW50KCkgfSwgYXR0YWNoTWVkaWE6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uYXR0YWNoTWVkaWEoKSwgdGhpcyB9LCBkZXRhY2hNZWRpYTogZnVuY3Rpb24gKCkgeyByZXR1cm4gby5kZXRhY2hNZWRpYSgpLCB0aGlzIH0sIGlzQmVmb3JlQ29tcGxldGU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uaXNCZWZvcmVDb21wbGV0ZSgpIH0sIGlzQmVmb3JlUGxheTogZnVuY3Rpb24gKCkgeyByZXR1cm4gby5pc0JlZm9yZVBsYXkoKSB9LCBzZXRQbGF5bGlzdEl0ZW1DYWxsYmFjazogZnVuY3Rpb24gKGUsIHQpIHsgby5zZXRJdGVtQ2FsbGJhY2soZSwgdCkgfSwgcmVtb3ZlUGxheWxpc3RJdGVtQ2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgby5zZXRJdGVtQ2FsbGJhY2sobnVsbCkgfSwgZ2V0UGxheWxpc3RJdGVtUHJvbWlzZTogZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG8uZ2V0SXRlbVByb21pc2UoZSkgfSwgZ2V0RmxvYXRpbmc6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICEhby5nZXQoImlzRmxvYXRpbmciKSB9LCBzZXRGbG9hdGluZzogZnVuY3Rpb24gKGUpIHsgby5zZXRDb25maWcoeyBmbG9hdGluZzogeyBtb2RlOiBlID8gImFsd2F5cyIgOiAibmV2ZXIiIH0gfSkgfSwgZ2V0Q2hhcHRlcnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG8uZ2V0Q2hhcHRlcnMoKSB9LCBnZXRDdXJyZW50Q2hhcHRlcjogZnVuY3Rpb24gKCkgeyByZXR1cm4gby5nZXRDdXJyZW50Q2hhcHRlcigpIH0sIHNldENoYXB0ZXI6IGZ1bmN0aW9uIChlKSB7IHJldHVybiBvLnNldENoYXB0ZXIoZSkgfSwgc2V0dXBEeW5hbWljUGx1Z2luOiBmdW5jdGlvbiAoZSwgdCkgeyByZXR1cm4gZSA/IE0odGhpcywgZSwgdCwgby5nZXQoInBsdWdpbnMiKSkgOiBQcm9taXNlLnJlc29sdmUoKSB9LCBkZXN0cm95RHluYW1pY1BsdWdpbjogZnVuY3Rpb24gKGUpIHsgaWYgKGUpIHJldHVybiBOKHRoaXMsIGUpIH0gfSkgfSBPYmplY3QuYXNzaWduKFEucHJvdG90eXBlLCB7IG9uOiBmdW5jdGlvbiAoZSwgdCwgbikgeyByZXR1cm4gTy5vbi5jYWxsKHRoaXMsIGUsIHQsIG4pIH0sIG9uY2U6IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHJldHVybiBPLk9vLmNhbGwodGhpcywgZSwgdCwgbikgfSwgb2ZmOiBmdW5jdGlvbiAoZSwgdCwgbikgeyByZXR1cm4gTy5BVS5jYWxsKHRoaXMsIGUsIHQsIG4pIH0sIHRyaWdnZXI6IGZ1bmN0aW9uIChlLCB0KSB7IHJldHVybiAoKHQgPSBWLkF5LmlzT2JqZWN0KHQpID8gT2JqZWN0LmFzc2lnbih7fSwgdCkgOiB7fSkudHlwZSA9IGUsIEIuQS5kZWJ1ZykgPyBPLmhaLmNhbGwodGhpcywgZSwgdCkgOiBPLkNELmNhbGwodGhpcywgZSwgdCkgfSwgZ2V0UGx1Z2luOiBmdW5jdGlvbiAoZSkgeyByZXR1cm4gdGhpcy5wbHVnaW5zW2VdIH0sIGFkZFBsdWdpbjogZnVuY3Rpb24gKGUsIHQpIHsgdGhpcy5wbHVnaW5zW2VdID0gdCwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgdC5hZGRUb1BsYXllciAmJiAodGhpcy5pc1JlYWR5KCkgPyB0LmFkZFRvUGxheWVyLmNhbGwodGhpcywgITApIDogdGhpcy5vbigicmVhZHkiLCBmdW5jdGlvbiAoKSB7IHQuYWRkVG9QbGF5ZXIuY2FsbCh0aGlzLCAhMSkgfSkpLCB0LnJlc2l6ZSAmJiB0aGlzLm9uKCJyZXNpemUiLCB0LnJlc2l6ZUhhbmRsZXIpIH0sIHJlZ2lzdGVyUGx1Z2luOiBmdW5jdGlvbiAoZSwgdCwgbikgeyAoMCwgYi5GMykoZSwgdCwgbikgfSwgZ2V0QWRCbG9jazogZnVuY3Rpb24gKCkgeyByZXR1cm4gITEgfSwgcGxheUFkOiBmdW5jdGlvbiAoZSkgeyB9LCBwYXVzZUFkOiBmdW5jdGlvbiAoZSkgeyB9LCBza2lwQWQ6IGZ1bmN0aW9uICgpIHsgfSwgc2V0QWRNYWNyb3M6IGZ1bmN0aW9uIChlKSB7IH0sIGdldEFkTWFjcm9zOiBmdW5jdGlvbiAoKSB7IH0sIHVwZGF0ZVF1ZXJ5SlNBZFRhcmdldGluZzogZnVuY3Rpb24gKGUpIHsgfSwgZ2V0UXVlcnlKU0FkVGFyZ2V0aW5nOiBmdW5jdGlvbiAoKSB7IH0gfSksIG4ucCA9ICgwLCB5LmxvYWRGcm9tKSgpOyB2YXIgWSA9IGZ1bmN0aW9uIChlKSB7IGZvciAodmFyIHQgPSAwOyB0IDwgQS5BLmxlbmd0aDsgdCsrKWlmIChBLkFbdF0uaWQgPT09IGUpIHJldHVybiBBLkFbdF07IHJldHVybiBudWxsIH0sIFcgPSBmdW5jdGlvbiAoZSkgeyBpZiAoZSA/ICJzdHJpbmciID09IHR5cGVvZiBlID8gKHQgPSBZKGUpKSB8fCAobiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpKSA6ICJudW1iZXIiID09IHR5cGVvZiBlID8gdCA9IEEuQVtlXSA6IGUubm9kZVR5cGUgJiYgKHQgPSBZKChuID0gZSkuaWQgfHwgbi5nZXRBdHRyaWJ1dGUoImRhdGEtandwbGF5ZXItaWQiKSkpIDogdCA9IEEuQVsiMCJdLCB0KSByZXR1cm4gdDsgaWYgKG4pIHsgdmFyIHQsIG4sIHIgPSBuZXcgUShuKTsgcmV0dXJuIEEuQS5wdXNoKHIpLCByIH0gcmV0dXJuIHsgcmVnaXN0ZXJQbHVnaW46IGIuRjMgfSB9LCBHID0gZnVuY3Rpb24gKGUpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgeyBhcGk6IHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBFIH0sIHNldDogZnVuY3Rpb24gKCkgeyB9IH0sIHZlcnNpb246IHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB3LnIgfSwgc2V0OiBmdW5jdGlvbiAoKSB7IH0gfSwgZGVidWc6IHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBCLkEuZGVidWcgfSwgc2V0OiBmdW5jdGlvbiAoZSkgeyBCLkEuZGVidWcgPSAhIWUgfSB9IH0pIH07IEcoVyk7IHZhciBLID0gbigyODg1KSwgWCA9IG4oNzA2OSksIEogPSBuKDE1MzUpLCBaID0gbig5NjE2KSwgZWUgPSBuKDk2MzApLCBldCA9IG4oMzA3OCksIGVuID0gVi5BeS5leHRlbmQsIGVyID0ge307IGVyLl8gPSBWLkF5LCBlci51dGlscyA9IE9iamVjdC5hc3NpZ24oUi5BLCB7IGtleTogWC5BeSwgZXh0ZW5kOiBlbiwgc2NyaXB0bG9hZGVyOiBKLkF5LCByc3NwYXJzZXI6IHsgcGFyc2U6IGVlLkEgfSwgdGVhOiBaLlksIFVJOiBLLkF5IH0pLCBlci51dGlscy5jc3Muc3R5bGUgPSBlci51dGlscy5zdHlsZSwgZXIudmlkID0gZXQuQTsgdmFyIGV1ID0gbigyMDc4KSwgZWkgPSBSLkEubG9nZ2VyLmNoaWxkKCJhcGkvYXBpLXB1YmxpYyIpLCBlbyA9IC9eKD86b24oPzpjZSk/fG9mZnx0cmlnZ2VyKSQvLCBlYSA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHZhciByID0gZS5nZXRDb25maWcoKVtuXTsgcmV0dXJuIHRbbl0gPSByLCByIH0sIGVzID0gZnVuY3Rpb24gKGUpIHsgZWkud2FybigiVGhlIEFQSSBtZXRob2QgandwbGF5ZXIoKS4iLmNvbmNhdChlLCAiKCkgaXMgZGlzYWJsZWQgaW4gdGhlIGZyZWUgZWRpdGlvbiBvZiBKVyBQbGF5ZXIuIikpIH0sIGVjID0gZnVuY3Rpb24gKGUsIHQpIHsgc3dpdGNoIChlKSB7IGNhc2UgInNldHVwIjogcmV0dXJuICEhdDsgY2FzZSAiZ2V0U2FmZVJlZ2lvbiI6IGNhc2UgInBhdXNlQWQiOiBjYXNlICJzZXRDb250cm9scyI6IGNhc2UgInNldEZ1bGxzY3JlZW4iOiBjYXNlICJzZXRNdXRlIjogcmV0dXJuICEhdCA9PT0gdCA/IHQgOiB2b2lkIDA7IGNhc2UgInNldFBsYXlsaXN0SXRlbSI6IGNhc2UgImdldFBsYXlsaXN0SXRlbSI6IHJldHVybiAoMCB8IHQpID09PSB0ID8gdCA6IHZvaWQgMDsgY2FzZSAic2V0UGxheWJhY2tSYXRlIjogY2FzZSAic2V0Vm9sdW1lIjogcmV0dXJuIE51bWJlcih0KTsgY2FzZSAic2V0Q29uZmlnIjogcmV0dXJuIE9iamVjdC5rZXlzKE9iamVjdCh0KSkuam9pbigiLCIpOyBjYXNlICJvbiI6IGNhc2UgIm9uY2UiOiBjYXNlICJvZmYiOiBjYXNlICJ0cmlnZ2VyIjogY2FzZSAiZ2V0UGx1Z2luIjogY2FzZSAiYWRkUGx1Z2luIjogY2FzZSAicmVnaXN0ZXJQbHVnaW4iOiByZXR1cm4gIiIuY29uY2F0KHQpIH1yZXR1cm4gbnVsbCB9LCBlbCA9IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuID0geyByZWFzb246ICJwbGF5IiAhPT0gZSAmJiAic2VlayIgIT09IGUgJiYgInBhdXNlIiAhPT0gZSAmJiAoMCwgZXUuYykoKSA/ICJpbnRlcmFjdGlvbiIgOiAiZXh0ZXJuYWwiIH07IHN3aXRjaCAoZSkgeyBjYXNlICJwbGF5IjogY2FzZSAicGF1c2UiOiBjYXNlICJwbGF5VG9nZ2xlIjogY2FzZSAicGxheWxpc3ROZXh0IjogY2FzZSAicGxheWxpc3RQcmV2IjogY2FzZSAibmV4dCI6IHRbMF0gPSBuOyBicmVhazsgY2FzZSAic2VlayI6IGNhc2UgInBsYXlsaXN0SXRlbSI6IHRbMV0gPSBuIH0gfSwgZWYgPSBmdW5jdGlvbiAoZSwgdCwgbikgeyB0cnkgeyB2YXIgciA9IGVjKHQsIG4pOyBlLnRyYWNrRXh0ZXJuYWxBUElVc2FnZSh0LCByKSB9IGNhdGNoIChlKSB7IEIuQS5kZWJ1ZyAmJiBlaS53YXJuKGUpIH0gfSwgZWQgPSBmdW5jdGlvbiAoZSwgdCkgeyBpZiAodC5sZW5ndGgpIHsgdmFyIG4gPSBlLmdldFBsdWdpbigiandwc3J2Iik7IChudWxsID09IG4gPyB2b2lkIDAgOiBuLnRyYWNrRXh0ZXJuYWxBUElVc2FnZSkgJiYgKHQuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyBlZihuLCBlWzBdLCBlWzFdKSB9KSwgdC5sZW5ndGggPSAwKSB9IH0sIGVoID0gZnVuY3Rpb24gKGUsIHQsIG4sIHIsIHUpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgZm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGgsIG8gPSBBcnJheShpKSwgYSA9IDA7IGEgPCBpOyBhKyspb1thXSA9IGFyZ3VtZW50c1thXTsgdmFyIHMgPSBvWzBdLCBjID0gdC5fdHJhY2tDYWxsUXVldWUgfHwgKHQuX3RyYWNrQ2FsbFF1ZXVlID0gW10pLCBsID0gZW8udGVzdChuKSwgZiA9IGwgJiYgb1sxXSAmJiBvWzFdLl9jYWxsYmFjazsgaWYgKCJmcmVlIiA9PT0gKHUuZWRpdGlvbiB8fCBlYSh0LCB1LCAiZWRpdGlvbiIpKSkgeyBpZiAoWyJhZGRCdXR0b24iLCAiYWRkQ3VlcyIsICJkZXRhY2hNZWRpYSIsICJsb2FkIiwgIm5leHQiLCAicGF1c2UiLCAicGxheSIsICJwbGF5bGlzdEl0ZW0iLCAicGxheWxpc3ROZXh0IiwgInBsYXlsaXN0UHJldiIsICJwbGF5VG9nZ2xlIiwgInJlc2l6ZSIsICJzZWVrIiwgInNldENhcHRpb25zIiwgInNldENvbmZpZyIsICJzZXRDb250cm9scyIsICJzZXRDdWVzIiwgInNldEZ1bGxzY3JlZW4iLCAic2V0TXV0ZSIsICJzZXRQbGF5YmFja1JhdGUiLCAic2V0UGxheWxpc3RJdGVtIiwgInNldFZvbHVtZSIsICJzdG9wIl0uaW5kZXhPZihuKSA+IC0xKSByZXR1cm4gZXMobiksIGU7IGlmIChbImNyZWF0ZUluc3RyZWFtIiwgInNldEN1cnJlbnRBdWRpb1RyYWNrIiwgInNldEN1cnJlbnRDYXB0aW9ucyIsICJzZXRDdXJyZW50UXVhbGl0eSJdLmluZGV4T2YobikgPiAtMSkgcmV0dXJuIGVzKG4pLCBudWxsIH0gaWYgKGYgfHwgYy5wdXNoKFtuLCBzXSksIGwpIHJldHVybiBlZCh0LCBjKSwgdFtuXS5hcHBseShlLCBvKTsgZWwobiwgbyk7IHZhciBkID0gdFtuXS5hcHBseSh0LCAoMCwgRC5fKShvKSk7IHJldHVybiAoInJlbW92ZSIgPT09IG4gPyB0Lm9mZi5jYWxsKGUpIDogInNldHVwIiA9PT0gbiAmJiAodC5vZmYuY2FsbChlKSwgdC5vZmYocy5ldmVudHMsIG51bGwsIHQpLCB0Lm9uLmNhbGwoZSwgcy5ldmVudHMsIG51bGwsIGUpLCB0Lm9uKCJhbGwiLCBmdW5jdGlvbiAobiwgaSkgeyBpZiAoInJlYWR5IiA9PT0gbikgeyB2YXIgbyA9IE9iamVjdC5rZXlzKHQpLmZpbHRlcihmdW5jdGlvbiAoZSkgeyByZXR1cm4gIl8iICE9PSBlWzBdICYmIC0xID09PSByLmluZGV4T2YoZSkgJiYgImZ1bmN0aW9uIiA9PSB0eXBlb2YgdFtlXSB9KSwgYSA9IHIuY29uY2F0KG8pOyBvLmZvckVhY2goZnVuY3Rpb24gKG4pIHsgZVtuXSA9IGVoKGUsIHQsIG4sIGEsIHUpIH0pIH0gdC50cmlnZ2VyLmNhbGwoZSwgbiwgaSksIGVkKHQsIGMpIH0pKSwgZWQodCwgYyksIGQgPT09IHQpID8gZSA6IGQgfSB9LCBlcCA9IFsiZ2V0TWVkaWFFbGVtZW50Il0sIGVEID0gZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHsgdmFyIHUgPSBPYmplY3Qua2V5cyhuKTsgdS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7IHZhciBvID0gbltpXTsgLTEgPT09IGVwLmluZGV4T2YoaSkgJiYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIG8gJiYgIkV2ZW50cyIgIT09IGkgPyBlW2ldID0gZWgoZSwgdCwgaSwgdSwgcikgOiAiX2V2ZW50cyIgPT09IGkgPyBlLl9ldmVudHMgPSB7fSA6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBpLCB7IGVudW1lcmFibGU6ICEwLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5baV0gfSB9KSkgfSkgfSwgZXYgPSBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IHt9OyBlRCh0aGlzLCBlLCBlLCB0KSwgZUQodGhpcywgZSwgUS5wcm90b3R5cGUsIHQpIH0sIGVnID0gd2luZG93OyBPYmplY3QuYXNzaWduKFcsIGVyKTsgdmFyIGVtID0gZnVuY3Rpb24gKGUpIHsgdmFyIHQgPSBXKGUpOyByZXR1cm4gdC51bmlxdWVJZCA/IHQuX3B1YmxpY0FwaSB8fCAodC5fcHVibGljQXBpID0gbmV3IGV2KHQpKSA6IHQgfTsgT2JqZWN0LmFzc2lnbihlbSwgZXIpLCBHKGVtKSwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZWcuZGVmaW5lICYmIGVnLmRlZmluZS5hbWQgJiYgZWcuZGVmaW5lKFtdLCBmdW5jdGlvbiAoKSB7IHJldHVybiBlbSB9KTsgdmFyIGV5ID0gZW07IGVnLmp3cGxheWVyICYmIChleSA9IGVnLmp3cGxheWVyKTsgbGV0IGVBID0gZXkgfSwgMzI3NyhlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgZkw6ICgpID0+IEQsIEF5OiAoKSA9PiB2LCBGMzogKCkgPT4gcCB9KTsgdmFyIHIgPSBuKDEzNzQpLCB1ID0gbigxNjM1KSwgaSA9IG4oMTY0MiksIG8gPSBuKDgyNTMpLCBhID0gbig5NjIxKTsgbGV0IHMgPSBmdW5jdGlvbiAoKSB7IHRoaXMubG9hZCA9IGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7IHJldHVybiBuICYmICh2b2lkIDAgPT09IG4gPyAidW5kZWZpbmVkIiA6ICgwLCBpLl8pKG4pKSA9PT0gIm9iamVjdCIgPyBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhuKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUgfSkubWFwKGZ1bmN0aW9uICh1KSB7IHZhciBpID0gblt1XTsgcmV0dXJuIHQuc2V0dXBQbHVnaW4odSkudGhlbihmdW5jdGlvbiAodCkgeyBpZiAoIXIuYXR0cmlidXRlcy5fZGVzdHJveWVkKSByZXR1cm4gKDAsIGEub3QpKHQsIGksIGUpIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiAodC5yZW1vdmVQbHVnaW4odSksIGUuY29kZSkgPyBlIDogbmV3IG8uTWsobnVsbCwgKDAsIGEuckUpKHUpLCBlKSB9KSB9KSkgOiBQcm9taXNlLnJlc29sdmUoKSB9IH07IHZhciBjID0gbig0OTQpLCBsID0gbig5NDA3KSwgZiA9IG4oMTA1MSksIGQgPSB7fSwgaCA9IG5ldyAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBlKCkgeyAoMCwgYy5fKSh0aGlzLCBlKSB9IHJldHVybiAoMCwgbC5fKShlLCBbeyBrZXk6ICJzZXR1cFBsdWdpbiIsIHZhbHVlOiBmdW5jdGlvbiAoZSkgeyB2YXIgdCA9IHRoaXMuZ2V0UGx1Z2luKGUpOyByZXR1cm4gdCA/IHQucHJvbWlzZSA6IHRoaXMuYWRkUGx1Z2luKGUpLmxvYWQoKSB9IH0sIHsga2V5OiAiYWRkUGx1Z2luIiwgdmFsdWU6IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gKDAsIGEuZEIpKGUpLCBuID0gZFt0XTsgcmV0dXJuIG4gfHwgKG4gPSBuZXcgZi5BKGUpLCBkW3RdID0gbiksIG4gfSB9LCB7IGtleTogImdldFBsdWdpbiIsIHZhbHVlOiBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZFsoMCwgYS5kQikoZSldIH0gfSwgeyBrZXk6ICJyZW1vdmVQbHVnaW4iLCB2YWx1ZTogZnVuY3Rpb24gKGUpIHsgZGVsZXRlIGRbKDAsIGEuZEIpKGUpXSB9IH0sIHsga2V5OiAiZ2V0UGx1Z2lucyIsIHZhbHVlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkIH0gfV0pLCBlIH0oKSksIHAgPSBmdW5jdGlvbiAoZSwgdCwgbikgeyB2YXIgciA9IGguYWRkUGx1Z2luKGUpOyByLmpzIHx8IHIucmVnaXN0ZXJQbHVnaW4oZSwgdCwgbikgfSwgRCA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHJldHVybiAoMCwgci5fKShmdW5jdGlvbiAoKSB7IHZhciByLCBpLCBvOyByZXR1cm4gKDAsIHUuWUgpKHRoaXMsIGZ1bmN0aW9uICh1KSB7IHJldHVybiAociA9ICgwLCBhLmRCKShlKSwgaSA9IGguZ2V0UGx1Z2luKHIpKSA/IChuLnV0aWxzLmxvZ2dlci53YXJuKCInandwbGF5ZXIvcGx1Z2lucy9tb2RlbCBKVyBQbHVnaW4gXCIiLmNvbmNhdChyLCAnIiBhbHJlYWR5IGxvYWRlZCBmcm9tICInKS5jb25jYXQoaS51cmwsICciLiBJZ25vcmluZyAiJykuY29uY2F0KGUsICcuIicpKSwgWzIsICgwLCBhLm90KShpLCB0LCBuKV0pIDogKG8gPSBlLCByID09PSBlICYmIChvID0gKDAsIGEuR3YpKGUpIHx8IGUpLCBbMiwgaC5zZXR1cFBsdWdpbihvKS50aGVuKGZ1bmN0aW9uIChlKSB7IHJldHVybiAoMCwgYS5vdCkoZSwgdCwgbikgfSldKSB9KSB9KSgpIH07IGZ1bmN0aW9uIHYoZSwgdCkgeyB2YXIgbiA9IGUuZ2V0KCJwbHVnaW5zIik7IHJldHVybiB3aW5kb3cuandwbGF5ZXJQbHVnaW5Kc29ucCA9IHAsIChlLnBsdWdpbkxvYWRlciA9IGUucGx1Z2luTG9hZGVyIHx8IG5ldyBzKS5sb2FkKHQsIGgsIG4sIGUpLnRoZW4oZnVuY3Rpb24gKHQpIHsgaWYgKCFlLmF0dHJpYnV0ZXMuX2Rlc3Ryb3llZCkgcmV0dXJuIGRlbGV0ZSB3aW5kb3cuandwbGF5ZXJQbHVnaW5Kc29ucCwgdCB9KSB9IH0sIDU0NDUoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IEE6ICgpID0+IHUgfSk7IHZhciByID0gbig4NTg2KTsgZnVuY3Rpb24gdSgpIHsgdmFyIGUsIHQ7IHJldHVybiBlID0gd2luZG93LCB0ID0gZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoLCBlLmxvY2F0aW9uICE9PSBlLnBhcmVudC5sb2NhdGlvbiAmJiAoMCwgci5TTSkodCwgImlzQU1QIikgfSB9LCAzODQ5KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBBOiAoKSA9PiB1IH0pOyB2YXIgciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHIuX2lmcmFtZSB9OyByLm1vY2sgPSBmdW5jdGlvbiAoZSkgeyByLl9pZnJhbWUgPSBlIH0sIHIudW5tb2NrID0gZnVuY3Rpb24gKCkgeyByLl9pZnJhbWUgPSByLl9vcmlnaW5hbCB9LCByLl9pZnJhbWUgPSB3aW5kb3cudG9wICE9PSB3aW5kb3cuc2VsZiwgci5fb3JpZ2luYWwgPSByLl9pZnJhbWU7IGxldCB1ID0gciB9LCA3MDY5KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBBeTogKCkgPT4gZCwgRkU6ICgpID0+IGMgfSk7IHZhciByID0gbig0OTQpLCB1ID0gbig5NDA3KSwgaSA9IG4oOTYxNiksIG8gPSBuKDUyOTMpLCBhID0gbig0OTE2KSwgcyA9IG4oODI1MyksIGMgPSAxMDAwMTMsIGwgPSAiaW52YWxpZCIsIGYgPSBmdW5jdGlvbiAoZSkgeyB0cnkgeyB2YXIgdCwgbiwgciwgdSA9ICgwLCBpLlkpKGUgfHwgIiIsICgwLCBhLmwpKCJORGgyYVUxQ2IwTkhSRzVoY0RGUlpRPT0iKSkuc3BsaXQoIi8iKTsgaWYgKHQgPSB1WzBdLCAicHJvIiA9PT0gdCAmJiAodCA9ICJwcmVtaXVtIiksICgwLCBvLkEpKHQpKCJzZXR1cCIpIHx8ICh0ID0gbCksIHUubGVuZ3RoID4gMikgeyBuID0gdVsxXTsgdmFyIHMgPSBwYXJzZUludCh1WzJdLCAxMCk7IHMgPiAwICYmIChyID0gbmV3IERhdGUpLnNldFRpbWUocykgfSB9IGNhdGNoIChlKSB7IHQgPSBsIH0gcmV0dXJuIHsgZWRpdGlvbjogdCwgdG9rZW46IG4sIGV4cGlyYXRpb246IHIgfSB9OyBsZXQgZCA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZSh0KSB7ICgwLCByLl8pKHRoaXMsIGUpLCB0aGlzLmtleURhdGEgPSBmKHQpLCB0aGlzLmVkaXRpb24gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmtleURhdGEuZWRpdGlvbiB9LCB0aGlzLnRva2VuID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5rZXlEYXRhLnRva2VuIH0sIHRoaXMuYW5hbHl0aWNzSWQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmtleURhdGEudG9rZW4gfSwgdGhpcy5leHBpcmF0aW9uID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5rZXlEYXRhLmV4cGlyYXRpb24gfSwgdGhpcy5kdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMua2V5RGF0YS5leHBpcmF0aW9uID8gdGhpcy5rZXlEYXRhLmV4cGlyYXRpb24uZ2V0VGltZSgpIC0gbmV3IERhdGUoKS5nZXRUaW1lKCkgOiAwIH0sIHRoaXMuZXJyb3IgPSBmdW5jdGlvbiAoKSB7IHZhciBlOyByZXR1cm4gdm9pZCAwID09PSB0ID8gZSA9IDEwMDAxMSA6IHRoaXMua2V5RGF0YS5lZGl0aW9uICE9PSBsICYmIHRoaXMua2V5RGF0YS50b2tlbiA/IDAgPiB0aGlzLmR1cmF0aW9uKCkgJiYgKGUgPSBjKSA6IGUgPSAxMDAwMTIsIGUgPyBuZXcgcy5NayhzLmtNLCBlKSA6IG51bGwgfSB9IHJldHVybiAoMCwgdS5fKShlLCBudWxsLCBbeyBrZXk6ICJnZXRBbmFseXRpY3NJZCIsIHZhbHVlOiBmdW5jdGlvbiAoZSkgeyBpZiAoZSkgcmV0dXJuIGYoZSkudG9rZW4gfSB9XSksIGUgfSgpIH0sIDYwNjgoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IEU6ICgpID0+IGkgfSk7IHZhciByID0gbigzODQ5KSwgdSA9IGZ1bmN0aW9uIChlKSB7IHZhciB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpOyByZXR1cm4gdC5ocmVmID0gZSwgdCB9LCBpID0gZnVuY3Rpb24gKCkgeyB2YXIgZSA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0OyBpZiAoKDAsIHIuQSkoKSkgeyBlID0gKGRvY3VtZW50LnJlZmVycmVyID8gdShkb2N1bWVudC5yZWZlcnJlcikgOiB7fSkuaG9zdDsgdHJ5IHsgZSA9IGUgfHwgd2luZG93LnRvcC5sb2NhdGlvbi5ob3N0IH0gY2F0Y2ggKGUpIHsgfSB9IHJldHVybiBlIH0gfSwgOTYxNihlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgWTogKCkgPT4gYSB9KTsgdmFyIHIgPSBuKDQ5MTYpLCB1ID0gZnVuY3Rpb24gKGUpIHsgdHJ5IHsgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoZSkpIH0gY2F0Y2ggKHQpIHsgcmV0dXJuIGUgfSB9LCBpID0gZnVuY3Rpb24gKGUpIHsgZm9yICh2YXIgdCA9IEFycmF5KE1hdGguY2VpbChlLmxlbmd0aCAvIDQpKSwgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgbisrKXRbbl0gPSBlLmNoYXJDb2RlQXQoNCAqIG4pICsgKGUuY2hhckNvZGVBdCg0ICogbiArIDEpIDw8IDgpICsgKGUuY2hhckNvZGVBdCg0ICogbiArIDIpIDw8IDE2KSArIChlLmNoYXJDb2RlQXQoNCAqIG4gKyAzKSA8PCAyNCk7IHJldHVybiB0IH0sIG8gPSBmdW5jdGlvbiAoZSkgeyBmb3IgKHZhciB0ID0gQXJyYXkoZS5sZW5ndGgpLCBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspdFtuXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMjU1ICYgZVtuXSwgZVtuXSA+Pj4gOCAmIDI1NSwgZVtuXSA+Pj4gMTYgJiAyNTUsIGVbbl0gPj4+IDI0ICYgMjU1KTsgcmV0dXJuIHQuam9pbigiIikgfSwgYSA9IGZ1bmN0aW9uIChlLCB0KSB7IGlmIChlID0gU3RyaW5nKGUpLCB0ID0gU3RyaW5nKHQpLCAwID09PSBlLmxlbmd0aCkgcmV0dXJuICIiOyBmb3IgKHZhciBuLCBhLCBzID0gaSgoMCwgci5sKShlKSksIGMgPSBpKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0KSkuc2xpY2UoMCwgMTYpKSwgbCA9IHMubGVuZ3RoLCBmID0gc1tsIC0gMV0sIGQgPSBzWzBdLCBoID0gMHg5ZTM3NzliOSAqIE1hdGguZmxvb3IoNiArIDUyIC8gbCk7IGg7KSB7IGEgPSBoID4+PiAyICYgMzsgZm9yICh2YXIgcCA9IGwgLSAxOyBwID49IDA7IHAtLSluID0gKChmID0gc1twID4gMCA/IHAgLSAxIDogbCAtIDFdKSA+Pj4gNSBeIGQgPDwgMikgKyAoZCA+Pj4gMyBeIGYgPDwgNCkgXiAoaCBeIGQpICsgKGNbMyAmIHAgXiBhXSBeIGYpLCBkID0gc1twXSAtPSBuOyBoIC09IDB4OWUzNzc5YjkgfSByZXR1cm4gdShvKHMpLnJlcGxhY2UoL1wwKyQvLCAiIikpIH0gfSwgNzgzNShlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0IjsgZnVuY3Rpb24gcihlLCB0KSB7IChudWxsID09IHQgfHwgdCA+IGUubGVuZ3RoKSAmJiAodCA9IGUubGVuZ3RoKTsgZm9yICh2YXIgbiA9IDAsIHIgPSBBcnJheSh0KTsgbiA8IHQ7IG4rKylyW25dID0gZVtuXTsgcmV0dXJuIHIgfSBuLmQodCwgeyBfOiAoKSA9PiByIH0pIH0sIDYxODQoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IGZ1bmN0aW9uIHIoZSkgeyBpZiAodm9pZCAwID09PSBlKSB0aHJvdyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IHJldHVybiBlIH0gbi5kKHQsIHsgXzogKCkgPT4gciB9KSB9LCAxMzc0KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBmdW5jdGlvbiByKGUsIHQsIG4sIHIsIHUsIGksIG8pIHsgdHJ5IHsgdmFyIGEgPSBlW2ldKG8pLCBzID0gYS52YWx1ZSB9IGNhdGNoIChlKSB7IG4oZSk7IHJldHVybiB9IGEuZG9uZSA/IHQocykgOiBQcm9taXNlLnJlc29sdmUocykudGhlbihyLCB1KSB9IGZ1bmN0aW9uIHUoZSkgeyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgdCA9IHRoaXMsIG4gPSBhcmd1bWVudHM7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAodSwgaSkgeyB2YXIgbyA9IGUuYXBwbHkodCwgbik7IGZ1bmN0aW9uIGEoZSkgeyByKG8sIHUsIGksIGEsIHMsICJuZXh0IiwgZSkgfSBmdW5jdGlvbiBzKGUpIHsgcihvLCB1LCBpLCBhLCBzLCAidGhyb3ciLCBlKSB9IGEodm9pZCAwKSB9KSB9IH0gbi5kKHQsIHsgXzogKCkgPT4gdSB9KSB9LCA0ODgwKGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBfOiAoKSA9PiBvIH0pOyB2YXIgciA9IG4oMzIzOSksIHUgPSBuKDY3MzIpLCBpID0gbig5MDI5KTsgZnVuY3Rpb24gbyhlLCB0LCBuKSB7IHJldHVybiB0ID0gKDAsIHIuXykodCksICgwLCBpLl8pKGUsICgwLCB1Ll8pKCkgPyBSZWZsZWN0LmNvbnN0cnVjdCh0LCBuIHx8IFtdLCAoMCwgci5fKShlKS5jb25zdHJ1Y3RvcikgOiB0LmFwcGx5KGUsIG4pKSB9IH0sIDQ5NChlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0IjsgZnVuY3Rpb24gcihlLCB0KSB7IGlmICghKGUgaW5zdGFuY2VvZiB0KSkgdGhyb3cgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKSB9IG4uZCh0LCB7IF86ICgpID0+IHIgfSkgfSwgOTQwNyhlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0IjsgZnVuY3Rpb24gcihlLCB0KSB7IGZvciAodmFyIG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykgeyB2YXIgciA9IHRbbl07IHIuZW51bWVyYWJsZSA9IHIuZW51bWVyYWJsZSB8fCAhMSwgci5jb25maWd1cmFibGUgPSAhMCwgInZhbHVlIiBpbiByICYmIChyLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgci5rZXksIHIpIH0gfSBmdW5jdGlvbiB1KGUsIHQsIG4pIHsgcmV0dXJuIHQgJiYgcihlLnByb3RvdHlwZSwgdCksIG4gJiYgcihlLCBuKSwgZSB9IG4uZCh0LCB7IF86ICgpID0+IHUgfSkgfSwgNDY3KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBmdW5jdGlvbiByKGUsIHQsIG4pIHsgcmV0dXJuIHQgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCB0LCB7IHZhbHVlOiBuLCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVt0XSA9IG4sIGUgfSBuLmQodCwgeyBfOiAoKSA9PiByIH0pIH0sIDQ2NChlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgXzogKCkgPT4gdSB9KTsgdmFyIHIgPSBuKDMyMzkpOyBmdW5jdGlvbiB1KGUsIHQsIG4pIHsgcmV0dXJuICh1ID0gInUiID4gdHlwZW9mIFJlZmxlY3QgJiYgUmVmbGVjdC5nZXQgPyBSZWZsZWN0LmdldCA6IGZ1bmN0aW9uIChlLCB0LCBuKSB7IHZhciB1ID0gZnVuY3Rpb24gKGUsIHQpIHsgZm9yICg7ICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwgdCkgJiYgbnVsbCAhPT0gKGUgPSAoMCwgci5fKShlKSk7KTsgcmV0dXJuIGUgfShlLCB0KTsgaWYgKHUpIHsgdmFyIGkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHUsIHQpOyByZXR1cm4gaS5nZXQgPyBpLmdldC5jYWxsKG4gfHwgZSkgOiBpLnZhbHVlIH0gfSkoZSwgdCwgbiB8fCBlKSB9IH0sIDMyMzkoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IGZ1bmN0aW9uIHIoZSkgeyByZXR1cm4gKHIgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpIH0pKGUpIH0gbi5kKHQsIHsgXzogKCkgPT4gciB9KSB9LCA4ODQoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IF86ICgpID0+IHUgfSk7IHZhciByID0gbig2NDY3KTsgZnVuY3Rpb24gdShlLCB0KSB7IGlmICgiZnVuY3Rpb24iICE9IHR5cGVvZiB0ICYmIG51bGwgIT09IHQpIHRocm93IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTsgZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHQgJiYgdC5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IGUsIHdyaXRhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCB9IH0pLCB0ICYmICgwLCByLl8pKGUsIHQpIH0gfSwgMzc1MChlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0IjsgZnVuY3Rpb24gcihlLCB0KSB7IHJldHVybiBudWxsICE9IHQgJiYgInUiID4gdHlwZW9mIFN5bWJvbCAmJiB0W1N5bWJvbC5oYXNJbnN0YW5jZV0gPyAhIXRbU3ltYm9sLmhhc0luc3RhbmNlXShlKSA6IGUgaW5zdGFuY2VvZiB0IH0gbi5kKHQsIHsgXzogKCkgPT4gciB9KSB9LCA2NzMyKGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBmdW5jdGlvbiByKCkgeyB0cnkgeyB2YXIgZSA9ICFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHsgfSkpIH0gY2F0Y2ggKGUpIHsgfSByZXR1cm4gKHIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAhIWUgfSkoKSB9IG4uZCh0LCB7IF86ICgpID0+IHIgfSkgfSwgMTg5MyhlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgXzogKCkgPT4gdSB9KTsgdmFyIHIgPSBuKDQ2Nyk7IGZ1bmN0aW9uIHUoZSkgeyBmb3IgKHZhciB0ID0gMTsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKykgeyB2YXIgbiA9IG51bGwgIT0gYXJndW1lbnRzW3RdID8gYXJndW1lbnRzW3RdIDoge30sIHUgPSBPYmplY3Qua2V5cyhuKTsgImZ1bmN0aW9uIiA9PSB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAmJiAodSA9IHUuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMobikuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sIGUpLmVudW1lcmFibGUgfSkpKSwgdS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7ICgwLCByLl8pKGUsIHQsIG5bdF0pIH0pIH0gcmV0dXJuIGUgfSB9LCA1NDU2KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBmdW5jdGlvbiByKGUsIHQpIHsgcmV0dXJuIHQgPSBudWxsICE9IHQgPyB0IDoge30sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogKGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciByID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgbi5wdXNoLmFwcGx5KG4sIHIpIH0gcmV0dXJuIG4gfSkoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBuLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIG4pKSB9KSwgZSB9IG4uZCh0LCB7IF86ICgpID0+IHIgfSkgfSwgOTAyOShlLCB0LCBuKSB7ICJ1c2Ugc3RyaWN0Ijsgbi5kKHQsIHsgXzogKCkgPT4gaSB9KTsgdmFyIHIgPSBuKDYxODQpLCB1ID0gbigxNjQyKTsgZnVuY3Rpb24gaShlLCB0KSB7IHJldHVybiB0ICYmICgib2JqZWN0IiA9PT0gKDAsIHUuXykodCkgfHwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgdCkgPyB0IDogKDAsIHIuXykoZSkgfSB9LCA2NDY3KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBmdW5jdGlvbiByKGUsIHQpIHsgcmV0dXJuIChyID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIChlLCB0KSB7IHJldHVybiBlLl9fcHJvdG9fXyA9IHQsIGUgfSkoZSwgdCkgfSBuLmQodCwgeyBfOiAoKSA9PiByIH0pIH0sIDM4MjcoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IF86ICgpID0+IHUgfSk7IHZhciByID0gbig1MTM0KTsgZnVuY3Rpb24gdShlLCB0KSB7IHJldHVybiBmdW5jdGlvbiAoZSkgeyBpZiAoQXJyYXkuaXNBcnJheShlKSkgcmV0dXJuIGUgfShlKSB8fCBmdW5jdGlvbiAoZSwgdCkgeyB2YXIgbiwgciwgdSA9IG51bGwgPT0gZSA/IG51bGwgOiAidSIgPiB0eXBlb2YgU3ltYm9sICYmIGVbU3ltYm9sLml0ZXJhdG9yXSB8fCBlWyJAQGl0ZXJhdG9yIl07IGlmIChudWxsICE9IHUpIHsgdmFyIGkgPSBbXSwgbyA9ICEwLCBhID0gITE7IHRyeSB7IGZvciAodSA9IHUuY2FsbChlKTsgIShvID0gKG4gPSB1Lm5leHQoKSkuZG9uZSkgJiYgKGkucHVzaChuLnZhbHVlKSwgIXQgfHwgaS5sZW5ndGggIT09IHQpOyBvID0gITApOyB9IGNhdGNoIChlKSB7IGEgPSAhMCwgciA9IGUgfSBmaW5hbGx5IHsgdHJ5IHsgbyB8fCBudWxsID09IHUucmV0dXJuIHx8IHUucmV0dXJuKCkgfSBmaW5hbGx5IHsgaWYgKGEpIHRocm93IHIgfSB9IHJldHVybiBpIH0gfShlLCB0KSB8fCAoMCwgci5fKShlLCB0KSB8fCBmdW5jdGlvbiAoKSB7IHRocm93IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKSB9KCkgfSB9LCA0NzgoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IF86ICgpID0+IGkgfSk7IHZhciByID0gbig3ODM1KSwgdSA9IG4oNTEzNCk7IGZ1bmN0aW9uIGkoZSkgeyByZXR1cm4gZnVuY3Rpb24gKGUpIHsgaWYgKEFycmF5LmlzQXJyYXkoZSkpIHJldHVybiAoMCwgci5fKShlKSB9KGUpIHx8IGZ1bmN0aW9uIChlKSB7IGlmICgidSIgPiB0eXBlb2YgU3ltYm9sICYmIG51bGwgIT0gZVtTeW1ib2wuaXRlcmF0b3JdIHx8IG51bGwgIT0gZVsiQEBpdGVyYXRvciJdKSByZXR1cm4gQXJyYXkuZnJvbShlKSB9KGUpIHx8ICgwLCB1Ll8pKGUpIHx8IGZ1bmN0aW9uICgpIHsgdGhyb3cgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKSB9KCkgfSB9LCAxNjQyKGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBmdW5jdGlvbiByKGUpIHsgcmV0dXJuIGUgJiYgInUiID4gdHlwZW9mIFN5bWJvbCAmJiBlLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgPyAic3ltYm9sIiA6IHR5cGVvZiBlIH0gbi5kKHQsIHsgXzogKCkgPT4gciB9KSB9LCA1MTM0KGUsIHQsIG4pIHsgInVzZSBzdHJpY3QiOyBuLmQodCwgeyBfOiAoKSA9PiB1IH0pOyB2YXIgciA9IG4oNzgzNSk7IGZ1bmN0aW9uIHUoZSwgdCkgeyBpZiAoZSkgeyBpZiAoInN0cmluZyIgPT0gdHlwZW9mIGUpIHJldHVybiAoMCwgci5fKShlLCB0KTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwgLTEpOyBpZiAoIk9iamVjdCIgPT09IG4gJiYgZS5jb25zdHJ1Y3RvciAmJiAobiA9IGUuY29uc3RydWN0b3IubmFtZSksICJNYXAiID09PSBuIHx8ICJTZXQiID09PSBuKSByZXR1cm4gQXJyYXkuZnJvbShuKTsgaWYgKCJBcmd1bWVudHMiID09PSBuIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gKDAsIHIuXykoZSwgdCkgfSB9IH0sIDE2MzUoZSwgdCwgbikgeyAidXNlIHN0cmljdCI7IG4uZCh0LCB7IFlIOiAoKSA9PiByIH0pOyBmdW5jdGlvbiByKGUsIHQpIHsgdmFyIG4sIHIsIHUsIGkgPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbiAoKSB7IGlmICgxICYgdVswXSkgdGhyb3cgdVsxXTsgcmV0dXJuIHVbMV0gfSwgdHJ5czogW10sIG9wczogW10gfSwgbyA9IE9iamVjdC5jcmVhdGUoKCJmdW5jdGlvbiIgPT0gdHlwZW9mIEl0ZXJhdG9yID8gSXRlcmF0b3IgOiBPYmplY3QpLnByb3RvdHlwZSk7IHJldHVybiBvLm5leHQgPSBhKDApLCBvLnRocm93ID0gYSgxKSwgby5yZXR1cm4gPSBhKDIpLCAiZnVuY3Rpb24iID09IHR5cGVvZiBTeW1ib2wgJiYgKG9bU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMgfSksIG87IGZ1bmN0aW9uIGEoYSkgeyByZXR1cm4gZnVuY3Rpb24gKHMpIHsgdmFyIGMgPSBbYSwgc107IGlmIChuKSB0aHJvdyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTsgZm9yICg7IG8gJiYgKG8gPSAwLCBjWzBdICYmIChpID0gMCkpLCBpOyl0cnkgeyBpZiAobiA9IDEsIHIgJiYgKHUgPSAyICYgY1swXSA/IHIucmV0dXJuIDogY1swXSA/IHIudGhyb3cgfHwgKCh1ID0gci5yZXR1cm4pICYmIHUuY2FsbChyKSwgMCkgOiByLm5leHQpICYmICEodSA9IHUuY2FsbChyLCBjWzFdKSkuZG9uZSkgcmV0dXJuIHU7IHN3aXRjaCAociA9IDAsIHUgJiYgKGMgPSBbMiAmIGNbMF0sIHUudmFsdWVdKSwgY1swXSkgeyBjYXNlIDA6IGNhc2UgMTogdSA9IGM7IGJyZWFrOyBjYXNlIDQ6IHJldHVybiBpLmxhYmVsKyssIHsgdmFsdWU6IGNbMV0sIGRvbmU6ICExIH07IGNhc2UgNTogaS5sYWJlbCsrLCByID0gY1sxXSwgYyA9IFswXTsgY29udGludWU7IGNhc2UgNzogYyA9IGkub3BzLnBvcCgpLCBpLnRyeXMucG9wKCk7IGNvbnRpbnVlOyBkZWZhdWx0OiBpZiAoISh1ID0gKHUgPSBpLnRyeXMpLmxlbmd0aCA+IDAgJiYgdVt1Lmxlbmd0aCAtIDFdKSAmJiAoNiA9PT0gY1swXSB8fCAyID09PSBjWzBdKSkgeyBpID0gMDsgY29udGludWUgfSBpZiAoMyA9PT0gY1swXSAmJiAoIXUgfHwgY1sxXSA+IHVbMF0gJiYgY1sxXSA8IHVbM10pKSB7IGkubGFiZWwgPSBjWzFdOyBicmVhayB9IGlmICg2ID09PSBjWzBdICYmIGkubGFiZWwgPCB1WzFdKSB7IGkubGFiZWwgPSB1WzFdLCB1ID0gYzsgYnJlYWsgfSBpZiAodSAmJiBpLmxhYmVsIDwgdVsyXSkgeyBpLmxhYmVsID0gdVsyXSwgaS5vcHMucHVzaChjKTsgYnJlYWsgfSB1WzJdICYmIGkub3BzLnBvcCgpLCBpLnRyeXMucG9wKCk7IGNvbnRpbnVlIH1jID0gdC5jYWxsKGUsIGkpIH0gY2F0Y2ggKGUpIHsgYyA9IFs2LCBlXSwgciA9IDAgfSBmaW5hbGx5IHsgbiA9IHUgPSAwIH0gaWYgKDUgJiBjWzBdKSB0aHJvdyBjWzFdOyByZXR1cm4geyB2YWx1ZTogY1swXSA/IGNbMV0gOiB2b2lkIDAsIGRvbmU6ICEwIH0gfSB9IH0gfSB9LCBhID0ge307IGZ1bmN0aW9uIHMoZSkgeyB2YXIgdCA9IGFbZV07IGlmICh2b2lkIDAgIT09IHQpIHJldHVybiB0LmV4cG9ydHM7IHZhciBuID0gYVtlXSA9IHsgaWQ6IGUsIGxvYWRlZDogITEsIGV4cG9ydHM6IHt9IH07IHJldHVybiBvW2VdLmNhbGwobi5leHBvcnRzLCBuLCBuLmV4cG9ydHMsIHMpLCBuLmxvYWRlZCA9ICEwLCBuLmV4cG9ydHMgfSBzLm0gPSBvLCBzLm4gPSBlID0+IHsgdmFyIHQgPSBlICYmIGUuX19lc01vZHVsZSA/ICgpID0+IGUuZGVmYXVsdCA6ICgpID0+IGU7IHJldHVybiBzLmQodCwgeyBhOiB0IH0pLCB0IH0sIHQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgPyBlID0+IE9iamVjdC5nZXRQcm90b3R5cGVPZihlKSA6IGUgPT4gZS5fX3Byb3RvX18sIHMudCA9IGZ1bmN0aW9uIChuLCByKSB7IGlmICgxICYgciAmJiAobiA9IHRoaXMobikpLCA4ICYgciB8fCAib2JqZWN0IiA9PSB0eXBlb2YgbiAmJiBuICYmICg0ICYgciAmJiBuLl9fZXNNb2R1bGUgfHwgMTYgJiByICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIG4udGhlbikpIHJldHVybiBuOyB2YXIgdSA9IE9iamVjdC5jcmVhdGUobnVsbCk7IHMucih1KTsgdmFyIGkgPSB7fTsgZSA9IGUgfHwgW251bGwsIHQoe30pLCB0KFtdKSwgdCh0KV07IGZvciAodmFyIG8gPSAyICYgciAmJiBuOyAoIm9iamVjdCIgPT0gdHlwZW9mIG8gfHwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgbykgJiYgIX5lLmluZGV4T2Yobyk7IG8gPSB0KG8pKU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG8pLmZvckVhY2goZSA9PiB7IGlbZV0gPSAoKSA9PiBuW2VdIH0pOyByZXR1cm4gaS5kZWZhdWx0ID0gKCkgPT4gbiwgcy5kKHUsIGkpLCB1IH0sIHMuZCA9IChlLCB0KSA9PiB7IGZvciAodmFyIG4gaW4gdCkgcy5vKHQsIG4pICYmICFzLm8oZSwgbikgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIG4sIHsgZW51bWVyYWJsZTogITAsIGdldDogdFtuXSB9KSB9LCBzLmYgPSB7fSwgcy5lID0gZSA9PiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhzLmYpLnJlZHVjZSgodCwgbikgPT4gKHMuZltuXShlLCB0KSwgdCksIFtdKSksIHMudSA9IGUgPT4gIiIgKyAoeyAxMTQ6ICJqd3BsYXllci5jb250cm9scy50aXplbiIsIDE1NzogInByb3ZpZGVyLmFpcnBsYXkiLCAyMTc6ICJwcm92aWRlci5obHNqcyIsIDMwMDogImp3cGxheWVyLmNvbnRyb2xzIiwgMzA1OiAiandwbGF5ZXIuY29yZS5jb250cm9scy5wb2x5ZmlsbHMuaHRtbDUiLCA0MzA6ICJwb2x5ZmlsbHMud2VidnR0IiwgNDYzOiAidnR0cGFyc2VyIiwgNTE3OiAiandwbGF5ZXIuY29yZS5jb250cm9scyIsIDU0NzogInByb3ZpZGVyLmh0bWw1IiwgNTg4OiAicHJvdmlkZXIuY2FzdCIsIDU5OiAiandwbGF5ZXIuY29yZS5jb250cm9scy5odG1sNSIsIDYwNTogInByb3ZpZGVyLnNoYWthIiwgNjYzOiAiandwbGF5ZXIuY29yZS5jb250cm9scy5wb2x5ZmlsbHMiLCA2NjY6ICJwb2x5ZmlsbHMuaW50ZXJzZWN0aW9uLW9ic2VydmVyIiwgNzM4OiAiandwbGF5ZXIuYW1wIiwgNzYxOiAicmVsYXRlZCIsIDg5NTogImp3cGxheWVyLnN0YXRzIiwgOTA1OiAiandwbGF5ZXIuY29yZSIgfSlbZV0gKyAiLmpzIiwgcy5vID0gKGUsIHQpID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCB0KSwgbiA9IHt9LCBzLmwgPSBmdW5jdGlvbiAoZSwgdCwgciwgdSkgeyBpZiAobltlXSkgcmV0dXJuIHZvaWQgbltlXS5wdXNoKHQpOyBpZiAodm9pZCAwICE9PSByKSBmb3IgKHZhciBpLCBvLCBhID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLCBjID0gMDsgYyA8IGEubGVuZ3RoOyBjKyspIHsgdmFyIGwgPSBhW2NdOyBpZiAobC5nZXRBdHRyaWJ1dGUoInNyYyIpID09IGUgfHwgbC5nZXRBdHRyaWJ1dGUoImRhdGEtcnNwYWNrIikgPT0gImp3cGxheWVyOiIgKyByKSB7IGkgPSBsOyBicmVhayB9IH0gaSB8fCAobyA9ICEwLCAoaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpKS50aW1lb3V0ID0gNTUsIHMubmMgJiYgaS5zZXRBdHRyaWJ1dGUoIm5vbmNlIiwgcy5uYyksIGkuc2V0QXR0cmlidXRlKCJkYXRhLXJzcGFjayIsICJqd3BsYXllcjoiICsgciksIGkuc3JjID0gZSksIG5bZV0gPSBbdF07IHZhciBmID0gZnVuY3Rpb24gKHQsIHIpIHsgaS5vbmVycm9yID0gaS5vbmxvYWQgPSBudWxsLCBjbGVhclRpbWVvdXQoZCk7IHZhciB1ID0gbltlXTsgaWYgKGRlbGV0ZSBuW2VdLCBpLnBhcmVudE5vZGUgJiYgaS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGkpLCB1ICYmIHUuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gZShyKSB9KSwgdCkgcmV0dXJuIHQocikgfSwgZCA9IHNldFRpbWVvdXQoZi5iaW5kKG51bGwsIHZvaWQgMCwgeyB0eXBlOiAidGltZW91dCIsIHRhcmdldDogaSB9KSwgNTVlMyk7IGkub25lcnJvciA9IGYuYmluZChudWxsLCBpLm9uZXJyb3IpLCBpLm9ubG9hZCA9IGYuYmluZChudWxsLCBpLm9ubG9hZCksIG8gJiYgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChpKSB9LCBzLnIgPSBlID0+IHsgInUiID4gdHlwZW9mIFN5bWJvbCAmJiBTeW1ib2wudG9TdHJpbmdUYWcgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogIk1vZHVsZSIgfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6ICEwIH0pIH0sIHMubm1kID0gZSA9PiAoZS5wYXRocyA9IFtdLCBlLmNoaWxkcmVuIHx8IChlLmNoaWxkcmVuID0gW10pLCBlKSwgcy5uYyA9IHZvaWQgMCwgcy5wID0gIiIsIHIgPSB7IDQ3MDogMCB9LCBzLmYuaiA9IGZ1bmN0aW9uIChlLCB0KSB7IHZhciBuID0gcy5vKHIsIGUpID8gcltlXSA6IHZvaWQgMDsgaWYgKDAgIT09IG4pIGlmIChuKSB0LnB1c2goblsyXSk7IGVsc2UgeyB2YXIgdSA9IG5ldyBQcm9taXNlKCh0LCB1KSA9PiBuID0gcltlXSA9IFt0LCB1XSk7IHQucHVzaChuWzJdID0gdSk7IHZhciBpID0gcy5wICsgcy51KGUpLCBvID0gRXJyb3IoKTsgcy5sKGksIGZ1bmN0aW9uICh0KSB7IGlmIChzLm8ociwgZSkgJiYgKDAgIT09IChuID0gcltlXSkgJiYgKHJbZV0gPSB2b2lkIDApLCBuKSkgeyB2YXIgdSA9IHQgJiYgKCJsb2FkIiA9PT0gdC50eXBlID8gIm1pc3NpbmciIDogdC50eXBlKSwgaSA9IHQgJiYgdC50YXJnZXQgJiYgdC50YXJnZXQuc3JjOyBvLm1lc3NhZ2UgPSAiTG9hZGluZyBjaHVuayAiICsgZSArICIgZmFpbGVkLlxuKCIgKyB1ICsgIjogIiArIGkgKyAiKSIsIG8ubmFtZSA9ICJDaHVua0xvYWRFcnJvciIsIG8udHlwZSA9IHUsIG8ucmVxdWVzdCA9IGksIG5bMV0obykgfSB9LCAiY2h1bmstIiArIGUsIGUpIH0gfSwgdSA9IChlLCB0KSA9PiB7IHZhciBuLCB1LCBpID0gdFswXSwgbyA9IHRbMV0sIGEgPSB0WzJdLCBjID0gMDsgaWYgKGkuc29tZShlID0+IDAgIT09IHJbZV0pKSB7IGZvciAobiBpbiBvKSBzLm8obywgbikgJiYgKHMubVtuXSA9IG9bbl0pOyBhICYmIGEocykgfSBmb3IgKGUgJiYgZSh0KTsgYyA8IGkubGVuZ3RoOyBjKyspdSA9IGlbY10sIHMubyhyLCB1KSAmJiByW3VdICYmIHJbdV1bMF0oKSwgclt1XSA9IDAgfSwgKGkgPSBzZWxmLndlYnBhY2tDaHVua2p3cGxheWVyID0gc2VsZi53ZWJwYWNrQ2h1bmtqd3BsYXllciB8fCBbXSkuZm9yRWFjaCh1LmJpbmQobnVsbCwgMCkpLCBpLnB1c2ggPSB1LmJpbmQobnVsbCwgaS5wdXNoLmJpbmQoaSkpOyB2YXIgYyA9IHMoMzc4Nyk7IHdpbmRvdy5qd3BsYXllciA9IGMuZGVmYXVsdCB9KSgpOwoKdmFyIGp3RGVmYXVsdHMgPSB7CiAgImFzcGVjdHJhdGlvIjogIjE2OjkiLAogICJhdXRvc3RhcnQiOiB0cnVlLAogICJjYXN0Ijoge30sCiAgImNvbnRyb2xzIjogdHJ1ZSwKICAiZGlzcGxheWRlc2NyaXB0aW9uIjogdHJ1ZSwKICAiZGlzcGxheXRpdGxlIjogdHJ1ZSwKICAiaGVpZ2h0IjogMzYwLAogICJrZXkiOiAiNHkzdnVIUGtialZZNFhGdWQycmtaeThrZ2pSUDJ2ZTF3YjVaaEVzOU9JVWs5UGJidmFXRTdOS1E0YlZydko3KyIsCiAgIm11dGUiOiBmYWxzZSwKICAicGgiOiAxLAogICJwaWQiOiAiS0I1ekZ0N0EiLAogICJwbGF5YmFja1JhdGVDb250cm9scyI6IGZhbHNlLAogICJwcmVsb2FkIjogIm1ldGFkYXRhIiwKICAicmVwZWF0IjogZmFsc2UsCiAgInN0cmV0Y2hpbmciOiAidW5pZm9ybSIsCiAgIndpZHRoIjogIjEwMCUiCn07Cmp3cGxheWVyLmRlZmF1bHRzID0gandEZWZhdWx0czsK';
